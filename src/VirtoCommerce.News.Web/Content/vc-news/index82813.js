import{U as $,_ as F,w as U,S as K,E as Y,a as R,R as P,K as B,f as J,Y as Q,b as X,z as Z}from"./vc-shell-framework82813.js";import{c as ee,a as te,R as oe}from"./app-vendor-vue-router82813.js";import{d as I,o as V,r as g,c as A,a as N,b as u,e as ae,w as se,f as T,g as C,h as re}from"./app-vendor-vue-runtime-core82813.js";import{r as c,u as d,m as ne}from"./app-vendor-vue-reactivity82813.js";import{u as le}from"./app-vendor-vue-i18n82813.js";import{c as ie}from"./app-vendor-vue-runtime-dom82813.js";import"./app-vendor-vue82813.js";import"./app-vendor-vue-shared82813.js";import"./vc-shell-vendor-iconify82813.js";import"./vc-shell-vendor-floating82813.js";import"./vc-shell-vendor-vueuse82813.js";import"./vc-shell-vendor-lodash82813.js";import"./vc-shell-vendor-vue82813.js";import"./vc-shell-vendor-intlify82813.js";import"./vc-shell-vendor-tiptap82813.js";import"./vc-shell-vendor-prosemirror82813.js";import"./vc-shell-vendor-rope82813.js";import"./vc-shell-vendor-w3c82813.js";import"./vc-shell-vendor-orderedmap82813.js";import"./vc-shell-vendor-markdown82813.js";import"./vc-shell-vendor-mdurl82813.js";import"./vc-shell-vendor-uc82813.js";import"./vc-shell-vendor-entities82813.js";import"./vc-shell-vendor-linkify82813.js";import"./vc-shell-vendor-punycode82813.js";import"./vc-shell-vendor-boolbase82813.js";import"./vc-shell-vendor-linkifyjs82813.js";import"./vc-shell-vendor-prettier82813.js";import"./vc-shell-vendor-dompurify82813.js";import"./app-vendor-vee-validate82813.js";import"./vc-shell-vendor-vuepic82813.js";import"./vc-shell-vendor-date82813.js";import"./vc-shell-vendor-swiper82813.js";import"./vc-shell-vendor-dom782813.js";import"./vc-shell-vendor-ssr82813.js";import"./vc-shell-vendor-moment82813.js";import"./vc-shell-vendor-cypress82813.js";import"./vc-shell-vendor-microsoft82813.js";import"./vc-shell-vendor-nevware2182813.js";import"./vc-shell-vendor-vue382813.js";import"./vc-shell-vendor-vee82813.js";import"./vc-shell-vendor-iso82813.js";import"./vc-shell-vendor-headlessui82813.js";import"./vc-shell-vendor-truncate82813.js";import"./vc-shell-vendor-cheerio82813.js";import"./vc-shell-vendor-domutils82813.js";import"./vc-shell-vendor-dom82813.js";import"./vc-shell-vendor-domelementtype82813.js";import"./vc-shell-vendor-domhandler82813.js";import"./vc-shell-vendor-css82813.js";import"./vc-shell-vendor-nth82813.js";import"./vc-shell-vendor-parse582813.js";import"./vc-shell-vendor-htmlparser282813.js";import"./vc-shell-vendor-semver82813.js";import"./app-vendor-intlify-core-base82813.js";import"./app-vendor-intlify-shared82813.js";import"./app-vendor-intlify-message-compiler82813.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}})();const ce="/apps/vc-news/assets/logo.svg",O=I({__name:"App",setup(e){const a=c(!1),l="0.0.0",{isAuthenticated:r}=$();return V(async()=>{try{r.value&&(a.value=!0)}catch(t){throw t}}),(t,o)=>{const n=g("VcApp");return N(),A(n,{"is-ready":a.value,logo:d(ce),title:"Vc News",version:d(l)},null,8,["is-ready","logo","version"])}}}),_="/apps/vc-news/assets/logo-white.svg",E="/apps/vc-news/assets/background.jpg",pe=[{path:"/",component:O,name:"App",meta:{root:!0},children:[],redirect:e=>e.name==="App"?{path:"/vc-news",params:e.params}:e.path},{name:"Login",path:"/login",component:F,props:()=>({logo:_,background:E,title:"Vc News"})},{name:"Invite",path:"/invite",component:U,props:e=>({userId:e.query.userId,token:e.query.token,userName:e.query.userName,logo:_,background:E})},{name:"ResetPassword",path:"/resetpassword",component:K,props:e=>({userId:e.query.userId,token:e.query.token,userName:e.query.userName,logo:_,background:E})},{name:"ChangePassword",path:"/changepassword",component:Y,meta:{forced:!0},props:e=>({background:E})},{path:"/:pathMatch(.*)*",component:O,beforeEnter:async e=>{const{routeResolver:a}=R();return a(e)}}],b=ee({history:te("/apps/vc-news/"),routes:[]});pe.forEach(e=>b.addRoute(e));const k="English",de={language_name:k},ue=Object.freeze(Object.defineProperty({__proto__:null,default:de,language_name:k},Symbol.toStringTag,{value:"Module"})),me=Object.freeze(Object.defineProperty({__proto__:null,en:ue},Symbol.toStringTag,{value:"Module"})),ge=()=>{const e=c([]),a=c(),{loading:l,action:r}=P(async o=>{e.value=[]}),t=B(l);return{data:u(()=>e.value),loading:u(()=>t.value),totalCount:u(()=>a.value?.totalCount),pages:u(()=>Math.ceil(a.value?.totalCount/20)),currentPage:0/Math.max(1,20)+1,getItems:r}},fe=()=>{const e=c({}),{loading:a,action:l}=P(async t=>{e.value={}}),r=B(a);return{item:u(()=>e.value),loading:u(()=>r.value),getItem:l}},M=I({url:"/vc-news-details",name:"VcNewsDetails",__name:"details",props:{expanded:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},param:{default:void 0}},emits:["parent:call","collapse:blade","expand:blade","close:blade"],setup(e){const a=e,{loading:l,getItem:r}=fe(),t=c([]);return V(async()=>{a.param&&await r({id:a.param})}),(o,n)=>{const S=g("VcForm"),w=g("VcContainer"),h=g("VcBlade"),L=ae("loading");return se((N(),A(h,{title:o.$t("VC_NEWS.PAGES.DETAILS.TITLE"),expanded:o.expanded,closable:o.closable,width:"70%","toolbar-items":t.value,onClose:n[0]||(n[0]=p=>o.$emit("close:blade")),onExpand:n[1]||(n[1]=p=>o.$emit("expand:blade")),onCollapse:n[2]||(n[2]=p=>o.$emit("collapse:blade"))},{default:T(()=>[C(w,{class:"tw-p-2"},{default:T(()=>[C(S)]),_:1})]),_:1},8,["title","expanded","closable","toolbar-items"])),[[L,d(l)]])}}}),be=I({url:"/vc-news",name:"VcNewsList",isWorkspace:!0,menuItem:{title:"VC_NEWS.MENU.TITLE",icon:"lucide-file",priority:1},__name:"list",props:{expanded:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},param:{},options:{}},emits:["parent:call","collapse:blade","expand:blade","open:blade","close:blade"],setup(e,{expose:a}){const l=e,{t:r}=le({useScope:"global"}),{openBlade:t}=R(),{getItems:o,data:n,loading:S,totalCount:w,pages:h,currentPage:L}=ge(),p=c("createdDate:DESC"),j=c(),v=c();re(()=>l.param,s=>{v.value=s},{immediate:!0}),V(async()=>{await o()});const H=c([{id:"refresh",title:u(()=>r("VC_NEWS.PAGES.LIST.TOOLBAR.REFRESH")),icon:"material-refresh",async clickHandler(){await q()}}]),W=c([]),x=u(()=>r("VC_NEWS.PAGES.LIST.TITLE")),q=async()=>{await o()},z=s=>{t({blade:ne(M),param:s.id,onOpen(){v.value=s.id},onClose(){v.value=void 0}})},G=s=>{const i=["DESC","ASC",""];if(s.sortable)if(p.value.split(":")[0]===s.id){const y=i.findIndex(m=>{const f=p.value.split(":")[1];return f?m===f:m===""});if(y!==-1){const m=i[(y+1)%i.length];m===""?p.value=`${s.id}`:p.value=`${s.id}:${m}`}}else p.value=`${s.id}:${i[0]}`};return a({title:x}),(s,i)=>{const y=g("VcTable"),m=g("VcBlade");return N(),A(m,{title:s.$t("VC_NEWS.PAGES.LIST.TITLE"),width:"50%",expanded:s.expanded,closable:s.closable,"toolbar-items":H.value,onClose:i[0]||(i[0]=f=>s.$emit("close:blade")),onExpand:i[1]||(i[1]=f=>s.$emit("expand:blade")),onCollapse:i[2]||(i[2]=f=>s.$emit("collapse:blade"))},{default:T(()=>[C(y,{expanded:s.expanded,class:"tw-grow tw-basis-0",multiselect:"",loading:d(S),columns:W.value,sort:p.value,pages:d(h),"total-count":d(w),"search-value":j.value,"current-page":d(L),"search-placeholder":s.$t("VC_NEWS.PAGES.LIST.SEARCH.PLACEHOLDER"),"total-label":s.$t("VC_NEWS.PAGES.LIST.TABLE.TOTALS"),"selected-item-id":v.value,"state-key":"VC_NEWS",items:d(n),onItemClick:z,onHeaderClick:G},null,8,["expanded","loading","columns","sort","pages","total-count","search-value","current-page","search-placeholder","total-label","selected-item-id","items"])]),_:1},8,["title","expanded","closable","toolbar-items"])}}}),ve=Object.freeze(Object.defineProperty({__proto__:null,Details:M,List:be},Symbol.toStringTag,{value:"Module"})),D={MENU:{TITLE:"Vc News"},PAGES:{LIST:{TITLE:"Vc News list",TOOLBAR:{REFRESH:"Refresh"},SEARCH:{PLACEHOLDER:"Search keywords"},TABLE:{TOTALS:"Count:",HEADER:{}}},DETAILS:{TITLE:"Vc News details"},ALERTS:{CLOSE_CONFIRMATION:"You have unsaved changes. Close anyway?"}}},ye={VC_NEWS:D},Ee=Object.freeze(Object.defineProperty({__proto__:null,VC_NEWS:D,default:ye},Symbol.toStringTag,{value:"Module"})),Se=Object.freeze(Object.defineProperty({__proto__:null,en:Ee},Symbol.toStringTag,{value:"Module"})),we=J(ve,Se);async function he(){const{loadUser:e}=$();try{await e()}catch{}const{currentLocale:a,setLocale:l}=Q(),r=ie(oe).use(X,{router:b,i18n:{locale:"en",fallbackLocale:"en"}}).use(we,{router:b}).use(b);Object.entries(me).forEach(([t,o])=>{r.config.globalProperties.$mergeLocaleMessage(t,o)}),l(a.value),r.config.errorHandler=t=>{Z.error(t.toString(),{timeout:5e3})},await b.isReady(),r.mount("#app")}he();
