import{K as hn,Y as sn,n as El,Z as zr,N as ku,I as Wn,J as Et,H as dt,$ as Mn,a as _t,j as ya,z as gn,O as F,V as qo,k as le,L as De,C as ee,b as rt,d as $e,W as Pl,U as Ce,c as Ct,e as ke,f as hp,r as re,t as gp,g as qt,B as jo,h as pp,S as no,F as vp,i as mp,l as ht,T as Dl,m as Rl,o as _p,p as ic,q as vt,s as Ya,u as kt,v as Kr,P as ea,w as yp,x as pn,y as At,A as wp,R as Xr,D as vf,E as Qd,G as Zn,M as cn,Q as $p,X as Zd,_ as Oe,a0 as cr,a1 as vs,a2 as eh,a3 as th,a4 as bp,a5 as Cp,a6 as gi,a7 as Sp,a8 as Ip,a9 as Tp,aa as ta,ab as nh,ac as Pn,ad as rh,ae as oh,af as kp,ag as Ml,ah as xp,ai as Ep,aj as ih,ak as Pp,al as xu,am as Dp}from"./vc-shell-vendor-nevware2193222.js";let Nr=class extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}},Nl=class extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}},Wt=class extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}},Rp=class extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}},Mp=class extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}},Np=class extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}},mf=class extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}},Ap=class extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}},ah=class{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}},ac=class{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}};var D;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(D||(D={}));let na=class{constructor(){}log(e,n){}};na.instance=new na;const qp="8.0.7";let Ye=class{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}};class Ve{static get isBrowser(){return!Ve.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Ve.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Ve.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function ra(t,e){let n="";return Jr(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${Up(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function Up(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const o=r<16?"0":"";n+=`0x${o}${r.toString(16)} `}),n.substr(0,n.length-1)}function Jr(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function sh(t,e,n,r,o,i){const a={},[s,c]=ti();a[s]=c,t.log(D.Trace,`(${e} transport) sending data. ${ra(o,i.logMessageContent)}.`);const u=Jr(o)?"arraybuffer":"text",l=await n.post(r,{content:o,headers:{...a,...i.headers},responseType:u,timeout:i.timeout,withCredentials:i.withCredentials});t.log(D.Trace,`(${e} transport) request complete. Response status: ${l.statusCode}.`)}function Lp(t){return t===void 0?new ms(D.Information):t===null?na.instance:t.log!==void 0?t:new ms(t)}let Op=class{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}},ms=class{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${D[e]}: ${n}`;switch(e){case D.Critical:case D.Error:this.out.error(r);break;case D.Warning:this.out.warn(r);break;case D.Information:this.out.info(r);break;default:this.out.log(r);break}}}};function ti(){let t="X-SignalR-User-Agent";return Ve.isNode&&(t="User-Agent"),[t,Hp(qp,jp(),Bp(),Fp())]}function Hp(t,e,n,r){let o="Microsoft SignalR/";const i=t.split(".");return o+=`${i[0]}.${i[1]}`,o+=` (${t}; `,e&&e!==""?o+=`${e}; `:o+="Unknown OS; ",o+=`${n}`,r?o+=`; ${r}`:o+="; Unknown Runtime Version",o+=")",o}function jp(){if(Ve.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Fp(){if(Ve.isNode)return process.versions.node}function Bp(){return Ve.isNode?"NodeJS":"Browser"}function yc(t){return t.stack?t.stack:t.message?t.message:`${t}`}function Vp(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}let Wp=class extends ac{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||Ve.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Vp());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Wt;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new Wt});let o=null;if(e.timeout){const s=e.timeout;o=setTimeout(()=>{n.abort(),this._logger.log(D.Warning,"Timeout from HTTP request."),r=new Nl},s)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Jr(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(s){throw r||(this._logger.log(D.Warning,`Error from HTTP request. ${s}.`),s)}finally{o&&clearTimeout(o),e.abortSignal&&(e.abortSignal.onabort=null)}if(!i.ok){const s=await _f(i,"text");throw new Nr(s||i.statusText,i.status)}const a=await _f(i,e.responseType);return new ah(i.status,i.statusText,a)}getCookieString(e){let n="";return Ve.isNode&&this._jar&&this._jar.getCookies(e,(r,o)=>n=o.join("; ")),n}};function _f(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}let zp=class extends ac{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Wt):e.method?e.url?new Promise((n,r)=>{const o=new XMLHttpRequest;o.open(e.method,e.url,!0),o.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Jr(e.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=e.headers;i&&Object.keys(i).forEach(a=>{o.setRequestHeader(a,i[a])}),e.responseType&&(o.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{o.abort(),r(new Wt)}),e.timeout&&(o.timeout=e.timeout),o.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),o.status>=200&&o.status<300?n(new ah(o.status,o.statusText,o.response||o.responseText)):r(new Nr(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(D.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),r(new Nr(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(D.Warning,"Timeout from HTTP request."),r(new Nl)},o.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}},Kp=class extends ac{constructor(e){if(super(),typeof fetch<"u"||Ve.isNode)this._httpClient=new Wp(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new zp(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Wt):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}},Sn=class Qa{static write(e){return`${e}${Qa.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Qa.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(Qa.RecordSeparator);return n.pop(),n}};Sn.RecordSeparatorCode=30;Sn.RecordSeparator=String.fromCharCode(Sn.RecordSeparatorCode);let Xp=class{writeHandshakeRequest(e){return Sn.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(Jr(e)){const a=new Uint8Array(e),s=a.indexOf(Sn.RecordSeparatorCode);if(s===-1)throw new Error("Message is incomplete.");const c=s+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,c))),r=a.byteLength>c?a.slice(c).buffer:null}else{const a=e,s=a.indexOf(Sn.RecordSeparator);if(s===-1)throw new Error("Message is incomplete.");const c=s+1;n=a.substring(0,c),r=a.length>c?a.substring(c):null}const o=Sn.parse(n),i=JSON.parse(o[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[r,i]}};var _e;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(_e||(_e={}));let Jp=class{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Op(this,e)}},Gp=class{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let o=()=>{},i=()=>{};Jr(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((a,s)=>{o=a,i=s})),this._messages.push(new Yp(n,this._totalMessageCount,o,i))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const o=this._messages[r];if(o._id<=e.sequenceId)n=r,Jr(o._message)?this._bufferedByteCount-=o._message.byteLength:this._bufferedByteCount-=o._message.length,o._resolver();else if(this._bufferedByteCount<this._bufferSize)o._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==_e.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:_e.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case _e.Invocation:case _e.StreamItem:case _e.Completion:case _e.StreamInvocation:case _e.CancelInvocation:return!0;case _e.Close:case _e.Sequence:case _e.Ping:case _e.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:_e.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}},Yp=class{constructor(e,n,r,o){this._message=e,this._id=n,this._resolver=r,this._rejector=o}};const Qp=30*1e3,Zp=15*1e3,ev=1e5;var Fe;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(Fe||(Fe={}));let tv=class ch{static create(e,n,r,o,i,a,s){return new ch(e,n,r,o,i,a,s)}constructor(e,n,r,o,i,a,s){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(D.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ye.isRequired(e,"connection"),Ye.isRequired(n,"logger"),Ye.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=i??Qp,this.keepAliveIntervalInMilliseconds=a??Zp,this._statefulReconnectBufferSize=s??ev,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=o,this._handshakeProtocol=new Xp,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Fe.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:_e.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Fe.Disconnected&&this._connectionState!==Fe.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Fe.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Fe.Connecting,this._logger.log(D.Debug,"Starting HubConnection.");try{await this._startInternal(),Ve.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Fe.Connected,this._connectionStarted=!0,this._logger.log(D.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Fe.Disconnected,this._logger.log(D.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(D.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(D.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.reconnect&&(this._messageBuffer=new Gp(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(D.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Fe.Disconnected)return this._logger.log(D.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Fe.Disconnecting)return this._logger.log(D.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Fe.Disconnecting,this._logger.log(D.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(D.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Fe.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Wt("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,o]=this._replaceStreamingParams(n),i=this._createStreamInvocation(e,n,o);let a;const s=new Jp;return s.cancelCallback=()=>{const c=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],a.then(()=>this._sendWithProtocol(c))},this._callbacks[i.invocationId]=(c,u)=>{if(u){s.error(u);return}else c&&(c.type===_e.Completion?c.error?s.error(new Error(c.error)):s.complete():s.next(c.item))},a=this._sendWithProtocol(i).catch(c=>{s.error(c),delete this._callbacks[i.invocationId]}),this._launchStreams(r,a),s}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,o]=this._replaceStreamingParams(n),i=this._sendWithProtocol(this._createInvocation(e,n,!0,o));return this._launchStreams(r,i),i}invoke(e,...n){const[r,o]=this._replaceStreamingParams(n),i=this._createInvocation(e,n,!1,o);return new Promise((a,s)=>{this._callbacks[i.invocationId]=(u,l)=>{if(l){s(l);return}else u&&(u.type===_e.Completion?u.error?s(new Error(u.error)):a(u.result):s(new Error(`Unexpected message type: ${u.type}`)))};const c=this._sendWithProtocol(i).catch(u=>{s(u),delete this._callbacks[i.invocationId]});this._launchStreams(r,c)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const o=r.indexOf(n);o!==-1&&(r.splice(o,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case _e.Invocation:this._invokeClientMethod(r).catch(o=>{this._logger.log(D.Error,`Invoke client method threw error: ${yc(o)}`)});break;case _e.StreamItem:case _e.Completion:{const o=this._callbacks[r.invocationId];if(o){r.type===_e.Completion&&delete this._callbacks[r.invocationId];try{o(r)}catch(i){this._logger.log(D.Error,`Stream callback threw error: ${yc(i)}`)}}break}case _e.Ping:break;case _e.Close:{this._logger.log(D.Information,"Close message received from server.");const o=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}case _e.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case _e.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(D.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(o){const i="Error parsing handshake response: "+o;this._logger.log(D.Error,i);const a=new Error(i);throw this._handshakeRejecter(a),a}if(n.error){const o="Server returned handshake error: "+n.error;this._logger.log(D.Error,o);const i=new Error(o);throw this._handshakeRejecter(i),i}else this._logger.log(D.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Fe.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(D.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(D.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const o=r.slice(),i=!!e.invocationId;let a,s,c;for(const u of o)try{const l=a;a=await u.apply(this,e.arguments),i&&a&&l&&(this._logger.log(D.Error,`Multiple results provided for '${n}'. Sending error to server.`),c=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),s=void 0}catch(l){s=l,this._logger.log(D.Error,`A callback for the method '${n}' threw error '${l}'.`)}c?await this._sendWithProtocol(c):i?(s?c=this._createCompletionMessage(e.invocationId,`${s}`,null):a!==void 0?c=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(D.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),c=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):a&&this._logger.log(D.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(D.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Wt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Fe.Disconnecting?this._completeClose(e):this._connectionState===Fe.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Fe.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Fe.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),Ve.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(D.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,o=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(r++,0,o);if(i===null){this._logger.log(D.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Fe.Reconnecting,e?this._logger.log(D.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(D.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(a=>a.apply(this,[e]))}catch(a){this._logger.log(D.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Fe.Reconnecting){this._logger.log(D.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(D.Information,`Reconnect attempt number ${r} will start in ${i} ms.`),await new Promise(a=>{this._reconnectDelayHandle=setTimeout(a,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==Fe.Reconnecting){this._logger.log(D.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Fe.Connected,this._logger.log(D.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(a=>a.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(D.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(D.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Fe.Reconnecting){this._logger.log(D.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Fe.Disconnecting&&this._completeClose();return}o=a instanceof Error?a:new Error(a.toString()),i=this._getNextRetryDelay(r++,Date.now()-n,o)}}this._logger.log(D.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(o){return this._logger.log(D.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${o}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const o=n[r];try{o(null,e)}catch(i){this._logger.log(D.Error,`Stream 'error' callback called with '${e}' threw error: ${yc(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,o){if(r)return o.length!==0?{arguments:n,streamIds:o,target:e,type:_e.Invocation}:{arguments:n,target:e,type:_e.Invocation};{const i=this._invocationId;return this._invocationId++,o.length!==0?{arguments:n,invocationId:i.toString(),streamIds:o,target:e,type:_e.Invocation}:{arguments:n,invocationId:i.toString(),target:e,type:_e.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:o=>{let i;o instanceof Error?i=o.message:o&&o.toString?i=o.toString():i="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,i)))},next:o=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,o)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let o=0;o<e.length;o++){const i=e[o];if(this._isObservable(i)){const a=this._invocationId;this._invocationId++,n[a]=i,r.push(a.toString()),e.splice(o,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:o.toString(),streamIds:r,target:e,type:_e.StreamInvocation}:{arguments:n,invocationId:o.toString(),target:e,type:_e.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:_e.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:_e.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:_e.Completion}:{invocationId:e,result:r,type:_e.Completion}}_createCloseMessage(){return{type:_e.Close}}};const nv=[0,2e3,1e4,3e4,null];let yf=class{constructor(e){this._retryDelays=e!==void 0?[...e,null]:nv}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}},Ar=class{};Ar.Authorization="Authorization";Ar.Cookie="Cookie";let rv=class extends ac{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Ar.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Ar.Authorization]&&delete e.headers[Ar.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}};var et;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(et||(et={}));var ft;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(ft||(ft={}));let ov=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}},wf=class{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new ov,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(Ye.isRequired(e,"url"),Ye.isRequired(n,"transferFormat"),Ye.isIn(n,ft,"transferFormat"),this._url=e,this._logger.log(D.Trace,"(LongPolling transport) Connecting."),n===ft.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,o]=ti(),i={[r]:o,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};n===ft.Binary&&(a.responseType="arraybuffer");const s=`${e}&_=${Date.now()}`;this._logger.log(D.Trace,`(LongPolling transport) polling: ${s}.`);const c=await this._httpClient.get(s,a);c.statusCode!==200?(this._logger.log(D.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new Nr(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(D.Trace,`(LongPolling transport) polling: ${r}.`);const o=await this._httpClient.get(r,n);o.statusCode===204?(this._logger.log(D.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):o.statusCode!==200?(this._logger.log(D.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),this._closeError=new Nr(o.statusText||"",o.statusCode),this._running=!1):o.content?(this._logger.log(D.Trace,`(LongPolling transport) data received. ${ra(o.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(o.content)):this._logger.log(D.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof Nl?this._logger.log(D.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(D.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(D.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?sh(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(D.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(D.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=ti();e[n]=r;const o={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,o)}catch(a){i=a}i?i instanceof Nr&&(i.statusCode===404?this._logger.log(D.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(D.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(D.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(D.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(D.Trace,e),this.onclose(this._closeError)}}},iv=class{constructor(e,n,r,o){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=o,this.onreceive=null,this.onclose=null}async connect(e,n){return Ye.isRequired(e,"url"),Ye.isRequired(n,"transferFormat"),Ye.isIn(n,ft,"transferFormat"),this._logger.log(D.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,o)=>{let i=!1;if(n!==ft.Text){o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let a;if(Ve.isBrowser||Ve.isWebWorker)a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const s=this._httpClient.getCookieString(e),c={};c.Cookie=s;const[u,l]=ti();c[u]=l,a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{a.onmessage=s=>{if(this.onreceive)try{this._logger.log(D.Trace,`(SSE transport) data received. ${ra(s.data,this._options.logMessageContent)}.`),this.onreceive(s.data)}catch(c){this._close(c);return}},a.onerror=s=>{i?this._close():o(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{this._logger.log(D.Information,`SSE connected to ${this._url}`),this._eventSource=a,i=!0,r()}}catch(s){o(s);return}})}async send(e){return this._eventSource?sh(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}},av=class{constructor(e,n,r,o,i,a){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=o,this._webSocketConstructor=i,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,n){Ye.isRequired(e,"url"),Ye.isRequired(n,"transferFormat"),Ye.isIn(n,ft,"transferFormat"),this._logger.log(D.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((o,i)=>{e=e.replace(/^http/,"ws");let a;const s=this._httpClient.getCookieString(e);let c=!1;if(Ve.isNode||Ve.isReactNative){const u={},[l,d]=ti();u[l]=d,r&&(u[Ar.Authorization]=`Bearer ${r}`),s&&(u[Ar.Cookie]=s),a=new this._webSocketConstructor(e,void 0,{headers:{...u,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);a||(a=new this._webSocketConstructor(e)),n===ft.Binary&&(a.binaryType="arraybuffer"),a.onopen=u=>{this._logger.log(D.Information,`WebSocket connected to ${e}.`),this._webSocket=a,c=!0,o()},a.onerror=u=>{let l=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?l=u.error:l="There was an error with the transport",this._logger.log(D.Information,`(WebSockets transport) ${l}.`)},a.onmessage=u=>{if(this._logger.log(D.Trace,`(WebSockets transport) data received. ${ra(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(l){this._close(l);return}},a.onclose=u=>{if(c)this._close(u);else{let l=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?l=u.error:l="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(l))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(D.Trace,`(WebSockets transport) sending data. ${ra(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(D.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}};const $f=100;let sv=class{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ye.isRequired(e,"url"),this._logger=Lp(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,o=null;if(Ve.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=i("ws"),o=i("eventsource")}!Ve.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Ve.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!Ve.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Ve.isNode&&!n.EventSource&&typeof o<"u"&&(n.EventSource=o),this._httpClient=new rv(n.httpClient||new Kp(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ft.Binary,Ye.isIn(e,ft,"transferFormat"),this._logger.log(D.Debug,`Starting connection with transfer format '${ft[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(D.Error,n),await this._stopPromise,Promise.reject(new Wt(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(D.Error,n),Promise.reject(new Wt(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new uv(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(D.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(D.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(D.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(D.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===et.WebSockets)this.transport=this._constructTransport(et.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,o=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Wt("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const i=r.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}o++}while(r.url&&o<$f);if(o===$f&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof wf&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(D.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(D.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,o]=ti();n[r]=o;const i=this._resolveNegotiateUrl(e);this._logger.log(D.Debug,`Sending negotiation request: ${i}.`);try{const a=await this._httpClient.post(i,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(a.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const s=JSON.parse(a.content);return(!s.negotiateVersion||s.negotiateVersion<1)&&(s.connectionToken=s.connectionId),s.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new mf("Client didn't negotiate Stateful Reconnect but the server did.")):s}catch(a){let s="Failed to complete negotiation with the server: "+a;return a instanceof Nr&&a.statusCode===404&&(s=s+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(D.Error,s),Promise.reject(new mf(s))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,o){let i=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(D.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(i,o),this.connectionId=r.connectionId;return}const a=[],s=r.availableTransports||[];let c=r;for(const u of s){const l=this._resolveTransportOrError(u,n,o,c?.useStatefulReconnect===!0);if(l instanceof Error)a.push(`${u.transport} failed:`),a.push(l);else if(this._isITransport(l)){if(this.transport=l,!c){try{c=await this._getNegotiationResponse(e)}catch(d){return Promise.reject(d)}i=this._createConnectUrl(e,c.connectionToken)}try{await this._startTransport(i,o),this.connectionId=c.connectionId;return}catch(d){if(this._logger.log(D.Error,`Failed to start the transport '${u.transport}': ${d}`),c=void 0,a.push(new Np(`${u.transport} failed: ${d}`,et[u.transport])),this._connectionState!=="Connecting"){const v="Failed to select transport before stop() was called.";return this._logger.log(D.Debug,v),Promise.reject(new Wt(v))}}}}return a.length>0?Promise.reject(new Ap(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case et.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new av(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case et.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new iv(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case et.LongPolling:return new wf(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let o=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{o=!0}else{this._stopConnection(r);return}o&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,o){const i=et[e.transport];if(i==null)return this._logger.log(D.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(cv(n,i))if(e.transferFormats.map(a=>ft[a]).indexOf(r)>=0){if(i===et.WebSockets&&!this._options.WebSocket||i===et.ServerSentEvents&&!this._options.EventSource)return this._logger.log(D.Debug,`Skipping transport '${et[i]}' because it is not supported in your environment.'`),new Rp(`'${et[i]}' is not supported in your environment.`,i);this._logger.log(D.Debug,`Selecting transport '${et[i]}'.`);try{return this.features.reconnect=i===et.WebSockets?o:void 0,this._constructTransport(i)}catch(a){return a}}else return this._logger.log(D.Debug,`Skipping transport '${et[i]}' because it does not support the requested transfer format '${ft[r]}'.`),new Error(`'${et[i]}' does not support ${ft[r]}.`);else return this._logger.log(D.Debug,`Skipping transport '${et[i]}' because it was disabled by the client.`),new Mp(`'${et[i]}' is disabled by the client.`,i)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(D.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(D.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(D.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(D.Error,`Connection disconnected with error '${e}'.`):this._logger.log(D.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(D.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(D.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!Ve.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(D.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}};function cv(t,e){return!t||(e&t)!==0}let uv=class uh{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ea,this._transportResult=new Ea,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Ea),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Ea;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):uh._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(i=>i.byteLength).reduce((i,a)=>i+a),r=new Uint8Array(n);let o=0;for(const i of e)r.set(new Uint8Array(i),o),o+=i.byteLength;return r.buffer}},Ea=class{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}};const lv="json";let fv=class{constructor(){this.name=lv,this.version=2,this.transferFormat=ft.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=na.instance);const r=Sn.parse(e),o=[];for(const i of r){const a=JSON.parse(i);if(typeof a.type!="number")throw new Error("Invalid payload.");switch(a.type){case _e.Invocation:this._isInvocationMessage(a);break;case _e.StreamItem:this._isStreamItemMessage(a);break;case _e.Completion:this._isCompletionMessage(a);break;case _e.Ping:break;case _e.Close:break;case _e.Ack:this._isAckMessage(a);break;case _e.Sequence:this._isSequenceMessage(a);break;default:n.log(D.Information,"Unknown message type '"+a.type+"' ignored.");continue}o.push(a)}return o}writeMessage(e){return Sn.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}};const dv={trace:D.Trace,debug:D.Debug,info:D.Information,information:D.Information,warn:D.Warning,warning:D.Warning,error:D.Error,critical:D.Critical,none:D.None};function hv(t){const e=dv[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}let Aw=class{configureLogging(e){if(Ye.isRequired(e,"logging"),gv(e))this.logger=e;else if(typeof e=="string"){const n=hv(e);this.logger=new ms(n)}else this.logger=new ms(e);return this}withUrl(e,n){return Ye.isRequired(e,"url"),Ye.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return Ye.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new yf(e):this.reconnectPolicy=e:this.reconnectPolicy=new yf,this}withServerTimeout(e){return Ye.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Ye.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new sv(this.url,e);return tv.create(n,this.logger||na.instance,this.protocol||new fv,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function gv(t){return t.log!==void 0}var Pa,_s="constructor",Dn="prototype",ys="function",ws="_dynInstFuncs",Eu="_isDynProxy",Fo="_dynClass",pv="_dynCls$",Pu="_dynInstChk",oa=Pu,lh="_dfOpts",bf="_unknown_",Al="__proto__",Da="_dyn"+Al,Cf="__dynProto$Gbl",wc="_dynInstProto",Za="useBaseInst",Du="setInstFuncs",ql=Object,ia=ql.getPrototypeOf,Sf=ql.getOwnPropertyNames,If=sn(),Ru=If[Cf]||(If[Cf]={o:(Pa={},Pa[Du]=!0,Pa[Za]=!0,Pa),n:1e3});function es(t){return t&&(t===ql[Dn]||t===Array[Dn])}function Ul(t){return es(t)||t===Function[Dn]}function Gr(t){var e;if(t){if(ia)return ia(t);var n=t[Al]||t[Dn]||(t[_s]?t[_s][Dn]:null);e=t[Da]||n,hn(t,Da)||(delete t[wc],e=t[Da]=t[wc]||t[Da],t[wc]=n)}return e}function $s(t,e){var n=[];if(Sf)n=Sf(t);else for(var r in t)typeof r=="string"&&hn(t,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)e(n[o])}function Ll(t,e,n){return e!==_s&&typeof t[e]===ys&&(n||hn(t,e))&&e!==Al&&e!==Dn}function bs(t){El("DynamicProto: "+t)}function vv(t){var e=zr(null);return $s(t,function(n){!e[n]&&Ll(t,n,!1)&&(e[n]=t[n])}),e}function Ol(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function mv(t,e,n,r){function o(c,u,l){var d=u[l];if(d[Eu]&&r){var v=c[ws]||{};v[oa]!==!1&&(d=(v[u[Fo]]||{})[l]||d)}return function(){return d.apply(c,arguments)}}var i=zr(null);$s(n,function(c){i[c]=o(e,n,c)});for(var a=Gr(t),s=[];a&&!Ul(a)&&!Ol(s,a);)$s(a,function(c){!i[c]&&Ll(a,c,!ia)&&(i[c]=o(e,a,c))}),s.push(a),a=Gr(a);return i}function _v(t,e,n,r){var o=null;if(t&&hn(n,Fo)){var i=t[ws]||zr(null);if(o=(i[n[Fo]]||zr(null))[e],o||bs("Missing ["+e+"] "+ys),!o[Pu]&&i[oa]!==!1){for(var a=!hn(t,e),s=Gr(t),c=[];a&&s&&!Ul(s)&&!Ol(c,s);){var u=s[e];if(u){a=u===r;break}c.push(s),s=Gr(s)}try{a&&(t[e]=o),o[Pu]=1}catch{i[oa]=!1}}}return o}function yv(t,e,n){var r=e[t];return r===n&&(r=Gr(e)[t]),typeof r!==ys&&bs("["+t+"] is not a "+ys),r}function wv(t,e,n,r,o){function i(c,u){var l=function(){var d=_v(this,u,c,l)||yv(u,c,l);return d.apply(this,arguments)};return l[Eu]=1,l}if(!es(t)){var a=n[ws]=n[ws]||zr(null);if(!es(a)){var s=a[e]=a[e]||zr(null);a[oa]!==!1&&(a[oa]=!!o),es(s)||$s(n,function(c){Ll(n,c,!1)&&n[c]!==r[c]&&(s[c]=n[c],delete n[c],(!hn(t,c)||t[c]&&!t[c][Eu])&&(t[c]=i(t,c)))})}}}function $v(t,e){if(ia){for(var n=[],r=Gr(e);r&&!Ul(r)&&!Ol(n,r);){if(r===t)return!0;n.push(r),r=Gr(r)}return!1}return!0}function $c(t,e){return hn(t,Dn)?t.name||e||bf:((t||{})[_s]||{}).name||e||bf}function He(t,e,n,r){hn(t,Dn)||bs("theClass is an invalid class definition.");var o=t[Dn];$v(o,e)||bs("["+$c(t)+"] not in hierarchy of ["+$c(e)+"]");var i=null;hn(o,Fo)?i=o[Fo]:(i=pv+$c(t,"_")+"$"+Ru.n,Ru.n++,o[Fo]=i);var a=He[lh],s=!!a[Za];s&&r&&r[Za]!==void 0&&(s=!!r[Za]);var c=vv(e),u=mv(o,e,c,s);n(e,u);var l=!!ia&&!!a[Du];l&&r&&(l=!!r[Du]),wv(o,i,e,c,l!==!1)}He[lh]=Ru.o;var fh="function",dh="object",Hl="undefined",un="prototype",jl=Object,bv=jl[un];(sn()||{}).Symbol;(sn()||{}).Reflect;var hh="hasOwnProperty",Cv=function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)bv[hh].call(e,o)&&(t[o]=e[o])}return t},yt=ku||Cv,Mu=function(t,e){return Mu=jl.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r[hh](o)&&(n[o]=r[o])},Mu(t,e)};function Nn(t,e){typeof e!==fh&&e!==null&&El("Class extends value "+String(e)+" is not a constructor or null"),Mu(t,e);function n(){this.constructor=t}t[un]=e===null?zr(e):(n[un]=e[un],new n)}function Tf(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}var gh=mp,Sv=vp,Vn=gh({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),ni="toLowerCase",de="length",Cs="warnToConsole",wa="throwInternal",qr="watch",Yr="apply",Te="push",ui="splice",Je="logger",Ir="cancel",$a="initialize",zn="identifier",Ss="removeNotificationListener",Is="addNotificationListener",rn="isInitialized",Ra="getNotifyMgr",aa="getPlugin",Qr="name",mt="processNext",ph="getProcessTelContext",Er="value",Uo="enabled",kf="stopPollingInternalLogs",Zr="unload",Ma="onComplete",Nu="version",vh="loggingLevelConsole",eo="createNew",Cn="teardown",Ts="messageId",Ur="message",In="diagLog",ks="_doTeardown",sa="update",ln="getNext",ca="setNextPlugin",Au="userAgent",ri="split",Lr="replace",er="type",xf="evtName",bn="status",Iv="indexOf",Ef="getAllResponseHeaders",qu="isChildEvt",Ht="data",Bo="getCtx",en="setCtx",Pf="itemsReceived",Na="headers",pi="urlString",po="timeout",Uu="traceFlags",bc="getAttribute",Cc;function Tv(t,e){Cc||(Cc=Ip("AggregationError",function(r,o){o[de]>1&&(r.errors=o[1])}));var n=t;throw ee(e,function(r,o){n+=`
`.concat(o," > ").concat(re(r))}),new Cc(n,e||[])}var nn=void 0,Se="",xo="channels",tt="core",Lu="createPerfMgr",Ou="disabled",Vo="extensionConfig",Eo="extensions",vn="processTelemetry",xs="priority",ts="eventsSent",Xi="eventsDiscarded",ns="eventsSendRequest",Pr="perfEvent",Sc="offlineEventsStored",Ic="offlineBatchSent",Tc="offlineBatchDrop",Es="getPerfMgr",Hu="domain",kc="path",kv="Not dynamic - ",xv="getPrototypeOf",Ev=/-([a-z])/g,Pv=/([^\w\d_$])/g,Dv=/^(\d+[\w\d_$])/,Rv=Object[xv];function Or(t){return!F(t)}function Ps(t){var e=t;return e&&le(e)&&(e=e[Lr](Ev,function(n,r){return r.toUpperCase()}),e=e[Lr](Pv,"_"),e=e[Lr](Dv,function(n,r){return"_"+r})),e}function lt(t,e){return t&&e?_t(t,e)!==-1:!1}function oi(t){return t&&t.toISOString()||""}function xe(t){return Dl(t)?t[Qr]:Se}function Ae(t,e,n,r,o){var i=n;return t&&(i=t[e],i!==n&&(!o||o(i))&&(!r||r(n))&&(i=n,t[e]=i)),i}function pt(t,e,n){var r;return t?(r=t[e],!r&&F(r)&&(r=rt(n)?{}:n,t[e]=r)):r=rt(n)?{}:n,r}function mh(t,e){var n=null,r=null;return $e(t)?n=t:r=t,function(){var o=arguments;if(n&&(r=n()),r)return r[e][Yr](r,o)}}function Mv(t,e,n){if(t&&e&&qt(t)&&qt(e)){var r=function(i){if(le(i)){var a=e[i];$e(a)?(!n||n(i,!0,e,t))&&(t[i]=mh(e,i)):(!n||n(i,!1,e,t))&&(jo(t,i)&&delete t[i],De(t,i,{g:function(){return e[i]},s:function(s){e[i]=s}}))}};for(var o in e)r(o)}return t}function Ds(t,e,n,r,o){t&&e&&n&&(t[e]=mh(n,r))}function Ui(t,e,n,r){return t&&e&&qt(t)&&Ce(n)&&ee(n,function(o){le(o)&&Ds(t,o,e,o)}),t}function Nv(t){return function(){function e(){var n=this;t&&ke(t,function(r,o){n[r]=o})}return e}()}function _h(t){return t&&ku&&(t=jl(ku({},t))),t}function yh(t,e,n,r,o,i){var a=arguments,s=a[0]||{},c=a[de],u=!1,l=1;for(c>0&&Zd(s)&&(u=s,s=a[l]||{},l++),qt(s)||(s={});l<c;l++){var d=a[l],v=Ce(d),f=qt(d);for(var h in d){var p=v&&h in d||f&&jo(d,h);if(p){var w=d[h],y=void 0;if(u&&w&&((y=Ce(w))||Ct(w))){var C=s[h];y?Ce(C)||(C=[]):Ct(C)||(C={}),w=yh(u,C,w)}w!==void 0&&(s[h]=w)}}}return s}function rs(t,e,n){var r=e&&e.featureOptIn&&e.featureOptIn[t];if(t&&r){var o=r.mode;if(o===3)return!0;if(o===2)return!1}return n}function Rs(t){try{return t.responseText}catch{}return null}function wh(t,e){return t?"XDomainRequest,Response:"+Rs(t)||"":e}function Ms(t,e){return t?"XMLHttpRequest,Status:"+t[bn]+",Response:"+Rs(t)||t.response||"":e}function Df(t,e){return e&&(ic(e)?t=[e].concat(t):Ce(e)&&(t=e.concat(t))),t}var Av="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Rf="withCredentials",qv="timeout";function Uv(t,e,n,r,o,i){o===void 0&&(o=!1);function a(c,u,l){try{c[u]=l}catch{}}var s=new XMLHttpRequest;return a(s,Av,r),n&&a(s,Rf,n),s.open(t,e,!o),n&&a(s,Rf,n),!o&&i&&a(s,qv,i),s}function Lv(t){var e={};if(le(t)){var n=Oe(t)[ri](/[\r\n]+/);ee(n,function(r){if(r){var o=r[Iv](": ");if(o!==-1){var i=Oe(r.substring(0,o))[ni](),a=Oe(r.substring(o+1));e[i]=a}else e[Oe(r)]=1}})}return e}function xc(t,e,n){if(!t[n]&&e&&e.getResponseHeader){var r=e.getResponseHeader(n);r&&(t[n]=Oe(r))}return t}var Ov="kill-duration",Hv="kill-duration-seconds",jv="time-delta-millis";function Ec(t,e){var n={};return t[Ef]?n=Lv(t[Ef]()):e&&(n=xc(n,t,jv),n=xc(n,t,Ov),n=xc(n,t,Hv)),n}var Fv="documentMode",Bv="location",Vv="console",$h="JSON",Wv="crypto",zv="msCrypto",Kv="ReactNative",ju="msie",Fu="trident/",bh="XMLHttpRequest",Pc=null,Dc=null,Xv=!1,vo=null,Rc=null;function Ch(t,e){var n=!1;if(t){try{if(n=e in t,!n){var r=t[un];r&&(n=e in r)}}catch{}if(!n)try{var o=new t;n=!rt(o[e])}catch{}}return n}function on(t){if(t&&Xv){var e=dt("__mockLocation");if(e)return e}return typeof location===dh&&location?location:dt(Bv)}function Jv(){return typeof console!==Hl?console:dt(Vv)}function ba(){return!!(typeof JSON===dh&&JSON||dt($h)!==null)}function Kt(){return ba()?JSON||dt($h):null}function Gv(){return dt(Wv)}function Yv(){return dt(zv)}function Qv(){var t=Mn();return t&&t.product?t.product===Kv:!1}function Bu(){var t=Mn();if(t&&(t[Au]!==Dc||Pc===null)){Dc=t[Au];var e=(Dc||Se)[ni]();Pc=lt(e,ju)||lt(e,Fu)}return Pc}function Sh(t){if(t===void 0&&(t=null),!t){var e=Mn()||{};t=e?(e.userAgent||Se)[ni]():Se}var n=(t||Se)[ni]();if(lt(n,ju)){var r=vt()||{};return Ya(parseInt(n[ri](ju)[1]),r[Fv]||0)}else if(lt(n,Fu)){var o=parseInt(n[ri](Fu)[1]);if(o)return o+4}return null}function Li(t){return(Rc===null||t===!1)&&(Rc=_p()&&!!Mn().sendBeacon),Rc}function Fl(t){var e=!1;try{e=!!dt("fetch");var n=dt("Request");e&&t&&n&&(e=Ch(n,"keepalive"))}catch{}return e}function Zv(){return vo===null&&(vo=typeof XDomainRequest!==Hl,vo&&sc()&&(vo=vo&&!Ch(dt(bh),"withCredentials"))),vo}function sc(){var t=!1;try{var e=dt(bh);t=!!e}catch{}return t}function em(t,e){return t&&t.dispatchEvent&&e?(t.dispatchEvent(e),!0):!1}function tm(t,e){var n=null,r={detail:e||null};if($e(CustomEvent))n=new CustomEvent(t,r);else{var o=vt();o&&o.createEvent&&(n=o.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,r))}return n}function nm(t,e,n){var r=sn();if(r&&r.CustomEvent)try{var o={cfg:e||null,customDetails:n||null};return em(r,tm(t,o))}catch{}return!1}var Ih=4294967296,tr=4294967295,Th=123456789,kh=987654321,xh=!1,Oi=Th,Hi=kh;function rm(t){t<0&&(t>>>=0),Oi=Th+t&tr,Hi=kh-t&tr,xh=!0}function om(){try{var t=gn()&2147483647;rm((Math.random()*Ih^t)+t)}catch{}}function im(t){return Et(ua()/tr*(t+1))>>>0}function ua(t){var e=0,n=Gv()||Yv();return n&&n.getRandomValues&&(e=n.getRandomValues(new Uint32Array(1))[0]&tr),e===0&&Bu()&&(xh||om(),e=am()&tr),e===0&&(e=Et(Ih*Math.random()|0)),e>>>=0,e}function am(t){Hi=36969*(Hi&65535)+(Hi>>16)&tr,Oi=18e3*(Oi&65535)+(Oi>>16)&tr;var e=(Hi<<16)+(Oi&65535)>>>0&tr|0;return e>>>=0,e}function Bl(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=ua()>>>0,r=0,o=Se;o[de]<t;)r++,o+=e.charAt(n&63),n>>>=6,r===5&&(n=(ua()<<2&4294967295|n&3)>>>0,r=0);return o}var Eh="3.3.9",sm="."+Bl(6),cm=0;function Ph(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}function um(t,e){var n=e[t.id];if(!n){n={};try{Ph(e)&&De(e,t.id,{e:!1,v:n})}catch{}}return n}function Ut(t,e){return e===void 0&&(e=!1),Ps(t+cm+++(e?"."+Eh:Se)+sm)}function Dh(t){var e={id:Ut("_aiData-"+(t||Se)+"."+Eh),accept:function(n){return Ph(n)},get:function(n,r,o,i){var a=n[e.id];return a?a[Ps(r)]:(i&&(a=um(e,n),a[Ps(r)]=o),o)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return e}function os(t){return t&&qt(t)&&!Ce(t)&&(t.isVal||t.fb||jo(t,"v")||jo(t,"mrg")||jo(t,"ref")||t.set)}function Rh(t,e,n){var r,o=n.dfVal||pp;if(e&&n.fb){var i=n.fb;Ce(i)||(i=[i]);for(var a=0;a<i[de];a++){var s=i[a],c=e[s];if(o(c)?r=c:t&&(c=t.cfg[s],o(c)&&(r=c),t.set(t.cfg,no(s),c)),o(r))break}}return!o(r)&&o(n.v)&&(r=n.v),r}function Vu(t,e,n){var r=n;if(n&&os(n)&&(r=Rh(t,e,n)),r){os(r)&&(r=Vu(t,e,r));var o;Ce(r)?(o=[],o[de]=r[de]):Ct(r)&&(o={}),o&&(ke(r,function(i,a){a&&os(a)&&(a=Vu(t,e,a)),o[i]=a}),r=o)}return r}function Vl(t,e,n,r){var o,i,a,s=r,c,u,l,d;os(s)?(o=s.isVal,i=s.set,l=s.rdOnly,d=s.blkVal,c=s.mrg,u=s.ref,!u&&rt(u)&&(u=!!c),a=Rh(t,e,s)):a=r,d&&t.blkVal(e,n);var v,f=!0,h=e[n];(h||!F(h))&&(v=h,f=!1,o&&v!==a&&!o(v)&&(v=a,f=!0),i&&(v=i(v,a,e),f=v===a)),f?a?v=Vu(t,e,a):v=a:(Ct(v)||Ce(a))&&c&&a&&(Ct(a)||Ce(a))&&ke(a,function(p,w){Vl(t,v,p,w)}),t.set(e,n,v),u&&t.ref(e,n),l&&t.rdOnly(e,n)}var ar=Pl("[[ai_dynCfg_1]]"),Mh=Pl("[[ai_blkDynCfg_1]]"),lm=Pl("[[ai_frcDynCfg_1]]");function Nh(t){if(t){var e;if(Ce(t)?(e=[],e[de]=t[de]):Ct(t)&&(e={}),e)return ke(t,function(n,r){e[n]=Nh(r)}),e}return t}function fm(t){if(t){var e=t[ar]||t;if(e.cfg&&(e.cfg===t||e.cfg[ar]===e))return e}return null}function dm(t){if(t&&(Ct(t)||Ce(t)))try{t[Mh]=!0}catch{}return t}function Mc(t,e,n){var r=!1;return n&&!t[e.blkVal]&&(r=n[lm],!r&&!n[Mh]&&(r=Ct(n)||Ce(n))),r}function Ah(t){El("InvalidAccess:"+t)}var hm=["push","pop","shift","unshift","splice"],la=function(t,e,n,r){t&&t[wa](3,108,"".concat(n," [").concat(e,"] failed - ")+re(r))};function gm(t,e,n){Ce(e)&&ee(hm,function(r){var o=e[r];e[r]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=o[Yr](this,i);return As(t,e,n,"Patching"),s}})}function Ns(t,e){var n=gp(t,e);return n&&n.get}function pm(t,e,n,r){var o={n,h:[],trk:function(u){u&&u.fn&&(ht(o.h,u)===-1&&o.h[Te](u),t.trk(u,o))},clr:function(u){var l=ht(o.h,u);l!==-1&&o.h[ui](l,1)}},i=!0,a=!1;function s(){i&&(a=a||Mc(s,t,r),r&&!r[ar]&&a&&(r=As(t,r,n,"Converting")),i=!1);var u=t.act;return u&&o.trk(u),r}s[t.prop]={chng:function(){t.add(o)}};function c(u){if(r!==u){s[t.ro]&&!t.upd&&Ah("["+n+"] is read-only:"+re(e)),i&&(a=a||Mc(s,t,r),i=!1);var l=a&&s[t.rf];if(a)if(l){ke(r,function(v){r[v]=u?u[v]:nn});try{ke(u,function(v,f){cc(t,r,v,f)}),u=r}catch(v){la((t.hdlr||{})[Je],n,"Assigning",v),a=!1}}else r&&r[ar]&&ke(r,function(v){var f=Ns(r,v);if(f){var h=f[t.prop];h&&h.chng()}});if(u!==r){var d=u&&Mc(s,t,u);!l&&d&&(u=As(t,u,n,"Converting")),r=u,a=d}t.add(o)}}De(e,o.n,{g:s,s:c})}function cc(t,e,n,r){if(e){var o=Ns(e,n),i=o&&!!o[t.prop];i?e[n]=r:pm(t,e,n,r)}return e}function Nc(t,e,n,r){if(e){var o=Ns(e,n),i=o&&!!o[t.prop],a=r&&r[0],s=r&&r[1],c=r&&r[2];if(!i){if(c)try{dm(e)}catch(u){la((t.hdlr||{})[Je],n,"Blocking",u)}try{cc(t,e,n,e[n]),o=Ns(e,n)}catch(u){la((t.hdlr||{})[Je],n,"State",u)}}a&&(o[t.rf]=a),s&&(o[t.ro]=s),c&&(o[t.blkVal]=!0)}return e}function As(t,e,n,r){try{ke(e,function(o,i){cc(t,e,o,i)}),e[ar]||(hp(e,ar,{get:function(){return t.hdlr}}),gm(t,e,n))}catch(o){la((t.hdlr||{})[Je],n,r,o)}return e}var vi="[[ai_",mi="]]";function vm(t){var e=gi(vi+"get"+t.uid+mi),n=gi(vi+"ro"+t.uid+mi),r=gi(vi+"rf"+t.uid+mi),o=gi(vi+"blkVal"+t.uid+mi),i=gi(vi+"dtl"+t.uid+mi),a=null,s=null,c;function u(f,h){var p=c.act;try{c.act=f,f&&f[i]&&(ee(f[i],function(y){y.clr(f)}),f[i]=[]),h({cfg:t.cfg,set:t.set.bind(t),setDf:t.setDf.bind(t),ref:t.ref.bind(t),rdOnly:t.rdOnly.bind(t)})}catch(y){var w=t[Je];throw w&&w[wa](1,107,re(y)),y}finally{c.act=p||null}}function l(){if(a){var f=a;a=null,s&&s[Ir](),s=null;var h=[];if(ee(f,function(p){if(p&&(p[i]&&(ee(p[i],function(w){w.clr(p)}),p[i]=null),p.fn))try{u(p,p.fn)}catch(w){h[Te](w)}}),a)try{l()}catch(p){h[Te](p)}h[de]>0&&Tv("Watcher error(s): ",h)}}function d(f){if(f&&f.h[de]>0){a||(a=[]),s||(s=pn(function(){s=null,l()},0));for(var h=0;h<f.h[de];h++){var p=f.h[h];p&&ht(a,p)===-1&&a[Te](p)}}}function v(f,h){if(f){var p=f[i]=f[i]||[];ht(p,h)===-1&&p[Te](h)}}return c={prop:e,ro:n,rf:r,blkVal:o,hdlr:t,add:d,notify:l,use:u,trk:v},c}function mm(t,e){var n={fn:e,rm:function(){n.fn=null,t=null,e=null}};return De(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),t.use(n,e),n}function _m(t,e,n){var r=fm(e);if(r)return r;var o=Ut("dyncfg",!0),i=e&&n!==!1?e:Nh(e),a;function s(){a.notify()}function c(w,y,C){try{w=cc(a,w,y,C)}catch(U){la(t,y,"Setting value",U)}return w[y]}function u(w){return mm(a,w)}function l(w,y){a.use(null,function(C){var U=a.upd;try{rt(y)||(a.upd=y),w(C)}finally{a.upd=U}})}function d(w,y){var C;return Nc(a,w,y,(C={},C[0]=!0,C))[y]}function v(w,y){var C;return Nc(a,w,y,(C={},C[1]=!0,C))[y]}function f(w,y){var C;return Nc(a,w,y,(C={},C[2]=!0,C))[y]}function h(w,y){return y&&ke(y,function(C,U){Vl(p,w,C,U)}),w}var p={uid:null,cfg:i,logger:t,notify:s,set:c,setDf:h,watch:u,ref:d,rdOnly:v,blkVal:f,_block:l};return De(p,"uid",{c:!1,e:!1,w:!1,v:o}),a=vm(p),As(a,i,"config","Creating"),p}function ym(t,e){t?(t[Cs](e),t[wa](2,108,e)):Ah(e)}function Lt(t,e,n,r){var o=_m(n,t||{},r);return e&&o.setDf(o.cfg,e),o}function Xe(t,e,n){var r=t[ar]||t;return r.cfg&&(r.cfg===t||r.cfg[ar]===r)?r[qr](e):(ym(n,kv+re(t)),Lt(t,null,n)[qr](e))}function Lo(t,e){if(t&&t[Zr])return t[Zr](e)}function qh(t,e,n){var r;return n||(r=Xr(function(o){n=o})),t&&$p(t)>0?At(Lo(t[0],e),function(){qh(bp(t,1),e,n)}):n(),r}var wm=500,Mf="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function $m(t,e,n){return!t&&F(t)?e:Zd(t)?t:no(t)[ni]()==="true"}function Ft(t){return{mrg:!0,v:t}}function Nf(t,e){return{set:t,v:e}}function qs(t,e,n){return{fb:n,isVal:t,v:e}}function Ge(t,e){return{fb:e,set:$m,v:!!t}}function bm(t){return{isVal:le,v:no(Se)}}var Ac=[ts,Xi,ns,Pr],Us=null,Aa;function Cm(t,e){return function(){var n=arguments,r=Uh(e);if(r){var o=r.listener;o&&o[t]&&o[t][Yr](o,n)}}}function Sm(){var t=dt("Microsoft");return t&&(Us=t.ApplicationInsights),Us}function Uh(t){var e=Us;return!e&&t.disableDbgExt!==!0&&(e=Us||Sm()),e?e.ChromeDbgExt:null}function Im(t){if(!Aa){Aa={};for(var e=0;e<Ac[de];e++)Aa[Ac[e]]=Cm(Ac[e],t)}return Aa}var mo,Lh="warnToConsole",Tm="AI (Internal): ",km="AI: ",xm="AITR_",Em={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Pm=(mo={},mo[0]=null,mo[1]="errorToConsole",mo[2]=Lh,mo[3]="debugToConsole",mo);function Af(t){return t?'"'+t[Lr](/\"/g,Se)+'"':Se}function qc(t,e){var n=Jv();if(n){var r="log";n[t]&&(r=t),$e(n[r])&&n[r](e)}}var fa=function(){function t(e,n,r,o){r===void 0&&(r=!1);var i=this;i[Ts]=e,i[Ur]=(r?km:Tm)+e;var a=Se;ba()&&(a=Kt().stringify(o));var s=(n?" message:"+Af(n):Se)+(o?" props:"+Af(a):Se);i[Ur]+=s}return t.dataType="MessageData",t}();function ro(t,e){return(t||{})[Je]||new Ls(e)}var Ls=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},o,i,a,s,c;He(t,this,function(u){c=d(e||{}),u.consoleLoggingLevel=function(){return o},u[wa]=function(h,p,w,y,C){C===void 0&&(C=!1);var U=new fa(p,w,C,y);if(s)throw re(U);var B=Pm[h]||Lh;if(rt(U[Ur]))f("throw"+(h===1?"Critical":"Warning"),U);else{if(C){var H=+U[Ts];!r[H]&&o>=h&&(u[B](U[Ur]),r[H]=!0)}else o>=h&&u[B](U[Ur]);l(h,U)}},u.debugToConsole=function(h){qc("debug",h),f("warning",h)},u[Cs]=function(h){qc("warn",h),f("warning",h)},u.errorToConsole=function(h){qc("error",h),f("error",h)},u.resetInternalMessageCount=function(){n=0,r={}},u.logInternalMessage=l,u[Zr]=function(h){c&&c.rm(),c=null};function l(h,p){if(!v()){var w=!0,y=xm+p[Ts];if(r[y]?w=!1:r[y]=!0,w&&(h<=i&&(u.queue[Te](p),n++,f(h===1?"error":"warn",p)),n===a)){var C="Internal events throttle limit per PageView reached for this app.",U=new fa(23,C,!1);u.queue[Te](U),h===1?u.errorToConsole(C):u[Cs](C)}}}function d(h){return Xe(Lt(h,Em,u).cfg,function(p){var w=p.cfg;o=w[vh],i=w.loggingLevelTelemetry,a=w.maxMessageLimit,s=w.enableDebug})}function v(){return n>=a}function f(h,p){var w=Uh(e||{});w&&w[In]&&w[In](h,p)}})}return t.__ieDyn=1,t}();function Wl(t){return t||new Ls}function z(t,e,n,r,o,i){i===void 0&&(i=!1),Wl(t)[wa](e,n,r,o,i)}function Hr(t,e){Wl(t)[Cs](e)}function Dm(t,e,n){Wl(t).logInternalMessage(e,n)}var Uc,dr,qf="toGMTString",Uf="toUTCString",zl="cookie",Lc="expires",Lf="isCookieUseDisabled",Wu="disableCookiesUsage",Oo="_ckMgr",qa=null,Oc=null,Of=null,fn,Hf={},Os={},Rm=(Uc={cookieCfg:Ft((dr={},dr[Hu]={fb:"cookieDomain",dfVal:Or},dr.path={fb:"cookiePath",dfVal:Or},dr.enabled=nn,dr.ignoreCookies=nn,dr.blockedCookies=nn,dr)),cookieDomain:nn,cookiePath:nn},Uc[Wu]=nn,Uc);function Kl(){!fn&&(fn=Sp(function(){return vt()}))}function Mm(t,e){var n=is[Oo]||Os[Oo];return n||(n=is[Oo]=is(t,e),Os[Oo]=n),n}function Ua(t){return t?t.isEnabled():!0}function Oh(t,e){return e&&t&&Ce(t.ignoreCookies)?ht(t.ignoreCookies,e)!==-1:!1}function Nm(t,e){return e&&t&&Ce(t.blockedCookies)&&ht(t.blockedCookies,e)!==-1?!0:Oh(t,e)}function jf(t,e){var n=e[Uo];if(F(n)){var r=void 0;rt(t[Lf])||(r=!t[Lf]),rt(t[Wu])||(r=!t[Wu]),n=r}return n}function Xl(t,e){var n;return t&&(n=t.getCookieMgr()),n||(n=Mm(e,(t||{})[Je])),n}function is(t,e){var n,r,o,i,a,s,c,u;t=Lt(t||Os,null,e).cfg,i=Xe(t,function(d){d.setDf(d.cfg,Rm),n=d.ref(d.cfg,"cookieCfg"),r=n[kc]||"/",o=n[Hu],a=jf(t,n)!==!1,s=n.getCookie||Am,c=n.setCookie||Wf,u=n.delCookie||Wf},e);var l={isEnabled:function(){var d=jf(t,n)!==!1&&a&&Ff(e),v=Os[Oo];return d&&v&&l!==v&&(d=Ua(v)),d},setEnabled:function(d){a=d!==!1,n[Uo]=d},set:function(d,v,f,h,p){var w=!1;if(Ua(l)&&!Nm(n,d)){var y={},C=Oe(v||Se),U=_t(C,";");if(U!==-1&&(C=Oe(Rl(v,U)),y=Hh(cr(v,U+1))),Ae(y,Hu,h||o,vs,rt),!F(f)){var B=Bu();if(rt(y[Lc])){var H=gn(),X=H+f*1e3;if(X>0){var R=new Date;R.setTime(X),Ae(y,Lc,Bf(R,B?qf:Uf)||Bf(R,B?qf:Uf)||Se,vs)}}B||Ae(y,"max-age",Se+f,null,rt)}var I=on();I&&I.protocol==="https:"&&(Ae(y,"secure",null,null,rt),Oc===null&&(Oc=!qm((Mn()||{})[Au])),Oc&&Ae(y,"SameSite","None",null,rt)),Ae(y,kc,p||r,null,rt),c(d,Vf(C,y)),w=!0}return w},get:function(d){var v=Se;return Ua(l)&&!Oh(n,d)&&(v=s(d)),v},del:function(d,v){var f=!1;return Ua(l)&&(f=l.purge(d,v)),f},purge:function(d,v){var f,h=!1;if(Ff(e)){var p=(f={},f[kc]=v||"/",f[Lc]="Thu, 01 Jan 1970 00:00:01 GMT",f);Bu()||(p["max-age"]="0"),u(d,Vf(Se,p)),h=!0}return h},unload:function(d){i&&i.rm(),i=null}};return l[Oo]=l,l}function Ff(t){if(qa===null){qa=!1,!fn&&Kl();try{var e=fn.v||{};qa=e[zl]!==void 0}catch(n){z(t,2,68,"Cannot access document.cookie - "+xe(n),{exception:re(n)})}}return qa}function Hh(t){var e={};if(t&&t[de]){var n=Oe(t)[ri](";");ee(n,function(r){if(r=Oe(r||Se),r){var o=_t(r,"=");o===-1?e[r]=null:e[Oe(Rl(r,o))]=Oe(cr(r,o+1))}})}return e}function Bf(t,e){return $e(t[e])?t[e]():null}function Vf(t,e){var n=t||Se;return ke(e,function(r,o){n+="; "+r+(F(o)?Se:"="+o)}),n}function Am(t){var e=Se;if(!fn&&Kl(),fn.v){var n=fn.v[zl]||Se;Of!==n&&(Hf=Hh(n),Of=n),e=Oe(Hf[t]||Se)}return e}function Wf(t,e){!fn&&Kl(),fn.v&&(fn.v[zl]=t+"="+e)}function qm(t){return le(t)?!!(lt(t,"CPU iPhone OS 12")||lt(t,"iPad; CPU OS 12")||lt(t,"Macintosh; Intel Mac OS X 10_14")&&lt(t,"Version/")&&lt(t,"Safari")||lt(t,"Macintosh; Intel Mac OS X 10_14")&&th(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||lt(t,"Chrome/5")||lt(t,"Chrome/6")||lt(t,"UnrealEngine")&&!lt(t,"Chrome")||lt(t,"UCBrowser/12")||lt(t,"UCBrowser/11")):!1}var Um={perfEvtsSendAll:!1};function Lm(t){t.h=null;var e=t.cb;t.cb=[],ee(e,function(n){eh(n.fn,[n.arg])})}function An(t,e,n,r){ee(t,function(o){o&&o[e]&&(n?(n.cb[Te]({fn:r,arg:o}),n.h=n.h||pn(Lm,0,n)):eh(r,[o]))})}var Om=function(){function t(e){this.listeners=[];var n,r,o=[],i={h:null,cb:[]},a=Lt(e,Um);r=a[qr](function(s){n=!!s.cfg.perfEvtsSendAll}),He(t,this,function(s){De(s,"listeners",{g:function(){return o}}),s[Is]=function(c){o[Te](c)},s[Ss]=function(c){for(var u=ht(o,c);u>-1;)o[ui](u,1),u=ht(o,c)},s[ts]=function(c){An(o,ts,i,function(u){u[ts](c)})},s[Xi]=function(c,u){An(o,Xi,i,function(l){l[Xi](c,u)})},s[ns]=function(c,u){An(o,ns,u?i:null,function(l){l[ns](c,u)})},s[Pr]=function(c){c&&(n||!c[qu]())&&An(o,Pr,null,function(u){c.isAsync?pn(function(){return u[Pr](c)},0):u[Pr](c)})},s[Sc]=function(c){c&&c[de]&&An(o,Sc,i,function(u){u[Sc](c)})},s[Ic]=function(c){c&&c[Ht]&&An(o,Ic,i,function(u){u[Ic](c)})},s[Tc]=function(c,u){if(c>0){var l=u||0;An(o,Tc,i,function(d){d[Tc](c,l)})}},s[Zr]=function(c){var u=function(){r&&r.rm(),r=null,o=[],i.h&&i.h[Ir](),i.h=null,i.cb=[]},l;if(An(o,"unload",null,function(d){var v=d[Zr](c);v&&(l||(l=[]),l[Te](v))}),l)return Xr(function(d){return At(Cp(l),function(){u(),d()})});u()}})}return t.__ieDyn=1,t}(),Wo="ctx",zu="ParentContextKey",Ji="ChildrenContextKey",Hm=null,as=function(){function t(e,n,r){var o=this;if(o.start=gn(),o[Qr]=e,o.isAsync=r,o[qu]=function(){return!1},$e(n)){var i;De(o,"payload",{g:function(){return!i&&$e(n)&&(i=n(),n=null),i}})}o[Bo]=function(a){return a?a===t[zu]||a===t[Ji]?o[a]:(o[Wo]||{})[a]:null},o[en]=function(a,s){if(a)if(a===t[zu])o[a]||(o[qu]=function(){return!0}),o[a]=s;else if(a===t[Ji])o[a]=s;else{var c=o[Wo]=o[Wo]||{};c[a]=s}},o.complete=function(){var a=0,s=o[Bo](t[Ji]);if(Ce(s))for(var c=0;c<s[de];c++){var u=s[c];u&&(a+=u.time)}o.time=gn()-o.start,o.exTime=o.time-a,o.complete=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),jm=function(){function t(e){this.ctx={},He(t,this,function(n){n.create=function(r,o,i){return new as(r,o,i)},n.fire=function(r){r&&(r.complete(),e&&$e(e[Pr])&&e[Pr](r))},n[en]=function(r,o){if(r){var i=n[Wo]=n[Wo]||{};i[r]=o}},n[Bo]=function(r){return(n[Wo]||{})[r]}})}return t.__ieDyn=1,t}(),Hc="CoreUtils.doPerf";function Hs(t,e,n,r,o){if(t){var i=t;if(i[Es]&&(i=i[Es]()),i){var a=void 0,s=i[Bo](Hc);try{if(a=i.create(e(),r,o),a){if(s&&a[en]&&(a[en](as[zu],s),s[Bo]&&s[en])){var c=s[Bo](as[Ji]);c||(c=[],s[en](as[Ji],c)),c[Te](a)}return i[en](Hc,a),n(a)}}catch(u){a&&a[en]&&a[en]("exception",u)}finally{a&&i.fire(a),i[en](Hc,s)}}}return n()}function Fm(){return Hm}function Gn(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=Se,n,r=0;r<4;r++)n=ua(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var o=t[8+(ua()&3)|0];return Wn(e,0,8)+Wn(e,9,4)+"4"+Wn(e,13,3)+o+Wn(e,16,3)+Wn(e,19,12)}var Ku="00",Bm="ff",jh="00000000000000000000000000000000",Fh="0000000000000000";function Ca(t,e,n){return t&&t[de]===e&&t!==n?!!t.match(/^[\da-f]*$/i):!1}function zf(t,e,n){return Ca(t,e)?t:n}function Vm(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e[de]<2;)e="0"+e;return e}function Kf(t,e,n,r){return{version:Ca(r,2,Bm)?r:Ku,traceId:Jl(t)?t:Gn(),spanId:Gl(e)?e:Rl(Gn(),16),traceFlags:n>=0&&n<=255?n:1}}function Jl(t){return Ca(t,32,jh)}function Gl(t){return Ca(t,16,Fh)}function Xf(t){if(t){var e=Vm(t[Uu]);Ca(e,2)||(e="01");var n=t[Nu]||Ku;return n!=="00"&&n!=="ff"&&(n=Ku),"".concat(n.toLowerCase(),"-").concat(zf(t.traceId,32,jh).toLowerCase(),"-").concat(zf(t.spanId,16,Fh).toLowerCase(),"-").concat(e.toLowerCase())}return""}function Wm(t){var e=t.getElementsByTagName("script"),n=[];return ee(e,function(r){var o=r[bc]("src");if(o){var i=r[bc]("crossorigin"),a=r.hasAttribute("async")===!0,s=r.hasAttribute("defer")===!0,c=r[bc]("referrerpolicy"),u={url:o};i&&(u.crossOrigin=i),a&&(u.async=a),s&&(u.defer=s),c&&(u.referrerPolicy=c),n[Te](u)}}),n}var zm=Dh("plugin");function jr(t){return zm.get(t,"state",{},!0)}function Jf(t,e){for(var n=[],r=null,o=t[ln](),i;o;){var a=o[aa]();if(a){r&&r[ca]&&a[vn]&&r[ca](a),i=jr(a);var s=!!i[rn];a[rn]&&(s=a[rn]()),s||n[Te](a),r=a,o=o[ln]()}}ee(n,function(c){var u=t[tt]();c[$a](t.getCfg(),u,e,t[ln]()),i=jr(c),!c[tt]&&!i[tt]&&(i[tt]=u),i[rn]=!0,delete i[Cn]})}function jc(t){return t.sort(function(e,n){var r=0;if(n){var o=n[vn];e[vn]?r=o?e[xs]-n[xs]:1:o&&(r=-1)}else r=e?1:-1;return r})}function Km(t){var e={};return{getName:function(){return e[Qr]},setName:function(n){e[Qr]=n},getTraceId:function(){return e.traceId},setTraceId:function(n){Jl(n)&&(e.traceId=n)},getSpanId:function(){return e.spanId},setSpanId:function(n){Gl(n)&&(e.spanId=n)},getTraceFlags:function(){return e[Uu]},setTraceFlags:function(n){e[Uu]=n}}}var Xm="TelemetryPluginChain",Gf="_hasRun",Yf="_getTelCtx",Qf=0;function Jm(t,e,n){for(;t;){if(t[aa]()===n)return t;t=t[ln]()}return to([n],e.config||{},e)}function Yl(t,e,n,r){var o=null,i=[];e||(e=Lt({},null,n[Je])),r!==null&&(o=r?Jm(t,n,r):t);var a={_next:c,ctx:{core:function(){return n},diagLog:function(){return ro(n,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:l,getConfig:d,hasNext:function(){return!!o},getNext:function(){return o},setNext:function(f){o=f},iterate:v,onComplete:s}};function s(f,h){for(var p=[],w=2;w<arguments.length;w++)p[w-2]=arguments[w];f&&i[Te]({func:f,self:rt(h)?a.ctx:h,args:p})}function c(){var f=o;if(o=f?f[ln]():null,!f){var h=i;h&&h[de]>0&&(ee(h,function(p){try{p.func.call(p.self,p.args)}catch(w){z(n[Je],2,73,"Unexpected Exception during onComplete - "+re(w))}}),i=[])}return f}function u(f,h){var p=null,w=e.cfg;if(w&&f){var y=w[Vo];!y&&h&&(y={}),w[Vo]=y,y=e.ref(w,Vo),y&&(p=y[f],!p&&h&&(p={}),y[f]=p,p=e.ref(y,f))}return p}function l(f,h){var p=u(f,!0);return h&&ke(h,function(w,y){if(F(p[w])){var C=e.cfg[w];(C||!F(C))&&(p[w]=C)}Vl(e,p,w,y)}),e.setDf(p,h)}function d(f,h,p){p===void 0&&(p=!1);var w,y=u(f,!1),C=e.cfg;return y&&(y[h]||!F(y[h]))?w=y[h]:(C[h]||!F(C[h]))&&(w=C[h]),w||!F(w)?w:p}function v(f){for(var h;h=a._next();){var p=h[aa]();p&&f(p)}}return a}function Xt(t,e,n,r){var o=Lt(e),i=Yl(t,o,n,r),a=i.ctx;function s(u){var l=i._next();return l&&l[vn](u,a),!l}function c(u,l){return u===void 0&&(u=null),Ce(u)&&(u=to(u,o.cfg,n,l)),Xt(u||a[ln](),o.cfg,n,l)}return a[mt]=s,a[eo]=c,a}function js(t,e,n){var r=Lt(e.config),o=Yl(t,r,e,n),i=o.ctx;function a(c){var u=o._next();return u&&u[Zr](i,c),!u}function s(c,u){return c===void 0&&(c=null),Ce(c)&&(c=to(c,r.cfg,e,u)),js(c||i[ln](),e,u)}return i[mt]=a,i[eo]=s,i}function Ql(t,e,n){var r=Lt(e.config),o=Yl(t,r,e,n),i=o.ctx;function a(c){return i.iterate(function(u){$e(u[sa])&&u[sa](i,c)})}function s(c,u){return c===void 0&&(c=null),Ce(c)&&(c=to(c,r.cfg,e,u)),Ql(c||i[ln](),e,u)}return i[mt]=a,i[eo]=s,i}function to(t,e,n,r){var o=null,i=!r;if(Ce(t)&&t[de]>0){var a=null;ee(t,function(s){if(!i&&r===s&&(i=!0),i&&s&&$e(s[vn])){var c=Gm(s,e,n);o||(o=c),a&&a._setNext(c),a=c}})}return r&&!o?to([r],e,n):o}function Gm(t,e,n){var r=null,o=$e(t[vn]),i=$e(t[ca]),a;t?a=t[zn]+"-"+t[xs]+"-"+Qf++:a="Unknown-0-"+Qf++;var s={getPlugin:function(){return t},getNext:function(){return r},processTelemetry:l,unload:d,update:v,_id:a,_setNext:function(f){r=f}};function c(){var f;return t&&$e(t[Yf])&&(f=t[Yf]()),f||(f=Xt(s,e,n)),f}function u(f,h,p,w,y){var C=!1,U=t?t[zn]:Xm,B=f[Gf];return B||(B=f[Gf]={}),f.setNext(r),t&&Hs(f[tt](),function(){return U+":"+p},function(){B[a]=!0;try{var H=r?r._id:Se;H&&(B[H]=!1),C=h(f)}catch(R){var X=r?B[r._id]:!0;X&&(C=!0),(!r||!X)&&z(f[In](),1,73,"Plugin ["+U+"] failed during "+p+" - "+re(R)+", run flags: "+re(B))}},w,y),C}function l(f,h){h=h||c();function p(w){if(!t||!o)return!1;var y=jr(t);return y[Cn]||y[Ou]?!1:(i&&t[ca](r),t[vn](f,w),!0)}u(h,p,"processTelemetry",function(){return{item:f}},!f.sync)||h[mt](f)}function d(f,h){function p(){var w=!1;if(t){var y=jr(t),C=t[tt]||y[tt];t&&(!C||C===f.core())&&!y[Cn]&&(y[tt]=null,y[Cn]=!0,y[rn]=!1,t[Cn]&&t[Cn](f,h)===!0&&(w=!0))}return w}u(f,p,"unload",function(){},h.isAsync)||f[mt](h)}function v(f,h){function p(){var w=!1;if(t){var y=jr(t),C=t[tt]||y[tt];t&&(!C||C===f.core())&&!y[Cn]&&t[sa]&&t[sa](f,h)===!0&&(w=!0)}return w}u(f,p,"update",function(){},!1)||f[mt](h)}return Kr(s)}function Bh(){var t=[];function e(r){r&&t[Te](r)}function n(r,o){ee(t,function(i){try{i(r,o)}catch(a){z(r[In](),2,73,"Unexpected error calling unload handler - "+re(a))}}),t=[]}return{add:e,run:n}}function Vh(){var t=[];function e(r){var o=t;t=[],ee(o,function(i){try{(i.rm||i.remove).call(i)}catch(a){z(r,2,73,"Unloading:"+re(a))}})}function n(r){r&&qo(t,r)}return{run:e,add:n}}var Fc,qn="getPlugin",Ym=(Fc={},Fc[Vo]={isVal:Or,v:{}},Fc),li=function(){function t(){var e=this,n,r,o,i,a;u(),He(t,e,function(l){l[$a]=function(d,v,f,h){c(d,v,h),n=!0},l[Cn]=function(d,v){var f=l[tt];if(!f||d&&f!==d[tt]())return;var h,p=!1,w=d||js(null,f,o&&o[qn]?o[qn]():o),y=v||{reason:0,isAsync:!1};function C(){p||(p=!0,i.run(w,v),a.run(w[In]()),h===!0&&w[mt](y),u())}return!l[ks]||l[ks](w,y,C)!==!0?C():h=!0,h},l[sa]=function(d,v){var f=l[tt];if(!f||d&&f!==d[tt]())return;var h,p=!1,w=d||Ql(null,f,o&&o[qn]?o[qn]():o),y=v||{reason:0};function C(){p||(p=!0,c(w.getCfg(),w.core(),w[ln]()))}return!l._doUpdate||l._doUpdate(w,y,C)!==!0?C():h=!0,h},Ds(l,"_addUnloadCb",function(){return i},"add"),Ds(l,"_addHook",function(){return a},"add"),De(l,"_unloadHooks",{g:function(){return a}})}),e[In]=function(l){return s(l)[In]()},e[rn]=function(){return n},e.setInitialized=function(l){n=l},e[ca]=function(l){o=l},e[mt]=function(l,d){d?d[mt](l):o&&$e(o[vn])&&o[vn](l,null)},e._getTelCtx=s;function s(l){l===void 0&&(l=null);var d=l;if(!d){var v=r||Xt(null,{},e[tt]);o&&o[qn]?d=v[eo](null,o[qn]):d=v[eo](null,o)}return d}function c(l,d,v){Lt(l,Ym,ro(d)),!v&&d&&(v=d[ph]()[ln]());var f=o;o&&o[qn]&&(f=o[qn]()),e[tt]=d,r=Xt(v,l,d,f)}function u(){n=!1,e[tt]=null,r=null,o=null,a=Vh(),i=Bh()}}return t.__ieDyn=1,t}();function Qm(t,e,n){var r={id:e,fn:n};qo(t,r);var o={remove:function(){ee(t,function(i,a){if(i.id===r.id)return t[ui](a,1),-1})}};return o}function Zm(t,e,n){for(var r=!1,o=t[de],i=0;i<o;++i){var a=t[i];if(a)try{if(a.fn[Yr](null,[e])===!1){r=!0;break}}catch(s){z(n,2,64,"Telemetry initializer failed: "+xe(s),{exception:re(s)},!0)}}return!r}var e_=function(t){Nn(e,t);function e(){var n=t.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,o;i(),He(e,n,function(a,s){a.addTelemetryInitializer=function(c){return Qm(o,r++,c)},a[vn]=function(c,u){Zm(o,c,u?u[In]():a[In]())&&a[mt](c,u)},a[ks]=function(){i()}});function i(){r=0,o=[]}return n}return e.__ieDyn=1,e}(li),Un,Wh="Plugins must provide initialize method",t_="_notificationManager",Zf="SDK is still unloading...",n_="SDK is not initialized",r_=100,o_=5e4,Bc=ya((Un={cookieCfg:{}},Un[Eo]={rdOnly:!0,ref:!0,v:[]},Un[xo]={rdOnly:!0,ref:!0,v:[]},Un[Vo]={ref:!0,v:{}},Un[Lu]=nn,Un.loggingLevelConsole=0,Un.diagnosticLogInterval=nn,Un));function i_(t,e){return new jm(e)}function a_(t,e,n){var r=[],o=[],i={};return ee(n,function(a){(F(a)||F(a[$a]))&&kt(Wh);var s=a[xs],c=a[zn];a&&s&&(F(i[s])?i[s]=c:Hr(t,"Two extensions have same priority #"+s+" - "+i[s]+", "+c)),!s||s<e?r[Te](a):o[Te](a)}),{core:r,channels:o}}function ed(t,e){var n=!1;return ee(e,function(r){if(r===t)return n=!0,-1}),n}function Xu(t,e,n,r){n&&ke(n,function(o,i){r&&Ct(i)&&Ct(e[o])&&Xu(t,e[o],i,r),r&&Ct(i)&&Ct(e[o])?Xu(t,e[o],i,r):t.set(e,o,i)})}function td(t,e){var n=null,r=-1;return ee(t,function(o,i){if(o.w===e)return n=o,r=i,-1}),{i:r,l:n}}function s_(t,e){var n=td(t,e).l;return n||(n={w:e,rm:function(){var r=td(t,e);r.i!==-1&&t[ui](r.i,1)}},t[Te](n)),n}function c_(t,e,n){ee(e,function(r){var o=Xe(t,r.w,n);delete r.w,r.rm=function(){o.rm()}})}function u_(t,e,n,r){return e.add(t[qr](function(o){var i=o.cfg.disableDbgExt;i===!0&&r&&(n[Ss](r),r=null),n&&!r&&i!==!0&&(r=Im(o.cfg),n[Is](r))})),r}function l_(t){return De({rm:function(){t.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(t)+">"}})}var f_=function(){function t(){var e,n,r,o,i,a,s,c,u,l,d,v,f,h,p,w,y,C,U,B,H,X,R,I,j,O,W,Q,te,_,S,L,E;He(t,this,function(T){A(),T._getDbgPlgTargets=function(){return[R,o]},T[rn]=function(){return n},T.activeStatus=function(){return O},T._setPendingStatus=function(){O=3},T[$a]=function(P,J,ie,Y){f&&kt(Zf),T[rn]()&&kt("Core cannot be initialized more than once"),e=Lt(P,Bc,ie||T[Je],!1),P=e.cfg,Pt(e[qr](function(q){var N=q.cfg;Q=N.initInMemoMaxSize||r_,ae(N);var V=q.ref(q.cfg,Vo);ke(V,function(Z){q.ref(V,Z)})})),i=Y,U=u_(e,C,i&&T[Ra](),U),Me(),T[Je]=ie;var $=P[Eo];if(l=[],l[Te].apply(l,Tf(Tf([],J,!1),$)),d=P[xo],oe(null),(!v||v[de]===0)&&kt("No "+xo+" available"),d&&d[de]>1){var x=T[aa]("TeeChannelController");(!x||!x.plugin)&&z(r,1,28,"TeeChannel required")}c_(P,X,r),X=null,n=!0,O===Vn.ACTIVE&&g()},T.getChannels=function(){var P=[];return v&&ee(v,function(J){P[Te](J)}),Kr(P)},T.track=function(P){Hs(T[Es](),function(){return"AppInsightsCore:track"},function(){P===null&&(yn(P),kt("Invalid telemetry item")),!P[Qr]&&F(P[Qr])&&(yn(P),kt("telemetry name required")),P.iKey=P.iKey||H,P.time=P.time||oi(new Date),P.ver=P.ver||"4.0",!f&&T[rn]()&&O===Vn.ACTIVE?G()[mt](P):O!==Vn.INACTIVE&&o[de]<=Q&&o[Te](P)},function(){return{item:P}},!P.sync)},T[ph]=G,T[Ra]=function(){return i||(i=new Om(e.cfg),T[t_]=i),i},T[Is]=function(P){T.getNotifyMgr()[Is](P)},T[Ss]=function(P){i&&i[Ss](P)},T.getCookieMgr=function(){return c||(c=is(e.cfg,T[Je])),c},T.setCookieMgr=function(P){c!==P&&(Lo(c,!1),c=P)},T[Es]=function(){return a||s||Fm()},T.setPerfMgr=function(P){a=P},T.eventCnt=function(){return o[de]},T.releaseQueue=function(){if(n&&o[de]>0){var P=o;o=[],O===2?ee(P,function(J){J.iKey=J.iKey||H,G()[mt](J)}):z(r,2,20,"core init status is not active")}},T.pollInternalLogs=function(P){return p=P||null,E=!1,S&&S[Ir](),k(!0)};function ae(P){var J=P.instrumentationKey,ie=P.endpointUrl;if(O!==3){if(F(J)){H=null,O=Vn.INACTIVE;var Y="Please provide instrumentation key";n?(z(r,1,100,Y),g()):kt(Y);return}var $=[];ea(J)?($[Te](J),H=null):H=J,ea(ie)?($[Te](ie),W=null):W=ie,$[de]?se(P,$):ue()}}function se(P,J){te=!1,O=3;var ie=Or(P.initTimeOut)?P.initTimeOut:o_,Y=yp(J);_&&_[Ir](),_=pn(function(){_=null,te||ue()},ie),At(Y,function($){try{if(te)return;if(!$.rejected){var x=$[Er];if(x&&x[de]){var q=x[0];if(H=q&&q[Er],x[de]>1){var N=x[1];W=N&&N[Er]}}H&&(P.instrumentationKey=H,P.endpointUrl=W)}ue()}catch{te||ue()}})}function ue(){te=!0,F(H)?(O=Vn.INACTIVE,z(r,1,112,"ikey can't be resolved from promises")):O=Vn.ACTIVE,g()}function g(){n&&(T.releaseQueue(),T.pollInternalLogs())}function k(P){if((!S||!S[Uo])&&!E){var J=P||r&&r.queue[de]>0;J&&(L||(L=!0,Pt(e[qr](function(ie){var Y=ie.cfg.diagnosticLogInterval;(!Y||!(Y>0))&&(Y=1e4);var $=!1;S&&($=S[Uo],S[Ir]()),S=wp(ze,Y),S.unref(),S[Uo]=$}))),S[Uo]=!0)}return S}T[kf]=function(){E=!0,S&&S[Ir](),ze()},Ui(T,function(){return h},["addTelemetryInitializer"]),T[Zr]=function(P,J,ie){P===void 0&&(P=!0),n||kt(n_),f&&kt(Zf);var Y={reason:50,isAsync:P,flushComplete:!1},$;P&&!J&&($=Xr(function(N){J=N}));var x=js(ve(),T);x[Ma](function(){C.run(T[Je]),qh([c,i,r],P,function(){A(),J&&J(Y)})},T);function q(N){Y.flushComplete=N,f=!0,y.run(x,Y),T[kf](),x[mt](Y)}return ze(),wt(P,q,6,ie),$},T[aa]=me,T.addPlugin=function(P,J,ie,Y){if(!P){Y&&Y(!1),ct(Wh);return}var $=me(P[zn]);if($&&!J){Y&&Y(!1),ct("Plugin ["+P[zn]+"] is already loaded!");return}var x={reason:16};function q(Z){l[Te](P),x.added=[P],oe(x),Y&&Y(!0)}if($){var N=[$.plugin],V={reason:2,isAsync:!!ie};Ee(N,V,function(Z){Z?(x.removed=N,x.reason|=32,q()):Y&&Y(!1)})}else q()},T.updateCfg=function(P,J){J===void 0&&(J=!0);var ie;if(T[rn]()){ie={reason:1,cfg:e.cfg,oldCfg:vf({},e.cfg),newConfig:vf({},P),merge:J},P=ie.newConfig;var Y=e.cfg;P[Eo]=Y[Eo],P[xo]=Y[xo]}e._block(function($){var x=$.cfg;Xu($,x,P,J),J||ke(x,function(q){jo(P,q)||$.set(x,q,nn)}),$.setDf(x,Bc)},!0),e.notify(),ie&&Ne(ie)},T.evtNamespace=function(){return w},T.flush=wt,T.getTraceCtx=function(P){return B||(B=Km()),B},T.setTraceCtx=function(P){B=P||null},T.addUnloadHook=Pt,Ds(T,"addUnloadCb",function(){return y},"add"),T.onCfgChange=function(P){var J;return n?J=Xe(e.cfg,P,T[Je]):J=s_(X,P),l_(J)},T.getWParam=function(){return Qd()||e.cfg.enableWParam?0:-1};function m(){var P={};I=[];var J=function(ie){ie&&ee(ie,function(Y){if(Y[zn]&&Y[Nu]&&!P[Y.identifier]){var $=Y[zn]+"="+Y[Nu];I[Te]($),P[Y.identifier]=Y}})};J(v),d&&ee(d,function(ie){J(ie)}),J(l)}function A(){n=!1,e=Lt({},Bc,T[Je]),e.cfg[vh]=1,De(T,"config",{g:function(){return e.cfg},s:function(J){T.updateCfg(J,!1)}}),De(T,"pluginVersionStringArr",{g:function(){return I||m(),I}}),De(T,"pluginVersionString",{g:function(){return j||(I||m(),j=I.join(";")),j||Se}}),De(T,"logger",{g:function(){return r||(r=new Ls(e.cfg),e[Je]=r),r},s:function(J){e[Je]=J,r!==J&&(Lo(r,!1),r=J)}}),T[Je]=new Ls(e.cfg),R=[];var P=T.config[Eo]||[];P.splice(0,P[de]),qo(P,R),h=new e_,o=[],Lo(i,!1),i=null,a=null,s=null,Lo(c,!1),c=null,u=null,l=[],d=null,v=null,f=!1,p=null,w=Ut("AIBaseCore",!0),y=Bh(),B=null,H=null,C=Vh(),X=[],j=null,I=null,E=!1,S=null,L=!1,O=0,W=null,Q=null,te=!1,_=null}function G(){var P=Xt(ve(),e.cfg,T);return P[Ma](k),P}function oe(P){var J=a_(T[Je],wm,l);u=null,j=null,I=null,v=(d||[])[0]||[],v=jc(qo(v,J[xo]));var ie=qo(jc(J[tt]),v);R=Kr(ie);var Y=T.config[Eo]||[];Y.splice(0,Y[de]),qo(Y,R);var $=G();v&&v[de]>0&&Jf($[eo](v),ie),Jf($,ie),P&&Ne(P)}function me(P){var J=null,ie=null,Y=[];return ee(R,function($){if($[zn]===P&&$!==h)return ie=$,-1;$.getChannel&&Y[Te]($)}),!ie&&Y[de]>0&&ee(Y,function($){if(ie=$.getChannel(P),!ie)return-1}),ie&&(J={plugin:ie,setEnabled:function($){jr(ie)[Ou]=!$},isEnabled:function(){var $=jr(ie);return!$[Cn]&&!$[Ou]},remove:function($,x){$===void 0&&($=!0);var q=[ie],N={reason:1,isAsync:$};Ee(q,N,function(V){V&&oe({reason:32,removed:q}),x&&x(V)})}}),J}function ve(){if(!u){var P=(R||[]).slice();ht(P,h)===-1&&P[Te](h),u=to(jc(P),e.cfg,T)}return u}function Ee(P,J,ie){if(P&&P[de]>0){var Y=to(P,e.cfg,T),$=js(Y,T);$[Ma](function(){var x=!1,q=[];ee(l,function(V,Z){ed(V,P)?x=!0:q[Te](V)}),l=q,j=null,I=null;var N=[];d&&(ee(d,function(V,Z){var ce=[];ee(V,function(we){ed(we,P)?x=!0:ce[Te](we)}),N[Te](ce)}),d=N),ie&&ie(x),k()}),$[mt](J)}else ie(!1)}function ze(){if(r&&r.queue){var P=r.queue.slice(0);r.queue[de]=0,ee(P,function(J){var ie={name:p||"InternalMessageId: "+J[Ts],iKey:H,time:oi(new Date),baseType:fa.dataType,baseData:{message:J[Ur]}};T.track(ie)})}}function wt(P,J,ie,Y){var $=1,x=!1,q=null;Y=Y||5e3;function N(){$--,x&&$===0&&(q&&q[Ir](),q=null,J&&J(x),J=null)}if(v&&v[de]>0){var V=G()[eo](v);V.iterate(function(Z){if(Z.flush){$++;var ce=!1;Z.flush(P,function(){ce=!0,N()},ie)||ce||(P&&q==null?q=pn(function(){q=null,N()},Y):N())}})}return x=!0,N(),!0}function Me(){var P;Pt(e[qr](function(J){var ie=J.cfg.enablePerfMgr;if(ie){var Y=J.cfg[Lu];(P!==Y||!P)&&(Y||(Y=i_),pt(J.cfg,Lu,Y),P=Y,s=null),!a&&!s&&$e(Y)&&(s=Y(T,T[Ra]()))}else s=null,P=null}))}function Ne(P){var J=Ql(ve(),T);J[Ma](k),(!T._updateHook||T._updateHook(J,P)!==!0)&&J[mt](P)}function ct(P){var J=T[Je];J?(z(J,2,73,P),k()):kt(P)}function yn(P){var J=T[Ra]();J&&J[Xi]([P],2)}function Pt(P){C.add(P)}})}return t.__ieDyn=1,t}();function Vc(t,e){try{if(t&&t!==""){var n=Kt().parse(t);if(n&&n[Pf]&&n[Pf]>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors[de])return n}}catch(r){z(e,1,43,"Cannot parse the response. "+(r[Qr]||re(r)),{response:t})}return null}var Ot="",d_="NoResponseBody",nd="&"+d_+"=true",Wc="POST",h_=function(){function t(){var e=0,n,r,o,i,a,s,c,u,l,d,v,f,h,p;He(t,this,function(w,y){var C=!0;te(),w[$a]=function(_,S){o=S,r&&z(o,1,28,"Sender is already initialized"),w.SetConfig(_),r=!0},w._getDbgPlgTargets=function(){return[r,i,s,n]},w.SetConfig=function(_){try{if(a=_.senderOnCompleteCallBack||{},s=!!_.disableCredentials,c=_.fetchCredentials,i=!!_.isOneDs,n=!!_.enableSendPromise,l=!!_.disableXhr,d=!!_.disableBeacon,v=!!_.disableBeaconSync,p=_.timeWrapper,h=!!_.addNoResponse,f=!!_.disableFetchKeepAlive,u={sendPOST:O},i||(C=!1),s){var S=on();S&&S.protocol&&S.protocol[ni]()==="file:"&&(C=!1)}return!0}catch{}return!1},w.getSyncFetchPayload=function(){return e},w.getSenderInst=function(_,S){return _&&_[de]?X(_,S):null},w.getFallbackInst=function(){return u},w[ks]=function(_,S){te()},w.preparePayload=function(_,S,L,E){if(!S||E||!L[Ht]){_(L);return}try{var T=dt("CompressionStream");if(!$e(T)){_(L);return}var ae=new ReadableStream({start:function(A){A.enqueue(le(L[Ht])?new TextEncoder().encode(L[Ht]):L[Ht]),A.close()}}),se=ae.pipeThrough(new T("gzip")),ue=se.getReader(),g=[],k=0,m=!1;return At(ue.read(),function A(G){if(!m&&!G.rejected){var oe=G[Er];if(!oe.done)return g[Te](oe[Er]),k+=oe.value[de],At(ue.read(),A);for(var me=new Uint8Array(k),ve=0,Ee=0,ze=g;Ee<ze.length;Ee++){var wt=ze[Ee];me.set(wt,ve),ve+=wt[de]}L[Ht]=me,L[Na]["Content-Encoding"]="gzip",L._chunkCount=g[de]}m||(m=!0,_(L))}),ue}catch{_(L);return}};function U(_,S){R(S,200,{},_)}function B(_,S){z(o,2,26,"Failed to send telemetry.",{message:_}),R(S,400,{})}function H(_){B("No endpoint url is provided for the batch",_)}function X(_,S){for(var L=0,E=null,T=0;E==null&&T<_[de];)L=_[T],!l&&L===1?Zv()?E=Q:sc()&&(E=O):L===2&&Fl(S)&&(!S||!f)?E=W:L===3&&Li()&&(S?!v:!d)&&(E=j),T++;return E?{_transport:L,_isSync:S,sendPOST:E}:null}function R(_,S,L,E){try{_&&_(S,L,E)}catch{}}function I(_,S){var L=Mn(),E=_[pi];if(!E)return H(S),!0;E=_[pi]+(h?nd:Ot);var T=_[Ht],ae=i?T:new Blob([T],{type:"text/plain;charset=UTF-8"}),se=L.sendBeacon(E,ae);return se}function j(_,S,L){var E=_[Ht];try{if(E)if(I(_,S))U(Ot,S);else{var T=a&&a.beaconOnRetry;T&&$e(T)?T(_,S,I):(u&&u.sendPOST(_,S,!0),z(o,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ae){i&&Hr(o,"Failed to send telemetry using sendBeacon API. Ex:"+re(ae)),R(S,i?0:400,{},Ot)}}function O(_,S,L){var E,T,ae,se=_[Na]||{};!L&&n&&(E=Xr(function(m,A){T=m,ae=A})),i&&L&&_.disableXhrSync&&(L=!1);var ue=_[pi];if(!ue){H(S),T&&T(!1);return}var g=Uv(Wc,ue,C,!0,L,_[po]);i||g.setRequestHeader("Content-type","application/json"),ee(Zn(se),function(m){g.setRequestHeader(m,se[m])}),g.onreadystatechange=function(){i||(k(g),g.readyState===4&&T&&T(!0))},g.onload=function(){i&&k(g)};function k(m){var A=a&&a.xhrOnComplete,G=A&&$e(A);if(G)A(m,S,_);else{var oe=Rs(m);R(S,m[bn],Ec(m,i),oe)}}return g.onerror=function(m){R(S,i?g[bn]:400,Ec(g,i),i?Ot:Ms(g)),ae&&ae(m)},g.ontimeout=function(){R(S,i?g[bn]:500,Ec(g,i),i?Ot:Ms(g)),T&&T(!1)},g.send(_[Ht]),E}function W(_,S,L){var E,T=_[pi],ae=_[Ht],se=i?ae:new Blob([ae],{type:"application/json"}),ue,g,k,m=new Headers,A=ae[de],G=!1,oe=!1,me=_[Na]||{},ve=(E={method:Wc,body:se},E[Mf]=!0,E);_.headers&&Zn(_.headers)[de]>0&&(ee(Zn(me),function(Me){m.append(Me,me[Me])}),ve[Na]=m),c?ve.credentials=c:C&&i&&(ve.credentials="include"),L&&(ve.keepalive=!0,e+=A,i?_._sendReason===2&&(G=!0,h&&(T+=nd)):G=!0);var Ee=new Request(T,ve);try{Ee[Mf]=!0}catch{}if(!L&&n&&(ue=Xr(function(Me,Ne){g=Me,k=Ne})),!T){H(S),g&&g(!1);return}function ze(Me,Ne){Ne?R(S,i?0:Ne,{},i?Ot:Me):R(S,i?0:400,{},i?Ot:Me)}function wt(Me,Ne,ct){var yn=Me[bn],Pt=a.fetchOnComplete;Pt&&$e(Pt)?Pt(Me,S,ct||Ot,Ne):R(S,yn,{},ct||Ot)}try{At(fetch(i?T:Ee,i?ve:null),function(Me){if(L&&(e-=A,A=0),!oe)if(oe=!0,Me.rejected)ze(Me.reason&&Me.reason[Ur],499),k&&k(Me.reason);else{var Ne=Me[Er];try{!i&&!Ne.ok?(Ne[bn]?ze(Ne.statusText,Ne[bn]):ze(Ne.statusText,499),g&&g(!1)):i&&!Ne.body?(wt(Ne,null,Ot),g&&g(!0)):At(Ne.text(),function(ct){wt(Ne,_,ct[Er]),g&&g(!0)})}catch(ct){Ne&&Ne[bn]?ze(re(ct),Ne[bn]):ze(re(ct),499),k&&k(ct)}}})}catch(Me){oe||(ze(re(Me),499),k&&k(Me))}return G&&!oe&&(oe=!0,R(S,200,{}),g&&g(!0)),i&&!oe&&_[po]>0&&p&&p.set(function(){oe||(oe=!0,R(S,500,{}),g&&g(!0))},_[po]),ue}function Q(_,S,L){var E=cn(),T=new XDomainRequest,ae=_[Ht];T.onload=function(){var m=Rs(T),A=a&&a.xdrOnComplete;A&&$e(A)?A(T,S,_):R(S,200,{},m)},T.onerror=function(){R(S,400,{},i?Ot:wh(T))},T.ontimeout=function(){R(S,500,{})},T.onprogress=function(){};var se=E&&E.location&&E.location.protocol||"",ue=_[pi];if(!ue){H(S);return}if(!i&&ue.lastIndexOf(se,0)!==0){var g="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";z(o,2,40,". "+g),B(g,S);return}var k=i?ue:ue[Lr](/^(https?:)/,"");T.open(Wc,k),_[po]&&(T[po]=_[po]),T.send(ae),i&&L?p&&p.set(function(){T.send(ae)},0):T.send(ae)}function te(){e=0,r=!1,n=!1,o=null,i=null,a=null,s=null,c=null,u=null,l=!1,d=!1,v=!1,f=!1,h=!1,p=null}})}return t.__ieDyn=1,t}(),zh="on",rd="attachEvent",od="addEventListener",id="detachEvent",ad="removeEventListener",Ju="events",Gu="visibilitychange",uc="pagehide",Kh="unload",Xh="beforeunload",Jh=Ut("aiEvtPageHide");Ut("aiEvtPageShow");var g_=/\.[\.]+/g,p_=/[\.]+$/,v_=1,Fs=Dh("events"),m_=/^([^.]*)(?:\.(.+)|)/;function sd(t){return t&&t[Lr]?t[Lr](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Se):t}function Zl(t,e){if(e){var n=Se;Ce(e)?(n=Se,ee(e,function(o){o=sd(o),o&&(o[0]!=="."&&(o="."+o),n+=o)})):n=sd(e),n&&(n[0]!=="."&&(n="."+n),t=(t||Se)+n)}var r=m_.exec(t||Se)||[];return{type:r[1],ns:(r[2]||Se).replace(g_,".").replace(p_,Se)[ri](".").sort().join(".")}}function Gh(t,e,n){n===void 0&&(n=!0);var r=Fs.get(t,Ju,{},n),o=r[e];return o||(o=r[e]=[]),o}function Yh(t,e,n,r){t&&e&&e[er]&&(t[ad]?t[ad](e[er],n,r):t[id]&&t[id](zh+e[er],n))}function __(t,e,n,r){var o=!1;return t&&e&&e[er]&&n&&(t[od]?(t[od](e[er],n,r),o=!0):t[rd]&&(t[rd](zh+e[er],n),o=!0)),o}function cd(t,e,n,r){for(var o=e[de];o--;){var i=e[o];i&&(!n.ns||n.ns===i[xf].ns)&&(!r||r(i))&&(Yh(t,i[xf],i.handler,i.capture),e[ui](o,1))}}function y_(t,e,n){if(e[er])cd(t,Gh(t,e[er]),e,n);else{var r=Fs.get(t,Ju,{});ke(r,function(o,i){cd(t,i,e,n)}),Zn(r)[de]===0&&Fs.kill(t,Ju)}}function ur(t,e){var n;return e?(Ce(e)?n=[t].concat(e):n=[t,e],n=Zl("xx",n).ns[ri](".")):n=t,n}function Tn(t,e,n,r,o){o===void 0&&(o=!1);var i=!1;if(t)try{var a=Zl(e,r);if(i=__(t,a,n,o),i&&Fs.accept(t)){var s={guid:v_++,evtName:a,handler:n,capture:o};Gh(t,a.type)[Te](s)}}catch{}return i}function zo(t,e,n,r,o){if(o===void 0&&(o=!1),t)try{var i=Zl(e,r),a=!1;y_(t,i,function(s){return i.ns&&!n||s.handler===n?(a=!0,!0):!1}),a||Yh(t,i,n,o)}catch{}}function w_(t,e,n){var r=!1,o=cn();o&&(r=Tn(o,t,e,n),r=Tn(o.body,t,e,n)||r);var i=vt();return i&&(r=Tn(i,t,e,n)||r),r}function $_(t,e,n){var r=cn();r&&(zo(r,t,e,n),zo(r.body,t,e,n));var o=vt();o&&zo(o,t,e,n)}function Bs(t,e,n,r){var o=!1;return e&&t&&t[de]>0&&ee(t,function(i){i&&(!n||ht(n,i)===-1)&&(o=w_(i,e,r)||o)}),o}function b_(t,e,n,r){var o=!1;return e&&t&&Ce(t)&&(o=Bs(t,e,n,r),!o&&n&&n[de]>0&&(o=Bs(t,e,null,r))),o}function Yu(t,e,n){t&&Ce(t)&&ee(t,function(r){r&&$_(r,e,n)})}function C_(t,e,n){return b_([Xh,Kh,uc],t,e,n)}function S_(t,e){Yu([Xh,Kh,uc],t,e)}function Qu(t,e,n){function r(a){var s=vt();t&&s&&s.visibilityState==="hidden"&&t(a)}var o=ur(Jh,n),i=Bs([uc],t,e,o);return(!e||ht(e,Gu)===-1)&&(i=Bs([Gu],r,e,o)||i),!i&&e&&(i=Qu(t,null,n)),i}function I_(t,e){var n=ur(Jh,e);Yu([uc],t,n),Yu([Gu],null,n)}var ud="_aiHooks",ld=["req","rsp","hkErr","fnErr"];function ef(t,e){if(t)for(var n=0;n<t[de]&&!e(t[n],n);n++);}function zc(t,e,n,r,o){o>=0&&o<=2&&ef(t,function(i,a){var s=i.cbks,c=s[ld[o]];if(c){e.ctx=function(){var d=r[a]=r[a]||{};return d};try{c[Yr](e.inst,n)}catch(d){var u=e.err;try{var l=s[ld[2]];l&&(e.err=d,l[Yr](e.inst,n))}catch{}finally{e.err=u}}}})}function T_(t){return function(){var e=this,n=arguments,r=t.h,o={name:t.n,inst:e,ctx:null,set:c},i=[],a=s([o],n);o.evt=dt("event");function s(l,d){return ef(d,function(v){l[Te](v)}),l}function c(l,d){n=s([],n),n[l]=d,a=s([o],n)}zc(r,o,a,i,0);var u=t.f;if(u)try{o.rslt=u[Yr](e,n)}catch(l){throw o.err=l,zc(r,o,a,i,3),l}return zc(r,o,a,i,1),o.rslt}}function tf(t,e,n,r){var o=null;return t&&(hn(t,e)?o=t:n&&(o=tf(Rv(t),e,r,!1))),o}function k_(t,e,n){return t?Zu(t[un],e,n,!1):null}function Qh(t,e,n,r){var o=n&&n[ud];if(!o){o={i:0,n:e,f:n,h:[]};var i=T_(o);i[ud]=o,t[e]=i}var a={id:o.i,cbks:r,rm:function(){var s=this.id;ef(o.h,function(c,u){if(c.id===s)return o.h[ui](u,1),1})}};return o.i++,o.h[Te](a),a}function Zu(t,e,n,r,o){if(r===void 0&&(r=!0),t&&e&&n){var i=tf(t,e,r,o);if(i){var a=i[e];if(typeof a===fh)return Qh(i,e,a,n)}}return null}function La(t,e,n,r,o){if(t&&e&&n){var i=tf(t,e,r,o)||t;if(i)return Qh(i,e,i[e],n)}return null}var Dr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Zh="sampleRate",Kc="ProcessLegacy",fd="http.method",nf="https://dc.services.visualstudio.com",Ko="/v2/track",mn="not_specified",Xc="iKey",Re=Sv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),ii="split",pe="length",da="toLowerCase",hr="ingestionendpoint",ha="toString",rf="removeItem",Sa="message",Po="count",Jc="preTriggerDate",Gc="getUTCDate",Vs="stringify",Yc="pathname",ga="match",dd="correlationHeaderExcludePatterns",_n="name",an="properties",kn="measurements",ss="sizeInBytes",cs="typeName",_i="exceptions",ji="severityLevel",Qc="problemGroup",Xo="parsedStack",Ws="hasFullStack",zs="assembly",xn="fileName",ai="line",lc="aiDataContract",Ks="duration";function eg(t,e,n){var r=e[pe],o=x_(t,e);if(o[pe]!==r){for(var i=0,a=o;n[a]!==void 0;)i++,a=cr(o,0,147)+D_(i);o=a}return o}function x_(t,e){var n;return e&&(e=Oe(no(e)),e[pe]>150&&(n=cr(e,0,150),z(t,2,57,"name is too long.  It has been truncated to 150 characters.",{name:e},!0))),n||e}function Qe(t,e,n){n===void 0&&(n=1024);var r;return e&&(n=n||1024,e=Oe(no(e)),e[pe]>n&&(r=cr(e,0,n),z(t,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:e},!0))),r||e}function fc(t,e){return ng(t,e,2048,66)}function tg(t,e){var n;return e&&e[pe]>32768&&(n=cr(e,0,32768),z(t,2,56,"message is too long, it has been truncated to 32768 characters.",{message:e},!0)),n||e}function E_(t,e){var n;if(e){var r=""+e;r[pe]>32768&&(n=cr(r,0,32768),z(t,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0))}return n||e}function oo(t,e){if(e){var n={};ke(e,function(r,o){if(qt(o)&&ba())try{o=Kt()[Vs](o)}catch(i){z(t,2,49,"custom property is not valid",{exception:i},!0)}o=Qe(t,o,8192),r=eg(t,r,n),n[r]=o}),e=n}return e}function io(t,e){if(e){var n={};ke(e,function(r,o){r=eg(t,r,n),n[r]=o}),e=n}return e}function P_(t,e){return e&&ng(t,e,128,69)[ha]()}function ng(t,e,n,r){var o;return e&&(e=Oe(no(e)),e[pe]>n&&(o=cr(e,0,n),z(t,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:e},!0))),o||e}function D_(t){var e="00"+t;return Wn(e,e[pe]-3)}var hd=vt()||{},gd=0,R_=[null,null,null,null,null];function of(t){var e=gd,n=R_,r=n[e];return hd.createElement?n[e]||(r=n[e]=hd.createElement("a")):r={host:A_(t)},r.href=t,e++,e>=n[pe]&&(e=0),gd=e,r}function M_(t){var e,n=of(t);return n&&(e=n.href),e}function N_(t,e){return t?t.toUpperCase()+" "+e:e}function A_(t,e){var n=rg(t)||"";if(n){var r=n[ga](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[pe]>3&&le(r[2])&&r[2][pe]>0)return r[2]+(r[3]||"")}return n}function rg(t,e){var n=null;if(t){var r=t[ga](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[pe]>2&&le(r[2])&&r[2][pe]>0&&(n=r[2]||"",r[pe]>2)){var o=(r[1]||"")[da](),i=r[3]||"";(o==="http"&&i===":80"||o==="https"&&i===":443")&&(i=""),n+=i}}return n}var q_=[nf+Ko,"https://breeze.aimon.applicationinsights.io"+Ko,"https://dc-int.services.visualstudio.com"+Ko],U_="cid-v1:";function el(t){return ht(q_,t[da]())!==-1}function pd(t,e,n){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t[dd]){for(var r=0;r<t.correlationHeaderExcludePatterns[pe];r++)if(t[dd][r].test(e))return!1}var o=of(e).host[da]();if(o&&(_t(o,":443")!==-1||_t(o,":80")!==-1)&&(o=(rg(e)||"")[da]()),(!t||!t.enableCorsCorrelation)&&o&&o!==n)return!1;var i=t&&t.correlationHeaderDomains;if(i){var a;if(ee(i,function(u){var l=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||l.test(o)}),!a)return!1}var s=t&&t.correlationHeaderExcludedDomains;if(!s||s[pe]===0)return!0;for(var r=0;r<s[pe];r++){var c=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(o))return!1}return o&&o[pe]>0}function vd(t){if(t){var e=L_(t,Re[1]);if(e&&e!==U_)return e}}function L_(t,e){if(t)for(var n=t[ii](","),r=0;r<n[pe];++r){var o=n[r][ii]("=");if(o[pe]===2&&o[0]===e)return o[1]}}function O_(t,e,n,r){var o,i=r,a=r;if(e&&e[pe]>0){var s=of(e);if(o=s.host,!i)if(s[Yc]!=null){var c=s.pathname[pe]===0?"/":s[Yc];c.charAt(0)!=="/"&&(c="/"+c),a=s[Yc],i=Qe(t,n?n+" "+c:c)}else i=Qe(t,e)}else o=r,i=r;return{target:o,name:i,data:a}}function Oa(){var t=Pn();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return gn()}function bt(t,e){var n=null;return t!==0&&e!==0&&!F(t)&&!F(e)&&(n=e-t),n}function af(t,e){var n=t||{};return{getName:function(){return n[_n]},setName:function(r){e&&e.setName(r),n[_n]=r},getTraceId:function(){return n.traceID},setTraceId:function(r){e&&e.setTraceId(r),Jl(r)&&(n.traceID=r)},getSpanId:function(){return n.parentID},setSpanId:function(r){e&&e.setSpanId(r),Gl(r)&&(n.parentID=r)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),n.traceFlags=r}}}var Ia=gh({LocalStorage:0,SessionStorage:1}),nr=void 0,rr=void 0,og="";function sf(){return hc()?dc(Ia.LocalStorage):null}function dc(t){try{if(F(sn()))return null;var e=new Date()[ha](),n=dt(t===Ia.LocalStorage?"localStorage":"sessionStorage"),r=og+e;n.setItem(r,e);var o=n.getItem(r)!==e;if(n[rf](r),!o)return n}catch{}return null}function cf(){return pa()?dc(Ia.SessionStorage):null}function H_(){nr=!1,rr=!1}function uf(t){og=t||""}function j_(){nr=hc(!0),rr=pa(!0)}function hc(t){return(t||nr===void 0)&&(nr=!!dc(Ia.LocalStorage)),nr}function ig(t,e){var n=sf();if(n!==null)try{return n.getItem(e)}catch(r){nr=!1,z(t,2,1,"Browser failed read of local storage. "+xe(r),{exception:re(r)})}return null}function ag(t,e,n){var r=sf();if(r!==null)try{return r.setItem(e,n),!0}catch(o){nr=!1,z(t,2,3,"Browser failed write to local storage. "+xe(o),{exception:re(o)})}return!1}function F_(t,e){var n=sf();if(n!==null)try{return n[rf](e),!0}catch(r){nr=!1,z(t,2,5,"Browser failed removal of local storage item. "+xe(r),{exception:re(r)})}return!1}function pa(t){return(t||rr===void 0)&&(rr=!!dc(Ia.SessionStorage)),rr}function tl(t,e){var n=cf();if(n!==null)try{return n.getItem(e)}catch(r){rr=!1,z(t,2,2,"Browser failed read of session storage. "+xe(r),{exception:re(r)})}return null}function sg(t,e,n){var r=cf();if(r!==null)try{return r.setItem(e,n),!0}catch(o){rr=!1,z(t,2,4,"Browser failed write to session storage. "+xe(o),{exception:re(o)})}return!1}function cg(t,e){var n=cf();if(n!==null)try{return n[rf](e),!0}catch(r){rr=!1,z(t,2,6,"Browser failed removal of session storage item. "+xe(r),{exception:re(r)})}return!1}var B_="appInsightsThrottle",V_=function(){function t(e,n){var r=this,o,i,a,s,c,u,l,d=!1,v=!1;h(),r._getDbgPlgTargets=function(){return[l]},r.getConfig=function(){return a},r.canThrottle=function(_){var S=W(_),L=p(_);return C(L,o,S)},r.isTriggered=function(_){return Q(_)},r.isReady=function(){return d},r.flush=function(_){try{var S=te(_);if(S&&S[pe]>0){var L=S.slice(0);return l[_]=[],ee(L,function(E){f(E.msgID,E[Sa],E.severity,!1)}),!0}}catch{}return!1},r.flushAll=function(){try{if(l){var _=!0;return ke(l,function(S){var L=r.flush(parseInt(S));_=_&&L}),_}}catch{}return!1},r.onReadyState=function(_,S){return S===void 0&&(S=!0),d=F(_)?!0:_,d&&S?r.flushAll():null},r.sendMessage=function(_,S,L){return f(_,S,L,!0)};function f(_,S,L,E){if(d){var T=O(_);if(!T)return;var ae=p(_),se=W(_),ue=C(ae,o,se),g=!1,k=0,m=Q(_);try{ue&&!m?(k=rh(ae.limit.maxSendNumber,se[Po]+1),se[Po]=0,g=!0,c[_]=!0,se[Jc]=new Date):(c[_]=ue,se[Po]+=1);var A=U(_);R(i,A,se);for(var G=0;G<k;G++)j(_,i,S,L)}catch{}return{isThrottled:g,throttleNum:k}}else if(E){var oe=te(_);oe.push({msgID:_,message:S,severity:L})}return null}function h(){i=ro(e),c={},s={},l={},a={},w(109),u=Or(n)?n:"",e.addUnloadHook(Xe(e.config,function(_){var S=_.cfg;o=hc();var L=S.throttleMgrCfg||{};ke(L,function(E,T){w(parseInt(E),T)})}))}function p(_){return a[_]||a[109]}function w(_,S){var L,E;try{var T=S||{},ae={};ae.disabled=!!T.disabled;var se=T.interval||{};v=se?.daysOfMonth&&se?.daysOfMonth[pe]>0,ae.interval=y(se);var ue={samplingRate:((L=T.limit)===null||L===void 0?void 0:L.samplingRate)||100,maxSendNumber:((E=T.limit)===null||E===void 0?void 0:E.maxSendNumber)||1};ae.limit=ue,a[_]=ae}catch{}}function y(_){_=_||{};var S=_?.monthInterval,L=_?.dayInterval;return F(S)&&F(L)&&(_.monthInterval=3,v||(_.daysOfMonth=[28],v=!0)),_={monthInterval:_?.monthInterval,dayInterval:_?.dayInterval,daysOfMonth:_?.daysOfMonth},_}function C(_,S,L){if(_&&!_.disabled&&S&&Or(L)){var E=X(),T=L.date,ae=_.interval,se=1;if(ae?.monthInterval){var ue=(E.getUTCFullYear()-T.getUTCFullYear())*12+E.getUTCMonth()-T.getUTCMonth();se=I(ae.monthInterval,0,ue)}var g=1;if(v)g=ht(ae.daysOfMonth,E[Gc]());else if(ae?.dayInterval){var k=Et((E.getTime()-T.getTime())/864e5);g=I(ae.dayInterval,0,k)}return se>=0&&g>=0}return!1}function U(_,S){var L=Or(S)?S:"";return _?B_+L+"-"+_:null}function B(_){try{if(_){var S=new Date;return _.getUTCFullYear()===S.getUTCFullYear()&&_.getUTCMonth()===S.getUTCMonth()&&_[Gc]()===S[Gc]()}}catch{}return!1}function H(_,S,L){try{var E={date:X(),count:0};if(_){var T=JSON.parse(_),ae={date:X(T.date)||E.date,count:T[Po]||E[Po],preTriggerDate:T.preTriggerDate?X(T[Jc]):void 0};return ae}else return R(S,L,E),E}catch{}return null}function X(_){try{if(_){var S=new Date(_);if(!isNaN(S.getDate()))return S}else return new Date}catch{}return null}function R(_,S,L){try{return ag(_,S,Oe(JSON[Vs](L)))}catch{}return!1}function I(_,S,L){return _<=0?1:L>=S&&(L-S)%_==0?Et((L-S)/_)+1:-1}function j(_,S,L,E){z(S,E||1,_,L)}function O(_){try{var S=p(_);return im(1e6)<=S.limit.samplingRate}catch{}return!1}function W(_){try{var S=s[_];if(!S){var L=U(_,u);S=H(ig(i,L),i,L),s[_]=S}return s[_]}catch{}return null}function Q(_){var S=c[_];if(F(S)){S=!1;var L=W(_);L&&(S=B(L[Jc])),c[_]=S}return c[_]}function te(_){return l=l||{},F(l[_])&&(l[_]=[]),l[_]}}return t}(),W_=";",z_="=";function ug(t){if(!t)return{};var e=t[ii](W_),n=Tp(e,function(o,i){var a=i[ii](z_);if(a[pe]===2){var s=a[0][da](),c=a[1];o[s]=c}return o},{});if(Zn(n)[pe]>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n[hr]=n[hr]||"https://"+r+"dc."+n.endpointsuffix}n[hr]=n[hr]||nf,th(n[hr],"/")&&(n[hr]=n[hr].slice(0,-1))}return n}var K_=function(){function t(e,n,r){var o=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i[_n]=Qe(e,r)||mn,i.data=n,i.time=oi(new Date),i[lc]={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1}}return t}(),Kn=function(){function t(e,n,r,o){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i[_n]=Qe(e,n)||mn,i[an]=oo(e,r),i[kn]=io(e,o)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(),X_=58,J_=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,G_=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Y_=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Q_=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,Z_=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,ey=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,ty=/([^\(\s\n]+):([0-9]+)$/,md="<no_method>",Jo="error",Mt="stack",nl="stackDetails",_d="errorSrc",rl="message",lg="description",yd=[{re:G_,len:5,m:1,fn:2,ln:3,col:4},{chk:ry,pre:ny,re:Y_,len:4,m:1,fn:2,ln:3},{re:Q_,len:3,m:1,fn:2,hdl:$d},{re:Z_,len:2,fn:1,hdl:$d}];function ny(t){return t.replace(/(\(anonymous\))/,"<anonymous>")}function ry(t){return _t(t,"[native")<0}function ol(t,e){var n=t;return n&&!le(n)&&(JSON&&JSON[Vs]?(n=JSON[Vs](t),e&&(!n||n==="{}")&&($e(t[ha])?n=t[ha]():n=""+t)):n=""+t+" - (Missing JSON.stringify)"),n||""}function fg(t,e){var n=t;return t&&(n&&!le(n)&&(n=t[rl]||t[lg]||n),n&&!le(n)&&(n=ol(n,!0)),t.filename&&(n=n+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&_t(n||"",e)===-1&&(n=e+": "+n),n||""}function oy(t){try{if(qt(t))return"hasFullStack"in t&&"typeName"in t}catch{}return!1}function iy(t){try{if(qt(t))return"ver"in t&&"exceptions"in t&&"properties"in t}catch{}return!1}function wd(t){return t&&t.src&&le(t.src)&&t.obj&&Ce(t.obj)}function gr(t){var e=t||"";le(e)||(le(e[Mt])?e=e[Mt]:e=""+e);var n=e[ii](`
`);return{src:e,obj:n}}function ay(t){for(var e=[],n=t[ii](`
`),r=0;r<n[pe];r++){var o=n[r];n[r+1]&&(o+="@"+n[r+1],r++),e.push(o)}return{src:t,obj:e}}function dg(t){var e=null;if(t)try{if(t[Mt])e=gr(t[Mt]);else if(t[Jo]&&t[Jo][Mt])e=gr(t[Jo][Mt]);else if(t.exception&&t.exception[Mt])e=gr(t.exception[Mt]);else if(wd(t))e=t;else if(wd(t[nl]))e=t[nl];else if(cn()&&cn().opera&&t[rl])e=ay(t[Sa]);else if(t.reason&&t.reason[Mt])e=gr(t.reason[Mt]);else if(le(t))e=gr(t);else{var n=t[rl]||t[lg]||"";le(t[_d])&&(n&&(n+=`
`),n+=" from "+t[_d]),n&&(e=gr(n))}}catch(r){e=gr(r)}return e||{src:"",obj:null}}function sy(t){var e="";return t&&(t.obj?e=t.obj.join(`
`):e=t.src||""),e}function cy(t){var e,n=t.obj;if(n&&n[pe]>0){e=[];var r=0,o=!1,i=0;ee(n,function(p){if(o||dy(p)){var w=no(p);o=!0;var y=hy(w,r);y&&(i+=y[ss],e.push(y),r++)}});var a=32*1024;if(i>a)for(var s=0,c=e[pe]-1,u=0,l=s,d=c;s<c;){var v=e[s][ss],f=e[c][ss];if(u+=v+f,u>a){var h=d-l+1;e.splice(l,h);break}l=s,d=c,s++,c--}}return e}function Xs(t){var e="";if(t&&(e=t.typeName||t[_n]||"",!e))try{var n=/function (.{1,200})\(/,r=n.exec(t.constructor[ha]());e=r&&r[pe]>1?r[1]:""}catch{}return e}function Zc(t){if(t)try{if(!le(t)){var e=Xs(t),n=ol(t,!1);return(!n||n==="{}")&&(t[Jo]&&(t=t[Jo],e=Xs(t)),n=ol(t,!0)),_t(n,e)!==0&&e!=="String"?e+":"+n:n}}catch{}return""+(t||"")}var Nt=function(){function t(e,n,r,o,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var s=this;s.ver=2,iy(n)?(s[_i]=n[_i]||[],s[an]=n[an],s[kn]=n[kn],n[ji]&&(s[ji]=n[ji]),n.id&&(s.id=n.id,n[an].id=n.id),n[Qc]&&(s[Qc]=n[Qc]),F(n.isManual)||(s.isManual=n.isManual)):(r||(r={}),a&&(r.id=a),s[_i]=[hg(e,n,r)],s[an]=oo(e,r),s[kn]=io(e,o),i&&(s[ji]=i),a&&(s.id=a))}return t.CreateAutoException=function(e,n,r,o,i,a,s,c){var u=Xs(i||a||e);return{message:fg(e,u),url:n,lineNumber:r,columnNumber:o,error:Zc(i||a||e),evt:Zc(a||e),typeName:u,stackDetails:dg(s||i||a),errorSrc:c}},t.CreateFromInterface=function(e,n,r,o){var i=n[_i]&&ta(n[_i],function(s){return fy(e,s)}),a=new t(e,yt(yt({},n),{exceptions:i}),r,o);return a},t.prototype.toInterface=function(){var e=this,n=e.exceptions,r=e.properties,o=e.measurements,i=e.severityLevel,a=e.problemGroup,s=e.id,c=e.isManual,u=n instanceof Array&&ta(n,function(l){return l.toInterface()})||void 0;return{ver:"4.0",exceptions:u,severityLevel:i,properties:r,measurements:o,problemGroup:a,id:s,isManual:c}},t.CreateSimpleException=function(e,n,r,o,i,a){var s;return{exceptions:[(s={},s[Ws]=!0,s.message=e,s.stack=i,s.typeName=n,s)]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Zc,t}(),uy=Kr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function ly(){var t=this,e=Ce(t[Xo])&&ta(t[Xo],function(r){return py(r)}),n={id:t.id,outerId:t.outerId,typeName:t[cs],message:t[Sa],hasFullStack:t[Ws],stack:t[Mt],parsedStack:e||void 0};return n}function hg(t,e,n){var r,o,i,a,s,c,u,l;if(oy(e))a=e[cs],s=e[Sa],u=e[Mt],l=e[Xo]||[],c=e[Ws];else{var d=e,v=d&&d.evt;Dl(d)||(d=d[Jo]||v||d),a=Qe(t,Xs(d))||mn,s=tg(t,fg(e||d,a))||mn;var f=e[nl]||dg(e);l=cy(f),Ce(l)&&ta(l,function(h){h[zs]=Qe(t,h[zs]),h[xn]=Qe(t,h[xn])}),u=E_(t,sy(f)),c=Ce(l)&&l[pe]>0,n&&(n[cs]=n[cs]||a)}return r={},r[lc]=uy,r.id=o,r.outerId=i,r.typeName=a,r.message=s,r[Ws]=c,r.stack=u,r.parsedStack=l,r.toInterface=ly,r}function fy(t,e){var n=Ce(e[Xo])&&ta(e[Xo],function(o){return gy(o)})||e[Xo],r=hg(t,yt(yt({},e),{parsedStack:n}));return r}function gg(t,e){var n=e[ga](ey);if(n&&n[pe]>=4)t[xn]=n[1],t[ai]=parseInt(n[2]);else{var r=e[ga](ty);r&&r[pe]>=3?(t[xn]=r[1],t[ai]=parseInt(r[2])):t[xn]=e}}function $d(t,e,n){var r=t[xn];e.fn&&n&&n[pe]>e.fn&&(e.ln&&n[pe]>e.ln?(r=Oe(n[e.fn]||""),t[ai]=parseInt(Oe(n[e.ln]||""))||0):r=Oe(n[e.fn]||"")),r&&gg(t,r)}function dy(t){var e=!1;if(t&&le(t)){var n=Oe(t);n&&(e=J_.test(n))}return e}var pg=Kr({level:1,method:1,assembly:0,fileName:0,line:0});function hy(t,e){var n,r;if(t&&le(t)&&Oe(t)){r=(n={},n[lc]=pg,n.level=e,n.assembly=Oe(t),n.method=md,n.fileName="",n.line=0,n.sizeInBytes=0,n);for(var o=0;o<yd[pe];){var i=yd[o];if(i.chk&&!i.chk(t))break;i.pre&&(t=i.pre(t));var a=t[ga](i.re);if(a&&a[pe]>=i.len){i.m&&(r.method=Oe(a[i.m]||md)),i.hdl?i.hdl(r,i,a):i.fn&&(i.ln?(r[xn]=Oe(a[i.fn]||""),r[ai]=parseInt(Oe(a[i.ln]||""))||0):gg(r,a[i.fn]||""));break}o++}}return vg(r)}function gy(t){var e,n=(e={},e[lc]=pg,e.level=t.level,e.method=t.method,e.assembly=t[zs],e.fileName=t[xn],e.line=t[ai],e.sizeInBytes=0,e);return vg(n)}function vg(t){var e=X_;return t&&(e+=t.method[pe],e+=t.assembly[pe],e+=t.fileName[pe],e+=t.level.toString()[pe],e+=t.line.toString()[pe],t[ss]=e),t}function py(t){return{level:t.level,method:t.method,assembly:t[zs],fileName:t[xn],line:t[ai]}}var vy=function(){function t(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return t}(),Fr=function(){function t(e,n,r,o,i,a,s,c,u){this.aiDataContract={ver:1,metrics:1,properties:0};var l=this;l.ver=2;var d=new vy;d[Po]=o>0?o:void 0,d.max=isNaN(a)||a===null?void 0:a,d.min=isNaN(i)||i===null?void 0:i,d[_n]=Qe(e,n)||mn,d.value=r,d.stdDev=isNaN(s)||s===null?void 0:s,l.metrics=[d],l[an]=oo(e,c),l[kn]=io(e,u)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(),yi="";function Xn(t){(isNaN(t)||t<0)&&(t=0),t=nh(t);var e=yi+t%1e3,n=yi+Et(t/1e3)%60,r=yi+Et(t/(1e3*60))%60,o=yi+Et(t/(1e3*60*60))%24,i=Et(t/(1e3*60*60*24));return e=e[pe]===1?"00"+e:e[pe]===2?"0"+e:e,n=n[pe]<2?"0"+n:n,r=r[pe]<2?"0"+r:r,o=o[pe]<2?"0"+o:o,(i>0?i+".":yi)+o+":"+r+":"+n+"."+e}function my(t,e,n,r,o){return!o&&le(t)&&(t==="Script error."||t==="Script error")}var or=function(){function t(e,n,r,o,i,a,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=P_(e,s),c.url=fc(e,r),c[_n]=Qe(e,n)||mn,isNaN(o)||(c[Ks]=Xn(o)),c[an]=oo(e,i),c[kn]=io(e,a)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(),Br=function(){function t(e,n,r,o,i,a,s,c,u,l,d,v){u===void 0&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=n,f[Ks]=Xn(i),f.success=a,f.resultCode=s+"",f.type=Qe(e,u);var h=O_(e,r,c,o);f.data=fc(e,o)||h.data,f.target=Qe(e,h.target),l&&(f.target="".concat(f.target," | ").concat(l)),f[_n]=Qe(e,h[_n]),f[an]=oo(e,d),f[kn]=io(e,v)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(),Go=function(){function t(e,n,r,o,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,n=n||mn,a[Sa]=tg(e,n),a[an]=oo(e,o),a[kn]=io(e,i),r&&(a[ji]=r)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(),Yo=function(){function t(e,n,r,o,i,a,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=fc(e,r),c[_n]=Qe(e,n)||mn,c[an]=oo(e,i),c[kn]=io(e,a),s&&(c.domProcessing=s.domProcessing,c[Ks]=s[Ks],c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(),ao=function(){function t(e,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=n}return t}();function lr(t){var e="ai."+t+".";return function(n){return e+n}}var wi=lr("application"),Ze=lr("device"),Ha=lr("location"),_o=lr("operation"),eu=lr("session"),Ln=lr("user"),pr=lr("cloud"),$i=lr("internal"),mg=function(t){Nn(e,t);function e(){return t.call(this)||this}return e}(Nv({applicationVersion:wi("ver"),applicationBuild:wi("build"),applicationTypeId:wi("typeId"),applicationId:wi("applicationId"),applicationLayer:wi("layer"),deviceId:Ze("id"),deviceIp:Ze("ip"),deviceLanguage:Ze("language"),deviceLocale:Ze("locale"),deviceModel:Ze("model"),deviceFriendlyName:Ze("friendlyName"),deviceNetwork:Ze("network"),deviceNetworkName:Ze("networkName"),deviceOEMName:Ze("oemName"),deviceOS:Ze("os"),deviceOSVersion:Ze("osVersion"),deviceRoleInstance:Ze("roleInstance"),deviceRoleName:Ze("roleName"),deviceScreenResolution:Ze("screenResolution"),deviceType:Ze("type"),deviceMachineName:Ze("machineName"),deviceVMName:Ze("vmName"),deviceBrowser:Ze("browser"),deviceBrowserVersion:Ze("browserVersion"),locationIp:Ha("ip"),locationCountry:Ha("country"),locationProvince:Ha("province"),locationCity:Ha("city"),operationId:_o("id"),operationName:_o("name"),operationParentId:_o("parentId"),operationRootId:_o("rootId"),operationSyntheticSource:_o("syntheticSource"),operationCorrelationVector:_o("correlationVector"),sessionId:eu("id"),sessionIsFirst:eu("isFirst"),sessionIsNew:eu("isNew"),userAccountAcquisitionDate:Ln("accountAcquisitionDate"),userAccountId:Ln("accountId"),userAgent:Ln("userAgent"),userId:Ln("id"),userStoreRegion:Ln("storeRegion"),userAuthUserId:Ln("authUserId"),userAnonymousUserAcquisitionDate:Ln("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ln("authUserAcquisitionDate"),cloudName:pr("name"),cloudRole:pr("role"),cloudRoleVer:pr("roleVer"),cloudRoleInstance:pr("roleInstance"),cloudEnvironment:pr("environment"),cloudLocation:pr("location"),cloudDeploymentUnit:pr("deploymentUnit"),internalNodeName:$i("nodeName"),internalSdkVersion:$i("sdkVersion"),internalAgentVersion:$i("agentVersion"),internalSnippet:$i("snippet"),internalSdkSrc:$i("sdkSrc")}));function Fn(t,e,n,r,o,i){n=Qe(r,n)||mn,(F(t)||F(e)||F(n))&&kt("Input doesn't contain all required fields");var a="";t[Xc]&&(a=t[Xc],delete t[Xc]);var s={name:n,time:oi(new Date),iKey:a,ext:i||{},tags:[],data:{},baseType:e,baseData:t};return F(o)||ke(o,function(c,u){s.data[c]=u}),s}var Tt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os"},Le=new mg;function bi(t){var e=null;if($e(Event))e=new Event(t);else{var n=vt();n&&n.createEvent&&(e=n.createEvent("Event"),e.initEvent(t,!0,!0))}return e}function bd(t,e){zo(t,null,null,e)}function _y(t){var e=vt(),n=Mn(),r=!1,o=[],i=1;n&&!F(n.onLine)&&!n.onLine&&(i=2);var a=0,s=v(),c=ur(Ut("OfflineListener"),t);try{if(l(cn())&&(r=!0),e){var u=e.body||e;u.ononline&&l(u)&&(r=!0)}}catch{r=!1}function l(U){var B=!1;return U&&(B=Tn(U,"online",p,c),B&&Tn(U,"offline",w,c)),B}function d(){return s}function v(){return!(a===2||i===2)}function f(){var U=v();s!==U&&(s=U,ee(o,function(B){var H={isOnline:s,rState:i,uState:a};try{B(H)}catch{}}))}function h(U){a=U,f()}function p(){i=1,f()}function w(){i=2,f()}function y(){var U=cn();if(U&&r){if(bd(U,c),e){var B=e.body||e;rt(B.ononline)||bd(B,c)}r=!1}}function C(U){return o.push(U),{rm:function(){var B=o.indexOf(U);if(B>-1)return o.splice(B,1)}}}return{isOnline:d,isListening:function(){return r},unload:y,addListener:C,setOnlineState:h}}var gc="AppInsightsPropertiesPlugin",_g="AppInsightsChannelPlugin",yg="ApplicationInsightsAnalytics",us="featureOptIn",wg="scheduleFetchTimeout";function $g(t,e,n,r){try{var o=n>r;o&&(t=null);var i=n==0?kp({},t):t;return i&&e&&!o&&ke(i,function(a){var s=e[a];s&&(qt(i[a])&&qt(s)?i[a]=$g(i[a],s,++n,r):delete i[a])}),i}catch{}return t}var Qo="featureOptIn.",bg=".mode",Cg=".onCfg",Sg=".offCfg";function yy(t,e,n){var r;if(!e||!e.enabled)return null;var o=(e[us]||{})[t]||{mode:1},i=o.mode,a=o.onCfg,s=o.offCfg,c=(n||{})[t]||{mode:2},u=c.mode,l=c.onCfg,d=c.offCfg,v=!!c.blockCdnCfg,f=Qo+t+bg,h=Qo+t+Cg,p=Qo+t+Sg,w=u,y=l,C=d;return v||(i===4||i===5?(w=i==4?3:2,y=a||l,C=s||d):i===2||u===2?(w=2,y=l||a,C=d||s):i===3?(w=3,y=l||a,C=d||s):i===1&&u===1&&(w=1)),r={},r[f]=w,r[h]=y,r[p]=C,r}function wy(t,e){try{if(!t||!t.enabled)return null;if(!t[us])return t.config;var n=t[us],r=t.config||{};return ke(n,function(o){var i=yy(o,t,e.config[us]);F(i)||(ke(i,function(a,s){oh(r,a,s)}),$y(o,i,r))}),r}catch{}return null}function $y(t,e,n){var r=e[Qo+t+bg],o=e[Qo+t+Cg],i=e[Qo+t+Sg],a=null;r===3&&(a=o),r===2&&(a=i),a&&ke(a,function(s,c){oh(n,s,c)})}var Ci,by="ai_cfgsync",Cd="GET",Cy=18e5,yo=void 0,Sy={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},Iy=ya((Ci={syncMode:1,blkCdnCfg:yo,customEvtName:yo,cfgUrl:yo,overrideSyncFn:yo,overrideFetchFn:yo,onCfgChangeReceive:yo},Ci[wg]=Cy,Ci.nonOverrideConfigs=Sy,Ci.enableAjax=!1,Ci)),Ty=function(t){Nn(e,t);function e(){var n=t.call(this)||this;n.priority=198,n.identifier="AppInsightsCfgSyncPlugin";var r,o,i,a,s,c,u,l,d,v,f,h,p,w,y,C,U=!1,B;return He(e,n,function(H,X){R(),H.initialize=function(g,k,m,A){X.initialize(g,k,m,A),a=ur(Ut(H.identifier),k.evtNamespace&&k.evtNamespace()),I(g)},H.getCfg=function(){return o},H.pause=function(){U=!0,ue()},H.resume=function(){U=!1,se()},H.setCfg=function(g){return j(g)},H.sync=function(g){return W(g)},H.updateEventListenerName=function(g){return Q(g)},H._doTeardown=function(g,k){O(),ue(),R()},H._getDbgPlgTargets=function(){return[l,u,i,d,p]};function R(){o=null,i=null,a=null,s=null,u=null,l=null,p=null,c=null,v=null,f=null,d=null,B=!1,y=null,C=null,h=null}function I(g){var k=H.identifier,m=H.core;H._addHook(Xe(g,function(){var A=Xt(null,g,m);r=A.getExtCfg(k,Iy);var G=d;d=!!r.blkCdnCfg,B=!!r.enableAjax,!F(G)&&G!==d&&(!d&&s?w&&w(s,L,l):ue()),F(u)&&(u=r.syncMode===2),F(l)&&(l=r.syncMode===1);var oe=r.customEvtName||by;i!==oe&&(u?Q(oe):(O(),i=oe)),F(s)&&(s=r.cfgUrl),s||(o=g,l&&W())})),C=r.overrideSyncFn,y=r.overrideFetchFn,h=r.onCfgChangeReceive,p=r.nonOverrideConfigs,v=r[wg],w=te(),f=0,s&&!d&&w&&w(s,L,l)}function j(g,k){if(g){if(o=g,k&&!U)return W();if(u&&!U)return H.core.updateCfg(g),!0}return!1}function O(){try{var g=sn();g&&zo(g,null,null,a)}catch{}}function W(g){try{return C&&$e(C)?C(o,g):nm(i,o,g)}catch{}return!1}function Q(g){try{return O(),g&&(i=g,T()),!0}catch{}return!1}function te(){var g=y;return F(g)&&(Fl()?g=_:sc()&&(g=S)),g}function _(g,k,m){var A=sn(),G=A&&A.fetch||null;if(g&&G&&$e(G))try{var oe={method:Cd};B||(oe[Dr]=!0);var me=new Request(g,oe);if(!B)try{me[Dr]=!0}catch{}At(fetch(me),function(ve){var Ee=ve.value;ve.rejected?E(k,400):Ee.ok?At(Ee.text(),function(ze){E(k,Ee.status,ze.value,m)}):E(k,Ee.status,null,m)})}catch{}}function S(g,k,m){try{var A=new XMLHttpRequest;B||(A[Dr]=!0),A.open(Cd,g),A.onreadystatechange=function(){A.readyState===XMLHttpRequest.DONE&&E(k,A.status,A.responseText,m)},A.onerror=function(){E(k,400)},A.ontimeout=function(){E(k,400)},A.send()}catch{}}function L(g,k,m){try{if(g>=200&&g<400&&k){f=0;var A=Kt();if(A){var G=A.parse(k),oe=wy(G,H.core),me=oe&&Ct(oe)&&ae(oe);me&&j(me,m)}}else f++;f<3&&se()}catch{}}function E(g,k,m,A){try{g(k,m,A)}catch{}}function T(){if(u){var g=sn();if(g)try{Tn(g,i,function(k){var m=k&&k.detail;if(h&&m)h(m);else{var A=m&&m.cfg,G=A&&Ct(A)&&ae(A);G&&j(G)}},a,!0)}catch{}}}function ae(g,k){var m=null;try{g&&(m=$g(g,p,0,5))}catch{}return m}function se(){!c&&v&&(c=pn(function(){c=null,w(s,L,l)},v),c.unref())}function ue(){c&&c.cancel(),c=null,f=0}H.processTelemetry=function(g,k){H.processNext(g,k)}}),n}return e.__ieDyn=1,e}(li),ky=function(){function t(){}return t}(),xy=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}(),Ey="3.3.9",Py=function(){function t(e,n){var r=this,o=Xe(e,function(){var i=e.sdkExtension;r.sdkVersion=(i?i+"_":"")+"javascript:"+Ey});n&&n.add(o)}return t}(),Dy=function(){function t(){}return t}(),Js="session",Gs="sessionManager",ls="isUserCookieSet",Ys="isNewUser",tu="getTraceCtx",il="telemetryTrace",Ig="applySessionContext",Tg="applyApplicationContext",kg="applyOperationContext",xg="applyOperatingSystemContxt",Eg="applyLocationContext",Pg="applyInternalContext",fs="getSessionId",Dg="sessionCookiePostfix",br="automaticSession",Do="accountId",Ro="authenticatedId",Si="acquisitionDate",ja="renewalDate",Ii="cookieSeparator",nu="authUserCookieName",Ry="ai_session",My=864e5,Ny=18e5,Ay=6e4,Rg=function(){function t(){}return t}(),qy=function(){function t(e,n,r){var o=this,i,a,s=ro(n),c=Xl(n),u,l;He(t,o,function(d){e||(e={});var v=Xe(e,function(C){u=e.sessionExpirationMs||My,l=e.sessionRenewalMs||Ny;var U=e[Dg]||e.namePrefix||"";i=Ry+U});r&&r.add(v),d[br]=new Rg,d.update=function(){var C=gn(),U=!1,B=d[br];if(B.id||(U=!f(B)),!U&&u>0){var H=C-B[Si],X=C-B[ja];U=H<0||X<0,U=U||H>u,U=U||X>l}U?p(C):(!a||C-a>Ay)&&w(B,C)},d.backup=function(){var C=d[br];y(C.id,C[Si],C[ja])};function f(C,U){var B=!1,H=c.get(i);if(H&&$e(H.split))B=h(C,H);else{var X=ig(s,i);X&&(B=h(C,X))}return B||!!C.id}function h(C,U){var B=!1,H=", session will be reset",X=U.split("|");if(X.length>=2)try{var R=+X[1]||0,I=+X[2]||0;isNaN(R)||R<=0?z(s,2,27,"AI session acquisition date is 0"+H):isNaN(I)||I<=0?z(s,2,27,"AI session renewal date is 0"+H):X[0]&&(C.id=X[0],C[Si]=R,C[ja]=I,B=!0)}catch(j){z(s,1,9,"Error parsing ai_session value ["+(U||"")+"]"+H+" - "+xe(j),{exception:re(j)})}return B}function p(C){var U=e.getNewId||Bl;d[br].id=U(e.idLength||22),d[br][Si]=C,w(d[br],C),hc()||z(s,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}function w(C,U){var B=C[Si];C[ja]=U;var H=l,X=B+u-U,R=[C.id,B,U],I=0;X<H?I=X/1e3:I=H/1e3;var j=e.cookieDomain||null;c.set(i,R.join("|"),u>0?I:null,j),a=U}function y(C,U,B){ag(s,i,[C,U,B].join("|"))}})}return t.__ieDyn=1,t}(),Uy=function(){function t(e,n,r,o){var i=this;i.traceID=e||Gn(),i.parentID=n;var a=on();!r&&a&&a.pathname&&(r=a.pathname),i.name=Qe(o,r)}return t}();function Sd(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Ly=function(){function t(e,n,r){this.isNewUser=!1,this.isUserCookieSet=!1;var o=ro(n),i=Xl(n),a;He(t,this,function(s){De(s,"config",{g:function(){return e}});var c=Xe(e,function(){var v=e.userCookiePostfix||"";a=t.userCookieName+v;var f=i.get(a);if(f){s[Ys]=!1;var h=f.split(t[Ii]);h.length>0&&(s.id=h[0],s[ls]=!!s.id)}if(!s.id){s.id=u();var p=l(s.id);d(p.join(t[Ii]));var w=(e.namePrefix||"")+"ai_session";F_(o,w)}s[Do]=e[Do]||void 0;var y=i.get(t[nu]);if(y){y=decodeURI(y);var C=y.split(t[Ii]);C[0]&&(s[Ro]=C[0]),C.length>1&&C[1]&&(s[Do]=C[1])}});r&&r.add(c);function u(){var v=e||{},f=v.getNewId||Bl,h=f(v.idLength?e.idLength:22);return h}function l(v){var f=oi(new Date);s.accountAcquisitionDate=f,s[Ys]=!0;var h=[v,f];return h}function d(v){var f=31536e3;s[ls]=i.set(a,v,f)}s.setAuthenticatedUserContext=function(v,f,h){h===void 0&&(h=!1);var p=!Sd(v)||f&&!Sd(f);if(p){z(o,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}s[Ro]=v;var w=s[Ro];f&&(s[Do]=f,w=[s[Ro],s.accountId].join(t[Ii])),h&&i.set(t[nu],encodeURI(w))},s.clearAuthenticatedUserContext=function(){s[Ro]=null,s[Do]=null,i.del(t[nu])},s.update=function(v){if(s.id!==v||!s[ls]){var f=v||u(),h=l(f);d(h.join(t[Ii]))}}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}(),Fa="ext",Ba="tags";function wo(t,e){t&&t[e]&&Zn(t[e]).length===0&&delete t[e]}function Id(){return null}var Oy=function(){function t(e,n,r,o){var i=this,a=e.logger;He(t,this,function(s){if(s.appId=Id,s[fs]=Id,s.application=new ky,s.internal=new Py(n,o),Ml()){s[Gs]=new qy(n,e,o),s.device=new xy,s.location=new Dy,s.user=new Ly(n,e,o);var c=void 0,u=void 0,l;r&&(c=r.getTraceId(),u=r.getSpanId(),l=r.getName()),s[il]=new Uy(c,u,l,a),s[Js]=new Rg}s[fs]=function(){var d=s[Js],v=null;if(d&&le(d.id))v=d.id;else{var f=(s[Gs]||{})[br];v=f&&le(f.id)?f.id:null}return v},s[Ig]=function(d,v){Ae(pt(d.ext,Tt.AppExt),"sesId",s[fs](),le)},s[xg]=function(d,v){Ae(d.ext,Tt.OSExt,s.os)},s[Tg]=function(d,v){var f=s.application;if(f){var h=pt(d,Ba);Ae(h,Le.applicationVersion,f.ver,le),Ae(h,Le.applicationBuild,f.build,le)}},s.applyDeviceContext=function(d,v){var f=s.device;if(f){var h=pt(pt(d,Fa),Tt.DeviceExt);Ae(h,"localId",f.id,le),Ae(h,"ip",f.ip,le),Ae(h,"model",f.model,le),Ae(h,"deviceClass",f.deviceClass,le)}},s[Pg]=function(d,v){var f=s.internal;if(f){var h=pt(d,Ba);Ae(h,Le.internalAgentVersion,f.agentVersion,le),Ae(h,Le.internalSdkVersion,Qe(a,f.sdkVersion,64),le),(d.baseType===fa.dataType||d.baseType===or.dataType)&&(Ae(h,Le.internalSnippet,f.snippetVer,le),Ae(h,Le.internalSdkSrc,f.sdkSrc,le))}},s[Eg]=function(d,v){var f=i.location;f&&Ae(pt(d,Ba,[]),Le.locationIp,f.ip,le)},s[kg]=function(d,v){var f=s[il];if(f){var h=pt(pt(d,Fa),Tt.TraceExt,{traceID:void 0,parentID:void 0});Ae(h,"traceID",f.traceID,le,F),Ae(h,"name",f.name,le,F),Ae(h,"parentID",f.parentID,le,F)}},s.applyWebContext=function(d,v){var f=i.web;f&&Ae(pt(d,Fa),Tt.WebExt,f)},s.applyUserContext=function(d,v){var f=s.user;if(f){var h=pt(d,Ba,[]);Ae(h,Le.userAccountId,f[Do],le);var p=pt(pt(d,Fa),Tt.UserExt);Ae(p,"id",f.id,le),Ae(p,"authId",f[Ro],le)}},s.cleanUp=function(d,v){var f=d.ext;f&&(wo(f,Tt.DeviceExt),wo(f,Tt.UserExt),wo(f,Tt.WebExt),wo(f,Tt.OSExt),wo(f,Tt.AppExt),wo(f,Tt.TraceExt))}})}return t.__ieDyn=1,t}(),On,ru,$o=null,Hy=ya((On={accountId:$o,sessionRenewalMs:30*60*1e3,samplingPercentage:100,sessionExpirationMs:24*60*60*1e3,cookieDomain:$o,sdkExtension:$o,isBrowserLinkTrackingEnabled:!1,appId:$o},On[fs]=$o,On.namePrefix=ru,On[Dg]=ru,On.userCookiePostfix=ru,On.idLength=22,On.getNewId=$o,On)),jy=function(t){Nn(e,t);function e(){var n=t.call(this)||this;n.priority=110,n.identifier=gc;var r,o,i,a,s;return He(e,n,function(c,u){l(),De(c,"context",{g:function(){return a}}),c.initialize=function(f,h,p,w){u.initialize(f,h,p,w),d(f)},c.processTelemetry=function(f,h){if(!F(f)){h=c._getTelCtx(h),f.name===or.envelopeType&&h.diagLog().resetInternalMessageCount();var p=a||{};p[Js]&&typeof a[Js].id!="string"&&p[Gs]&&p[Gs].update();var w=p.user;if(w&&!w[ls]&&w.update(p.user.id),v(f,h),w&&w[Ys]&&(w[Ys]=!1,!s)){var y=new fa(72,(Mn()||{}).userAgent||"");Dm(h.diagLog(),1,y)}c.processNext(f,h)}},c._doTeardown=function(f,h){var p=(f||{}).core();if(p&&p[tu]){var w=p[tu](!1);w===o&&p.setTraceCtx(i)}l()};function l(){r=null,o=null,i=null,a=null,s=!0}function d(f){var h=c.identifier,p=c.core;c._addHook(Xe(f,function(){var w=Xt(null,f,p);f.storagePrefix&&uf(f.storagePrefix),s=f.disableUserInitMessage!==!1,r=w.getExtCfg(h,Hy),c._extConfig=r})),i=p[tu](!1),a=new Oy(p,r,i,c._unloadHooks),o=af(c.context[il],i),p.setTraceCtx(o),c.context.appId=function(){var w=p.getPlugin(_g);return w?w.plugin._appId:null}}function v(f,h){pt(f,"tags",[]),pt(f,"ext",{});var p=c.context;p[Ig](f,h),p[Tg](f,h),p.applyDeviceContext(f,h),p[kg](f,h),p.applyUserContext(f,h),p[xg](f,h),p.applyWebContext(f,h),p[Eg](f,h),p[Pg](f,h),p.cleanUp(f,h)}}),n}return e.__ieDyn=1,e}(li),Qs="toString",al="isStorageUseDisabled",bo="_addHook",at="core",Hn="dataType",vr="envelopeType",It="diagLog",mr="track",ds="trackPageView",sl="trackPreviousPageVisit",Tr="sendPageViewInternal",si="startTime",Fi="properties",tn="duration",cl="sendPageViewPerformanceInternal",lf="populatePageViewPerformanceEvent",Bi="href",Td="sendExceptionInternal",Ti="error",ou="lineNumber",iu="columnNumber",au="CreateAutoException",Va="addTelemetryInitializer",Fy="overridePageViewDuration",su="autoExceptionInstrumented",Mg="autoTrackPageVisitTime",Ng="isBrowserLinkTrackingEnabled",va="length",Ag="enableAutoRouteTracking",qg="enableUnhandledPromiseRejectionTracking",ul="autoUnhandledPromiseInstrumented",ll="getEntriesByType",Ug="isPerformanceTimingSupported",Lg="getPerformanceTiming",Zs="navigationStart",fl="shouldCollectDuration",Og="isPerformanceTimingDataReady",Vi="responseStart",By="requestStart",hs="loadEventEnd",dl="responseEnd",gs="connectEnd",Vy=function(){function t(e,n,r,o){He(t,this,function(i){var a=null,s=[],c=!1,u=!1,l;r&&(l=r.logger);function d(h){r&&r.flush(h,function(){})}function v(){a||(a=pn(function(){a=null;var h=s.slice(0),p=!1;s=[],ee(h,function(w){w()?p=!0:s.push(w)}),s[va]>0&&v(),p&&d(!0)},100))}function f(h){s.push(h),v()}i[ds]=function(h,p){var w=h.name;if(F(w)||typeof w!="string"){var y=vt();w=h.name=y&&y.title||""}var C=h.uri;if(F(C)||typeof C!="string"){var U=on();C=h.uri=U&&U[Bi]||""}if(!u){var B=Pn(),H=B&&B[ll]&&B[ll]("navigation");if(H&&H[0]&&!rt(B.timeOrigin)){var X=H[0].loadEventStart;h[si]=new Date(B.timeOrigin+X)}else{var R=(p||h[Fi]||{})[tn]||0;h[si]=new Date(new Date().getTime()-R)}u=!0}if(!o[Ug]()){e[Tr](h,p),d(!0),ih()||z(l,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var I=!1,j,O=o[Lg]()[Zs];O>0&&(j=bt(O,+new Date),o[fl](j)||(j=void 0));var W;!F(p)&&!F(p[tn])&&(W=p[tn]),(n||!isNaN(W))&&(isNaN(W)&&(p||(p={}),p[tn]=j),e[Tr](h,p),d(!0),I=!0);var Q=6e4;p||(p={}),f(function(){var te=!1;try{if(o[Og]()){te=!0;var _={name:w,uri:C};o[lf](_),!_.isValid&&!I?(p[tn]=j,e[Tr](h,p)):(I||(p[tn]=_.durationMs,e[Tr](h,p)),c||(e[cl](_,p),c=!0))}else O>0&&bt(O,+new Date)>Q&&(te=!0,I||(p[tn]=Q,e[Tr](h,p)))}catch(S){z(l,1,38,"trackPageView failed on page load calculation: "+xe(S),{exception:re(S)})}return te})},i.teardown=function(h,p){if(a){a.cancel(),a=null;var w=s.slice(0);s=[],ee(w,function(y){y()})}}})}return t.__ieDyn=1,t}(),Wy=36e5,kd=["googlebot","adsbot-google","apis-google","mediapartners-google"];function Hg(){var t=Pn();return t&&!!t.timing}function zy(){var t=Pn();return t&&t.getEntriesByType&&t.getEntriesByType("navigation")[va]>0}function Ky(){var t=Pn(),e=t?t.timing:0;return e&&e.domainLookupStart>0&&e[Zs]>0&&e[Vi]>0&&e[By]>0&&e[hs]>0&&e[dl]>0&&e[gs]>0&&e.domLoading>0}function xd(){return Hg()?Pn().timing:null}function Xy(){return zy()?Pn()[ll]("navigation")[0]:null}function Jy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Mn()||{},r=n.userAgent,o=!1;if(r)for(var i=0;i<kd[va];i++)o=o||_t(r.toLowerCase(),kd[i])!==-1;if(o)return!1;for(var i=0;i<t[va];i++)if(t[i]<0||t[i]>=Wy)return!1;return!0}var Gy=function(){function t(e){var n=ro(e);He(t,this,function(r){r[lf]=function(o){o.isValid=!1;var i=Xy(),a=xd(),s=0,c=0,u=0,l=0,d=0;(i||a)&&(i?(s=i[tn],c=i[si]===0?i[gs]:bt(i[si],i[gs]),u=bt(i.requestStart,i[Vi]),l=bt(i[Vi],i[dl]),d=bt(i.responseEnd,i[hs])):(s=bt(a[Zs],a[hs]),c=bt(a[Zs],a[gs]),u=bt(a.requestStart,a[Vi]),l=bt(a[Vi],a[dl]),d=bt(a.responseEnd,a[hs])),s===0?z(n,2,10,"error calculating page view performance.",{total:s,network:c,request:u,response:l,dom:d}):r[fl](s,c,u,l,d)?s<Et(c)+Et(u)+Et(l)+Et(d)?z(n,2,8,"client performance math error.",{total:s,network:c,request:u,response:l,dom:d}):(o.durationMs=s,o.perfTotal=o[tn]=Xn(s),o.networkConnect=Xn(c),o.sentRequest=Xn(u),o.receivedResponse=Xn(l),o.domProcessing=Xn(d),o.isValid=!0):z(n,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:s,network:c,request:u,response:l,dom:d}))},r[Lg]=xd,r[Ug]=Hg,r[Og]=Ky,r[fl]=Jy})}return t.__ieDyn=1,t}(),Yy=function(){function t(e,n){var r="prevPageVisitData";He(t,this,function(o){o[sl]=function(s,c){try{var u=i(s,c);u&&n(u.pageName,u.pageUrl,u.pageVisitTime)}catch(l){Hr(e,"Auto track page visit time failed, metric will not be collected: "+re(l))}};function i(s,c){var u=null;try{if(u=a(),pa()){tl(e,r)!=null&&kt("Cannot call startPageVisit consecutively without first calling stopPageVisit");var l=Kt().stringify(new Qy(s,c));sg(e,r,l)}}catch(d){Hr(e,"Call to restart failed: "+re(d)),u=null}return u}function a(){var s=null;try{if(pa()){var c=gn(),u=tl(e,r);u&&ba()&&(s=Kt().parse(u),s.pageVisitTime=c-s.pageVisitStartTime,cg(e,r))}}catch(l){Hr(e,"Stop page visit timer failed: "+re(l)),s=null}return s}De(o,"_logger",{g:function(){return e}}),De(o,"pageVisitTimeTrackingHandler",{g:function(){return n}})})}return t.__ieDyn=1,t}(),Qy=function(){function t(e,n){this.pageVisitStartTime=gn(),this.pageName=e,this.pageUrl=n}return t}(),Ed=function(){function t(e,n){var r=this,o={};r.start=function(i){typeof o[i]<"u"&&z(e,2,62,"start was called more than once for this event without calling stop.",{name:i,key:i},!0),o[i]=+new Date},r.stop=function(i,a,s,c){var u=o[i];if(isNaN(u))z(e,2,63,"stop was called without a corresponding start.",{name:i,key:i},!0);else{var l=+new Date,d=bt(u,l);r.action(i,a,d,s,c)}delete o[i],o[i]=void 0}}return t}(),gt,Zy="event";function ki(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}function e0(t){if(t&&t.reason){var e=t.reason;return!le(e)&&$e(e[Qs])?e[Qs]():re(e)}return t||""}var Pd=6e4,t0=ya((gt={sessionRenewalMs:Nf(Dd,30*60*1e3),sessionExpirationMs:Nf(Dd,24*60*60*1e3),disableExceptionTracking:Ge()},gt[Mg]=Ge(),gt[Fy]=Ge(),gt[qg]=Ge(),gt[ul]=!1,gt.samplingPercentage=qs(n0,100),gt[al]=Ge(),gt[Ng]=Ge(),gt[Ag]=Ge(),gt.namePrefix=bm(),gt.enableDebug=Ge(),gt.disableFlushOnBeforeUnload=Ge(),gt.disableFlushOnUnload=Ge(!1,"disableFlushOnBeforeUnload"),gt.expCfg=Ft({inclScripts:!1,expLog:void 0,maxLogs:50}),gt));function Dd(t,e){return t=t||e,t<Pd&&(t=Pd),+t}function n0(t){return!isNaN(t)&&t>0&&t<=100}function r0(t){rt(t[al])||(t[al]?H_():j_())}var o0=function(t){Nn(e,t);function e(){var n=t.call(this)||this;n.identifier=yg,n.priority=180,n.autoRoutePVDelay=500;var r,o,i,a,s,c,u,l,d,v,f,h,p,w,y,C,U,B,H,X,R;return He(e,n,function(I,j){var O=j[bo];ue(),I.getCookieMgr=function(){return Xl(I[at])},I.processTelemetry=function(g,k){I.processNext(g,k)},I.trackEvent=function(g,k){try{var m=Fn(g,Kn[Hn],Kn[vr],I[It](),k);I[at][mr](m)}catch(A){se(2,39,"trackTrace failed, trace will not be collected: "+xe(A),{exception:re(A)})}},I.startTrackEvent=function(g){try{r.start(g)}catch(k){se(1,29,"startTrackEvent failed, event will not be collected: "+xe(k),{exception:re(k)})}},I.stopTrackEvent=function(g,k,m){try{r.stop(g,void 0,k,m)}catch(A){se(1,30,"stopTrackEvent failed, event will not be collected: "+xe(A),{exception:re(A)})}},I.trackTrace=function(g,k){try{var m=Fn(g,Go[Hn],Go[vr],I[It](),k);I[at][mr](m)}catch(A){se(2,39,"trackTrace failed, trace will not be collected: "+xe(A),{exception:re(A)})}},I.trackMetric=function(g,k){try{var m=Fn(g,Fr[Hn],Fr[vr],I[It](),k);I[at][mr](m)}catch(A){se(1,36,"trackMetric failed, metric will not be collected: "+xe(A),{exception:re(A)})}},I[ds]=function(g,k){try{var m=g||{};i[ds](m,yt(yt(yt({},m.properties),m.measurements),k)),C&&s[sl](m.name,m.uri)}catch(A){se(1,37,"trackPageView failed, page view will not be collected: "+xe(A),{exception:re(A)})}},I[Tr]=function(g,k,m){var A=vt();if(A&&(g.refUri=g.refUri===void 0?A.referrer:g.refUri),F(g[si])){var G=(k||g[Fi]||{})[tn]||0;g[si]=new Date(new Date().getTime()-G)}var oe=Fn(g,or[Hn],or[vr],I[It](),k,m);I[at][mr](oe)},I[cl]=function(g,k,m){var A=Fn(g,Yo[Hn],Yo[vr],I[It](),k,m);I[at][mr](A)},I.trackPageViewPerformance=function(g,k){var m=g||{};try{a[lf](m),I[cl](m,k)}catch(A){se(1,37,"trackPageViewPerformance failed, page view will not be collected: "+xe(A),{exception:re(A)})}},I.startTrackPage=function(g){try{if(typeof g!="string"){var k=vt();g=k&&k.title||""}o.start(g)}catch(m){se(1,31,"startTrackPage failed, page view may not be collected: "+xe(m),{exception:re(m)})}},I.stopTrackPage=function(g,k,m,A){try{if(typeof g!="string"){var G=vt();g=G&&G.title||""}if(typeof k!="string"){var oe=on();k=oe&&oe[Bi]||""}o.stop(g,k,m,A),C&&s[sl](g,k)}catch(me){se(1,32,"stopTrackPage failed, page view will not be collected: "+xe(me),{exception:re(me)})}},I[Td]=function(g,k,m){var A=g&&(g.exception||g[Ti])||Dl(g)&&g||{name:g&&typeof g,message:g||mn};g=g||{};var G=new Nt(I[It](),A,g[Fi]||k,g.measurements,g.severityLevel,g.id).toInterface(),oe=vt();if(oe&&U?.inclScripts){var me=Wm(oe);G[Fi].exceptionScripts=JSON.stringify(me)}if(U?.expLog){var ve=U.expLog();ve&&ve.logs&&Ce(ve.logs)&&(G[Fi].exceptionLog=ve.logs.slice(0,U.maxLogs).join(`
`))}var Ee=Fn(G,Nt[Hn],Nt[vr],I[It](),k,m);I[at][mr](Ee)},I.trackException=function(g,k){g&&!g.exception&&g[Ti]&&(g.exception=g[Ti]);try{I[Td](g,k)}catch(m){se(1,35,"trackException failed, exception will not be collected: "+xe(m),{exception:re(m)})}},I._onerror=function(g){var k=g&&g[Ti],m=g&&g.evt;try{if(!m){var A=cn();A&&(m=A[Zy])}var G=g&&g.url||(vt()||{}).URL,oe=g.errorSrc||"window.onerror@"+G+":"+(g[ou]||0)+":"+(g[iu]||0),me={errorSrc:oe,url:G,lineNumber:g[ou]||0,columnNumber:g[iu]||0,message:g.message};my(g.message,g.url,g.lineNumber,g.columnNumber,g[Ti])?_(Nt[au]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",G,g[ou]||0,g[iu]||0,k,m,null,oe),me):(g.errorSrc||(g.errorSrc=oe),I.trackException({exception:g,severityLevel:3},me))}catch(Ee){var ve=k?k.name+", "+k.message:"null";se(1,11,"_onError threw exception while logging error, error will not be collected: "+xe(Ee),{exception:re(Ee),errorString:ve})}},I[Va]=function(g){if(I[at])return I[at][Va](g);c||(c=[]),c.push(g)},I.initialize=function(g,k,m,A){if(!I.isInitialized()){F(k)&&kt("Error initializing"),j.initialize(g,k,m,A);try{X=ur(Ut(I.identifier),k.evtNamespace&&k.evtNamespace()),c&&(ee(c,function(G){k[Va](G)}),c=null),W(g),a=new Gy(I[at]),i=new Vy(I,y.overridePageViewDuration,I[at],a),s=new Yy(I[It](),function(G,oe,me){return Q(G,oe,me)}),r=new Ed(I[It](),"trackEvent"),r.action=function(G,oe,me,ve,Ee){ve||(ve={}),Ee||(Ee={}),ve.duration=me[Qs](),I.trackEvent({name:G,properties:ve,measurements:Ee})},o=new Ed(I[It](),"trackPageView"),o.action=function(G,oe,me,ve,Ee){F(ve)&&(ve={}),ve.duration=me[Qs]();var ze={name:G,uri:oe,properties:ve,measurements:Ee};I[Tr](ze,ve)},Ml()&&(S(),L())}catch(G){throw I.setInitialized(!1),G}}},I._doTeardown=function(g,k){i&&i.teardown(g,k),zo(window,null,null,X),ue()},I._getDbgPlgTargets=function(){return[R,h]};function W(g){var k=I.identifier,m=I[at];I[bo](Xe(g,function(){var A=Xt(null,g,m);y=A.getExtCfg(k,t0),h=h||g[su]||y[su],U=y.expCfg,C=y[Mg],g.storagePrefix&&uf(g.storagePrefix),r0(y),u=y[Ng],te()}))}function Q(g,k,m){var A={PageName:g,PageUrl:k};I.trackMetric({name:"PageVisitTime",average:m,max:m,min:m,sampleCount:1},A)}function te(){if(!l&&u){var g=["/browserLinkSignalR/","/__browserLink/"],k=function(m){if(u&&m.baseType===Br[Hn]){var A=m.baseData;if(A){for(var G=0;G<g[va];G++)if(A.target&&_t(A.target,g[G])>=0)return!1}}return!0};I[bo](I[Va](k)),l=!0}}function _(g,k){var m=Fn(g,Nt[Hn],Nt[vr],I[It](),k);I[at][mr](m)}function S(){var g=cn(),k=on(!0);I[bo](Xe(y,function(){f=y.disableExceptionTracking,!f&&!h&&!y[su]&&(O(La(g,"onerror",{ns:X,rsp:function(m,A,G,oe,me,ve){!f&&m.rslt!==!0&&I._onerror(Nt[au](A,G,oe,me,ve,m.evt))}},!1)),R++,h=!0)})),ae(g,k)}function L(){var g=cn(),k=on(!0);I[bo](Xe(y,function(){if(d=y[Ag]===!0,g&&d&&!v&&xp()){var m=Ep();$e(m.pushState)&&$e(m.replaceState)&&typeof Event!==Hl&&T(g,m,k)}}))}function E(){var g=null;if(I[at]&&I[at].getTraceCtx&&(g=I[at].getTraceCtx(!1)),!g){var k=I[at].getPlugin(gc);if(k){var m=k.plugin.context;m&&(g=af(m.telemetryTrace))}}return g}function T(g,k,m){if(v)return;var A=y.namePrefix||"";function G(){d&&ki(g,bi(A+"locationchange"))}function oe(){if(H&&(B=H),H=m&&m[Bi]||"",d){var me=E();if(me){me.setTraceId(Gn());var ve="_unknown_";m&&m.pathname&&(ve=m.pathname+(m.hash||"")),me.setName(Qe(I[It](),ve))}pn(function(Ee){I[ds]({refUri:Ee,properties:{duration:0}})}.bind(I,B),I.autoRoutePVDelay)}}O(La(k,"pushState",{ns:X,rsp:function(){d&&(ki(g,bi(A+"pushState")),ki(g,bi(A+"locationchange")))}},!0)),O(La(k,"replaceState",{ns:X,rsp:function(){d&&(ki(g,bi(A+"replaceState")),ki(g,bi(A+"locationchange")))}},!0)),Tn(g,A+"popstate",G,X),Tn(g,A+"locationchange",oe,X),v=!0}function ae(g,k){I[bo](Xe(y,function(){p=y[qg]===!0,h=h||y[ul],p&&!w&&(O(La(g,"onunhandledrejection",{ns:X,rsp:function(m,A){p&&m.rslt!==!0&&I._onerror(Nt[au](e0(A),k?k[Bi]:"",0,0,A,m.evt))}},!1)),R++,y[ul]=w=!0)}))}function se(g,k,m,A,G){I[It]().throwInternal(g,k,m,A,G)}function ue(){r=null,o=null,i=null,a=null,s=null,c=null,u=!1,l=!1,d=!1,v=!1,f=!1,h=!1,p=!1,w=!1,C=!1;var g=on(!0);B=g&&g[Bi]||"",H=null,X=null,y=null,R=0,De(I,"config",{g:function(){return y}})}De(I,"_pageViewManager",{g:function(){return i}}),De(I,"_pageViewPerformanceManager",{g:function(){return a}}),De(I,"_pageVisitTimeManager",{g:function(){return s}}),De(I,"_evtNamespace",{g:function(){return"."+X}})}),n}return e.Version="3.3.9",e}(li),Rd="duration",ci="properties",Vt="requestUrl",Rr="length",Yn="traceID",Qn="spanID",zt="traceFlags",Gi="context",Zo="aborted",Wa="_addHook",Yt="core",cu="includeCorrelationHeaders",hl="getAbsoluteUrl",_r="headers",Rt="requestHeaders",uu="setRequestHeader",Md="trackDependencyDataInternal",Ho="startTime",Co="toLowerCase",gl="enableRequestHeaderTracking",jg="enableAjaxErrorStatusText",Fg="enableAjaxPerfTracking",Bg="maxAjaxCallsPerView",Vg="excludeRequestFromAutoTrackingPatterns",pl="disableAjaxTracking",Wg="ajaxPerfLookupDelay",zg="disableFetchTracking",Kg="enableResponseHeaderTracking",Bt="status",kr="statusText",ec="headerMap",Mr="requestSentTime",vl="getTraceId",ml="getTraceFlags",Jn="method",_l="errorStatusText",Xg="stateChangeAttached",Nd="responseText",Wi="responseFinishedTime",yl="CreateTrackItem",Ad="getAllResponseHeaders",wl="getPartAProps",tc="perfMark",$l="perfTiming",bl="ajaxDiagnosticsMessage",Cl="correlationContext",lu="ajaxTotalDuration",fu="eventTraceCtx";function Jg(t,e,n){var r=0,o=t[e],i=t[n];return o&&i&&(r=bt(o,i)),r}function yr(t,e,n,r,o){var i=0,a=Jg(n,r,o);return a&&(i=Bn(t,e,Xn(a))),i}function Bn(t,e,n){var r="ajaxPerf",o=0;if(t&&e&&n){var i=t[r]=t[r]||{};i[e]=n,o=1}return o}function i0(t,e){var n=t[$l],r=e[ci]||{},o=0,i="name",a="Start",s="End",c="domainLookup",u="connect",l="redirect",d="request",v="response",f="startTime",h=c+a,p=c+s,w=u+a,y=u+s,C=d+a,U=d+s,B=v+a,H=v+s,X=l+a,R=l=s,I="transferSize",j="encodedBodySize",O="decodedBodySize",W="serverTiming";if(n){o|=yr(r,l,n,X,R),o|=yr(r,c,n,h,p),o|=yr(r,u,n,w,y),o|=yr(r,d,n,C,U),o|=yr(r,v,n,B,H),o|=yr(r,"networkConnect",n,f,y),o|=yr(r,"sentRequest",n,C,H);var Q=n[Rd];Q||(Q=Jg(n,f,H)||0),o|=Bn(r,Rd,Q),o|=Bn(r,"perfTotal",Q);var te=n[W];if(te){var _={};ee(te,function(S,L){var E=Ps(S[i]||""+L),T=_[E]||{};ke(S,function(ae,se){(ae!==i&&le(se)||ic(se))&&(T[ae]&&(se=T[ae]+";"+se),(se||!le(se))&&(T[ae]=se))}),_[E]=T}),o|=Bn(r,W,_)}o|=Bn(r,I,n[I]),o|=Bn(r,j,n[j]),o|=Bn(r,O,n[O])}else t[tc]&&(o|=Bn(r,"missing",t.perfAttempts));o&&(e[ci]=r)}var a0=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e[Xg]=!1}return t}(),qd=function(){function t(e,n,r,o){var i=this,a=r,s="responseText";i[tc]=null,i.completed=!1,i.requestHeadersSize=null,i[Rt]=null,i.responseReceivingDuration=null,i.callbackDuration=null,i[lu]=null,i[Zo]=0,i.pageUrl=null,i[Vt]=null,i.requestSize=0,i[Jn]=null,i[Bt]=null,i[Mr]=null,i.responseStartedTime=null,i[Wi]=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new a0,i.clientFailure=0,i[Yn]=e,i[Qn]=n,i[zt]=o?.getTraceFlags(),o?i[fu]={traceId:o[vl](),spanId:o.getSpanId(),traceFlags:o[ml]()}:i[fu]=null,He(t,i,function(c){c.getAbsoluteUrl=function(){return c[Vt]?M_(c[Vt]):null},c.getPathName=function(){return c[Vt]?fc(a,N_(c[Jn],c[Vt])):null},c[yl]=function(u,l,d){var v;if(c.ajaxTotalDuration=nh(bt(c.requestSentTime,c.responseFinishedTime)*1e3)/1e3,c[lu]<0)return null;var f=(v={id:"|"+c[Yn]+"."+c[Qn],target:c[hl](),name:c.getPathName(),type:u,startTime:null,duration:c[lu],success:+c[Bt]>=200&&+c[Bt]<400,responseCode:+c[Bt]},v[ci]={HttpMethod:c[Jn]},v),h=f[ci];if(c[Zo]&&(h[Zo]=!0),c[Mr]&&(f[Ho]=new Date,f[Ho].setTime(c[Mr])),i0(c,f),l&&Zn(c.requestHeaders)[Rr]>0&&(h[Rt]=c[Rt]),d){var p=d();if(p){var w=p[Cl];if(w&&(f.correlationContext=w),p[ec]&&Zn(p.headerMap)[Rr]>0&&(h.responseHeaders=p[ec]),c[_l])if(c[Bt]>=400){var y=p.type;(y===""||y==="text")&&(h.responseText=p.responseText?p[kr]+" - "+p[s]:p[kr]),y==="json"&&(h.responseText=p.response?p[kr]+" - "+JSON.stringify(p.response):p[kr])}else c[Bt]===0&&(h.responseText=p[kr]||"")}}return f},c[wl]=function(){var u=null,l=c[fu];if(l&&(l.traceId||l.spanId)){u={};var d=u[Tt.TraceExt]={traceID:l.traceId,parentID:l.spanId};F(l[zt])||(d[zt]=l[zt])}return u}})}return t.__ieDyn=1,t}(),We,Yi="diagLog",ir="_ajaxData",xr="fetch",xi="Failed to monitor XMLHttpRequest",Gg=", monitoring data for this ajax call ",So=Gg+"may be incorrect.",Ud=Gg+"won't be sent.",Ld="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",Od="Failed to add custom defined request context as configured call back may missing a null check.",Hd="Failed to calculate the duration of the ",jd=0;function s0(){var t=sn();return!t||F(t.Request)||F(t.Request[un])||F(t[xr])?null:t[xr]}function c0(t,e){var n,r=!1;if(sc()){var o=XMLHttpRequest[un];r=!F(o)&&!F(o.open)&&!F(o.send)&&!F(o.abort)}var i=Sh();if(i&&i<9&&(r=!1),r)try{var a=new XMLHttpRequest,s={xh:[],i:(n={},n[e]={},n)};a[ir]=s;var c=XMLHttpRequest[un].open;XMLHttpRequest[un].open=c}catch(u){r=!1,Qi(t,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:re(u)})}return r}var Mo=function(t,e){return t&&e&&t[ir]?(t[ir].i||{})[e]:null},u0=function(t,e,n){if(t){var r=(t[ir]||{}).xh;r&&r.push({n:e,v:n})}},du=function(t,e){var n=!1;if(t){var r=(t[ir]||{}).xh;r&&ee(r,function(o){if(o.n===e)return n=!0,-1})}return n};function ps(t,e){var n="";try{var r=Mo(t,e);r&&r[Vt]&&(n+="(url: '"+r[Vt]+"')")}catch{}return n}function Qi(t,e,n,r,o){z(t[Yi](),1,e,n,r,o)}function wn(t,e,n,r,o){z(t[Yi](),2,e,n,r,o)}function Ei(t,e,n){return function(r){var o;Qi(t,e,n,(o={},o[bl]=ps(r.inst,t._ajaxDataId),o.exception=re(r.err),o))}}function Io(t,e){return t&&e?_t(t,e):-1}function Fd(t,e,n){var r={id:e,fn:n};return t.push(r),{remove:function(){ee(t,function(o,i){if(o.id===r.id)return t.splice(i,1),-1})}}}function Yg(t,e,n,r){var o=!0;return ee(e,function(i,a){try{i.fn.call(null,n)===!1&&(o=!1)}catch(s){z(t&&t.logger,1,64,"Dependency "+r+" [#"+a+"] failed: "+xe(s),{exception:re(s)},!0)}}),o}function l0(t,e,n,r,o,i){var a=t[Rr],s=!0;if(a>0){var c={core:e,xhr:r,input:o,init:i,traceId:n[Yn],spanId:n[Qn],traceFlags:n[zt],context:n[Gi]||{},aborted:!!n[Zo]};s=Yg(e,t,c,"listener"),n[Yn]=c.traceId,n[Qn]=c.spanId,n[zt]=c[zt],n[Gi]=c[Gi]}return s}var za="*.blob.core.",f0=Kr([za+"windows.net",za+"chinacloudapi.cn",za+"cloudapi.de",za+"usgovcloudapi.net"]),d0=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],h0=Kr((We={},We[Bg]=500,We[pl]=!1,We[zg]=!1,We[Vg]=void 0,We.disableCorrelationHeaders=!1,We.distributedTracingMode=1,We.correlationHeaderExcludedDomains=f0,We.correlationHeaderDomains=void 0,We.correlationHeaderExcludePatterns=void 0,We.appId=void 0,We.enableCorsCorrelation=!1,We[gl]=!1,We[Kg]=!1,We[jg]=!1,We[Fg]=!1,We.maxAjaxPerfLookupAttempts=3,We[Wg]=25,We.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],We.addRequestContext=void 0,We.addIntEndpoints=!0,We)),g0=function(t){Nn(e,t);function e(){var n=t.call(this)||this;n.identifier=e.identifier,n.priority=120;var r,o,i,a,s,c,u,l,d,v,f,h,p,w,y,C,U,B,H,X,R,I,j,O,W,Q,te,_,S,L;return He(e,n,function(E,T){var ae=T[Wa];se(),E.initialize=function($,x,q,N){E.isInitialized()||(T.initialize($,x,q,N),X=ur(Ut("ajax"),x&&x.evtNamespace&&x.evtNamespace()),ue($),G(),m(),g())},E._doTeardown=function(){se()},E.trackDependencyData=function($,x){Y(O,E[Yt],null,$,x)},E[cu]=function($,x,q,N){var V=E._currentWindowHost||i;if(l0(j,E[Yt],$,N,x,q)){if(x||x===""){if(pd(a,$[hl](),V)){q||(q={});var Z=new Headers(q[_r]||(x instanceof Request?x[_r]||{}:{}));if(v){var ce="|"+$[Yn]+"."+$[Qn];Z.set(Re[3],ce),s&&($[Rt][Re[3]]=ce)}var we=S||l&&l.appId();if(we&&(Z.set(Re[0],Re[2]+we),s&&($[Rt][Re[0]]=Re[2]+we)),d){var he=$[zt];F(he)&&(he=1);var Pe=Xf(Kf($[Yn],$[Qn],he));Z.set(Re[4],Pe),s&&($[Rt][Re[4]]=Pe)}q[_r]=Z}return q}else if(N){if(pd(a,$[hl](),V)){if(v)if(du(N,Re[3]))wn(E,71,"Unable to set ["+Re[3]+"] as it has already been set by another instance");else{var ce="|"+$[Yn]+"."+$[Qn];N[uu](Re[3],ce),s&&($[Rt][Re[3]]=ce)}var we=S||l&&l.appId();if(we&&(du(N,Re[0])?wn(E,71,"Unable to set ["+Re[0]+"] as it has already been set by another instance"):(N[uu](Re[0],Re[2]+we),s&&($[Rt][Re[0]]=Re[2]+we))),d){var he=$[zt];if(F(he)&&(he=1),du(N,Re[4]))wn(E,71,"Unable to set ["+Re[4]+"] as it has already been set by another instance");else{var Pe=Xf(Kf($[Yn],$[Qn],he));N[uu](Re[4],Pe),s&&($[Rt][Re[4]]=Pe)}}}return N}}},E[Md]=function($,x,q){if(p===-1||u<p){(_===2||_===1)&&typeof $.id=="string"&&$.id[$.id[Rr]-1]!=="."&&($.id+="."),F($[Ho])&&($[Ho]=new Date);var N=Fn($,Br.dataType,Br.envelopeType,E[Yi](),x,q);E[Yt].track(N)}else u===p&&Qi(E,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++u},E.addDependencyListener=function($){return Fd(j,I++,$)},E.addDependencyInitializer=function($){return Fd(O,I++,$)};function se(){var $=on();r=!1,o=!1,L=!1,i=$&&$.host&&$.host[Co](),a=null,s=!1,c=!1,u=0,l=null,d=!1,v=!1,f=null,h=!1,p=0,w=!1,y={},C=!1,U=!1,B=null,H=null,X=null,I=0,j=[],O=[],R=Ut("ajaxData"),E._ajaxDataId=R,W=null,Q=1,te=1,_=1,S=null}function ue($){E[Wa](Xe($,function(x){var q=x.cfg,N=Xt(null,q,E[Yt]);a=N.getExtCfg(e.identifier,h0),_=a.distributedTracingMode,s=a[gl],c=a[jg],h=a[Fg],p=a[Bg],B=[].concat(a[Vg]||[],a.addIntEndpoints!==!1?d0:[]),H=a.addRequestContext,v=_===0||_===1,d=_===1||_===2,h&&(f=R),C=!!a[pl],Q=a.maxAjaxPerfLookupAttempts,te=a[Wg],W=a.ignoreHeaders,S=a.appId}))}function g(){var $=E[Yt].getPlugin(gc);$&&(l=$.plugin[Gi])}function k($){var x=!0;return($||W)&&ee(W,function(q){if(q[Co]()===$[Co]())return x=!1,-1}),x}function m(){var $=s0();if($){var x=sn(),q=$.polyfill;E[Wa](Xe(a,function(){U=!!a[zg],w=a[Kg],!U&&!r?(ae(Zu(x,xr,{ns:X,req:function(N,V,Z){var ce;if(!U&&r&&!oe(null,V,Z)&&!(q&&o)){var we=N.ctx();ce=Pt(V,Z);var he=E[cu](ce,V,Z);he!==Z&&N.set(1,he),we.data=ce}},rsp:function(N,V){if(!U){var Z=N.ctx().data;Z&&(N.rslt=N.rslt.then(function(ce){return J(N,(ce||{})[Bt],V,ce,Z,function(){var we,he=(we={statusText:(ce||{})[kr],headerMap:null},we[Cl]=ie(ce),we);if(w&&ce){var Pe={};ce.headers.forEach(function(qe,ot){k(ot)&&(Pe[ot]=qe)}),he[ec]=Pe}return he}),ce}).catch(function(ce){throw J(N,0,V,null,Z,null),ce}))}},hkErr:Ei(E,15,"Failed to monitor Window.fetch"+So)},!0,ih())),r=!0):q&&!L&&(ae(Zu(x,xr,{ns:X,req:function(N,V,Z){oe(null,V,Z)}})),L=!0)})),q&&(x[xr].polyfill=q)}}function A($,x,q){ae(k_($,x,q))}function G(){c0(E,R)&&E[Wa](Xe(a,function(){C=!!a[pl],s=a[gl],!C&&!o&&(A(XMLHttpRequest,"open",{ns:X,req:function($,x,q,N){if(!C){var V=$.inst,Z=Mo(V,R);!oe(V,q)&&me(V,Z,!0)&&((!Z||!Z.xhrMonitoringState.openDone)&&(Z=Ee(V,x,q,N)),ze(V,Z))}},hkErr:Ei(E,15,xi+".open"+So)}),A(XMLHttpRequest,"send",{ns:X,req:function($,x){if(!C){var q=$.inst,N=Mo(q,R);me(q,N)&&!N.xhrMonitoringState.sendDone&&(ct("xhr",N),N[Mr]=Oa(),E[cu](N,void 0,void 0,q),N.xhrMonitoringState.sendDone=!0)}},hkErr:Ei(E,17,xi+So)}),A(XMLHttpRequest,"abort",{ns:X,req:function($){if(!C){var x=$.inst,q=Mo(x,R);me(x,q)&&!q.xhrMonitoringState.abortDone&&(q[Zo]=1,q.xhrMonitoringState.abortDone=!0)}},hkErr:Ei(E,13,xi+".abort"+So)}),A(XMLHttpRequest,"setRequestHeader",{ns:X,req:function($,x,q){if(!C){var N=$.inst,V=Mo(N,R);V&&me(N,V)&&(u0(N,x,q),s&&k(x)&&(V[Rt][x]=q))}},hkErr:Ei(E,71,xi+".setRequestHeader"+So)}),o=!0)}))}function oe($,x,q){var N=!1,V=((le(x)?x:(x||{}).url||"")||"")[Co]();if(ee(B,function(we){var he=we;le(we)&&(he=new RegExp(we)),N||(N=he.test(V))}),N)return N;var Z=Io(V,"?"),ce=Io(V,"#");return(Z===-1||ce!==-1&&ce<Z)&&(Z=ce),Z!==-1&&(V=V.substring(0,Z)),F($)?F(x)||(N=(typeof x=="object"?x[Dr]===!0:!1)||(q?q[Dr]===!0:!1)):N=$[Dr]===!0||V[Dr]===!0,!N&&V&&el(V)&&(N=!0),N?y[V]||(y[V]=1):y[V]&&(N=!0),N}function me($,x,q){var N=!0,V=o;return F($)||(N=q===!0||!F(x)),V&&N}function ve(){var $=null;return E[Yt]&&E[Yt].getTraceCtx&&($=E[Yt].getTraceCtx(!1)),!$&&l&&l.telemetryTrace&&($=af(l.telemetryTrace)),$}function Ee($,x,q,N){var V,Z=ve(),ce=Z&&Z[vl]()||Gn(),we=Wn(Gn(),0,16),he=$[ir]=$[ir]||{xh:[],i:{}},Pe=he.i=he.i||{},qe=Pe[R]=Pe[R]||new qd(ce,we,E[Yi](),(V=E.core)===null||V===void 0?void 0:V.getTraceCtx());return qe[zt]=Z&&Z[ml](),qe[Jn]=x,qe[Vt]=q,qe.xhrMonitoringState.openDone=!0,qe[Rt]={},qe.async=N,qe[_l]=c,qe}function ze($,x){x.xhrMonitoringState[Xg]=Tn($,"readystatechange",function(){var q;try{$&&$.readyState===4&&me($,x)&&Me($)}catch(V){var N=re(V);(!N||Io(N[Co](),"c00c023f")===-1)&&Qi(E,16,xi+" 'readystatechange' event handler"+So,(q={},q[bl]=ps($,R),q.exception=N,q))}},X)}function wt($){try{var x=$.responseType;if(x===""||x==="text")return $[Nd]}catch{}return null}function Me($){var x=Mo($,R);x[Wi]=Oa(),x[Bt]=$[Bt];function q(N,V){var Z=V||{};Z.ajaxDiagnosticsMessage=ps($,R),N&&(Z.exception=re(N)),wn(E,14,Hd+"ajax call"+Ud,Z)}yn("xmlhttprequest",x,function(){try{var N=x[yl]("Ajax",s,function(){var he,Pe=(he={statusText:$[kr],headerMap:null},he[Cl]=Ne($),he.type=$.responseType,he[Nd]=wt($),he.response=$.response,he);if(w){var qe=$[Ad]();if(qe){var ot=Oe(qe).split(/[\r\n]+/),Jt={};ee(ot,function(Gt){var $t=Gt.split(": "),ho=$t.shift(),Ta=$t.join(": ");k(ho)&&(Jt[ho]=Ta)}),Pe[ec]=Jt}}return Pe}),V=void 0;try{H&&(V=H({status:$[Bt],xhr:$}))}catch{wn(E,104,Od)}if(N){V!==void 0&&(N[ci]=yt(yt({},N.properties),V));var Z=x[wl]();Y(O,E[Yt],x,N,null,Z)}else q(null,{requestSentTime:x[Mr],responseFinishedTime:x[Wi]})}finally{try{var ce=$[ir]||{i:{}},we=ce.i||{};we[R]&&(we[R]=null)}catch{}}},function(N){q(N,null)})}function Ne($){var x;try{var q=$[Ad]();if(q!==null){var N=Io(q[Co](),Re[8]);if(N!==-1){var V=$.getResponseHeader(Re[0]);return vd(V)}}}catch(Z){wn(E,18,Ld,(x={},x[bl]=ps($,R),x.exception=re(Z),x))}}function ct($,x){if(x[Vt]&&f&&h){var q=Pn();if(q&&$e(q.mark)){jd++;var N=f+$+"#"+jd;q.mark(N);var V=q.getEntriesByName(N);V&&V[Rr]===1&&(x[tc]=V[0])}}}function yn($,x,q,N){var V=x[tc],Z=Pn(),ce=Q,we=te,he=x[Vt],Pe=0;(function qe(){try{if(Z&&V){Pe++;for(var ot=null,Jt=Z.getEntries(),Gt=Jt[Rr]-1;Gt>=0;Gt--){var $t=Jt[Gt];if($t){if($t.entryType==="resource")$t.initiatorType===$&&(Io($t.name,he)!==-1||Io(he,$t.name)!==-1)&&(ot=$t);else if($t.entryType==="mark"&&$t.name===V.name){x[$l]=ot;break}if($t[Ho]<V[Ho]-1e3)break}}}!V||x[$l]||Pe>=ce||x.async===!1?(V&&$e(Z.clearMarks)&&Z.clearMarks(V.name),x.perfAttempts=Pe,q()):pn(qe,we)}catch(ho){N(ho)}})()}function Pt($,x){var q,N=ve(),V=N&&N[vl]()||Gn(),Z=Wn(Gn(),0,16),ce=new qd(V,Z,E[Yi](),(q=E.core)===null||q===void 0?void 0:q.getTraceCtx());ce[zt]=N&&N[ml](),ce[Mr]=Oa(),ce[_l]=c;var we;if($ instanceof Request?we=($||{}).url||"":we=$,we===""){var he=on();he&&he.href&&(we=Pp(he.href,"#")[0])}ce[Vt]=we;var Pe="GET";x&&x[Jn]?Pe=x[Jn]:$&&$ instanceof Request&&(Pe=$[Jn]),ce[Jn]=Pe;var qe={};if(s){var ot=new Headers((x?x[_r]:0)||($ instanceof Request?$[_r]||{}:{}));ot.forEach(function(Jt,Gt){k(Gt)&&(qe[Gt]=Jt)})}return ce[Rt]=qe,ct(xr,ce),ce}function P($){var x="";try{F($)||(typeof $=="string"?x+="(url: '".concat($,"')"):x+="(url: '".concat($.url,"')"))}catch(q){Qi(E,15,"Failed to grab failed fetch diagnostics message",{exception:re(q)})}return x}function J($,x,q,N,V,Z,ce){if(!V)return;function we(he,Pe,qe){var ot=qe||{};ot.fetchDiagnosticsMessage=P(q),Pe&&(ot.exception=re(Pe)),wn(E,he,Hd+"fetch call"+Ud,ot)}V[Wi]=Oa(),V[Bt]=x,yn(xr,V,function(){var he=V[yl]("Fetch",s,Z),Pe;try{H&&(Pe=H({status:x,request:q,response:N}))}catch{wn(E,104,Od)}if(he){Pe!==void 0&&(he[ci]=yt(yt({},he.properties),Pe));var qe=V[wl]();Y(O,E[Yt],V,he,null,qe)}else we(14,null,{requestSentTime:V[Mr],responseFinishedTime:V[Wi]})},function(he){we(18,he,null)})}function ie($){if($&&$[_r])try{var x=$[_r].get(Re[0]);return vd(x)}catch(q){wn(E,18,Ld,{fetchDiagnosticsMessage:P($),exception:re(q)})}}function Y($,x,q,N,V,Z){var ce=!0,we=$[Rr];if(we>0){var he={item:N,properties:V,sysProperties:Z,context:q?q[Gi]:null,aborted:q?!!q[Zo]:!1};ce=Yg(x,$,he,"initializer")}ce&&E[Md](N,V,Z)}}),n}return e.prototype.processTelemetry=function(n,r){this.processNext(n,r)},e.prototype.addDependencyInitializer=function(n){return null},e.identifier="AjaxDependencyPlugin",e}(li),Cr="duration",st="tags",hu="deviceType",xt="data",Rn="name",ma="traceID",be="length",_a="stringify",so="measurements",dn="dataType",co="envelopeType",Sr="toString",Vr="enqueue",Wr="count",En="push",Sl="emitLineDelimitedJson",ei="clear",nc="markAsSent",Zi="clearSent",ff="bufferOverride",Pi="BUFFER_KEY",jn="SENT_BUFFER_KEY",No="concat",Di="MAX_BUFFER_SIZE",Ri="triggerSend",ut="diagLog",gu="initialize",Mi="_sender",Ni="endpointUrl",zi="instrumentationKey",Il="customHeaders",Qg="maxBatchSizeInBytes",Tl="onunloadDisableBeacon",kl="isBeaconApiDisabled",Zg="alwaysUseXhrOverride",ep="enableSessionStorageBuffer",Qt="_buffer",tp="onunloadDisableFetch",np="disableSendBeaconSplit",Ka="getSenderInst",wr="_onError",pu="_onPartialSuccess",Xa="_onSuccess",vu="itemsReceived",mu="itemsAccepted",_u="baseType",rc="sampleRate",p0="getHashCodeScore",yu="baseType",Be="baseData",nt="properties",Bd="true";function Ke(t,e,n){return Ae(t,e,n,vs)}function v0(t,e,n){var r=n[st]=n[st]||{},o=e.ext=e.ext||{},i=e[st]=e[st]||[],a=o.user;a&&(Ke(r,Le.userAuthUserId,a.authId),Ke(r,Le.userId,a.id||a.localId));var s=o.app;s&&Ke(r,Le.sessionId,s.sesId);var c=o.device;c&&(Ke(r,Le.deviceId,c.id||c.localId),Ke(r,Le[hu],c.deviceClass),Ke(r,Le.deviceIp,c.ip),Ke(r,Le.deviceModel,c.model),Ke(r,Le[hu],c[hu]));var u=e.ext.web;if(u){Ke(r,Le.deviceLanguage,u.browserLang),Ke(r,Le.deviceBrowserVersion,u.browserVer),Ke(r,Le.deviceBrowser,u.browser);var l=n[xt]=n[xt]||{},d=l[Be]=l[Be]||{},v=d[nt]=d[nt]||{};Ke(v,"domain",u.domain),Ke(v,"isManual",u.isManual?Bd:null),Ke(v,"screenRes",u.screenRes),Ke(v,"userConsent",u.userConsent?Bd:null)}var f=o.os;f&&(Ke(r,Le.deviceOS,f[Rn]),Ke(r,Le.deviceOSVersion,f.osVer));var h=o.trace;h&&(Ke(r,Le.operationParentId,h.parentID),Ke(r,Le.operationName,Qe(t,h[Rn])),Ke(r,Le.operationId,h[ma]));for(var p={},w=i[be]-1;w>=0;w--){var y=i[w];ke(y,function(U,B){p[U]=B}),i.splice(w,1)}ke(i,function(U,B){p[U]=B});var C=yt(yt({},r),p);C[Le.internalSdkVersion]||(C[Le.internalSdkVersion]=Qe(t,"javascript:".concat(m0.Version),64)),n[st]=_h(C)}function sr(t,e,n){F(t)||ke(t,function(r,o){ic(o)?n[r]=o:le(o)?e[r]=o:ba()&&(e[r]=Kt()[_a](o))})}function uo(t,e){F(t)||ke(t,function(n,r){t[n]=r||e})}function lo(t,e,n,r){var o=new K_(t,r,e);Ke(o,"sampleRate",n[Zh]),(n[Be]||{}).startTime&&(o.time=oi(n[Be].startTime)),o.iKey=n.iKey;var i=n.iKey.replace(/-/g,"");return o[Rn]=o[Rn].replace("{0}",i),v0(t,n,o),n[st]=n[st]||[],_h(o)}function fo(t,e){F(e[Be])&&z(t,1,46,"telemetryItem.baseData cannot be null.")}var m0={Version:"3.3.9"};function _0(t,e,n){fo(t,e);var r=e[Be][so]||{},o=e[Be][nt]||{};sr(e[xt],o,r),F(n)||uo(o,n);var i=e[Be];if(F(i))return Hr(t,"Invalid input for dependency data"),null;var a=i[nt]&&i[nt][fd]?i[nt][fd]:"GET",s=new Br(t,i.id,i.target,i[Rn],i[Cr],i.success,i.responseCode,a,i.type,i.correlationContext,o,r),c=new ao(Br[dn],s);return lo(t,Br[co],e,c)}function rp(t,e,n){fo(t,e);var r={},o={};e[yu]!==Kn[dn]&&(r.baseTypeSource=e[yu]),e[yu]===Kn[dn]?(r=e[Be][nt]||{},o=e[Be][so]||{}):e[Be]&&sr(e[Be],r,o),sr(e[xt],r,o),F(n)||uo(r,n);var i=e[Be][Rn],a=new Kn(t,i,r,o),s=new ao(Kn[dn],a);return lo(t,Kn[co],e,s)}function y0(t,e,n){fo(t,e);var r=e[Be][so]||{},o=e[Be][nt]||{};sr(e[xt],o,r),F(n)||uo(o,n);var i=e[Be],a=Nt.CreateFromInterface(t,i,o,r),s=new ao(Nt[dn],a);return lo(t,Nt[co],e,s)}function w0(t,e,n){fo(t,e);var r=e[Be],o=r[nt]||{},i=r[so]||{};sr(e[xt],o,i),F(n)||uo(o,n);var a=new Fr(t,r[Rn],r.average,r.sampleCount,r.min,r.max,r.stdDev,o,i),s=new ao(Fr[dn],a);return lo(t,Fr[co],e,s)}function $0(t,e,n){fo(t,e);var r,o=e[Be];!F(o)&&!F(o[nt])&&!F(o[nt][Cr])?(r=o[nt][Cr],delete o[nt][Cr]):!F(e[xt])&&!F(e[xt][Cr])&&(r=e[xt][Cr],delete e[xt][Cr]);var i=e[Be],a;((e.ext||{}).trace||{})[ma]&&(a=e.ext.trace[ma]);var s=i.id||a,c=i[Rn],u=i.uri,l=i[nt]||{},d=i[so]||{};if(F(i.refUri)||(l.refUri=i.refUri),F(i.pageType)||(l.pageType=i.pageType),F(i.isLoggedIn)||(l.isLoggedIn=i.isLoggedIn[Sr]()),!F(i[nt])){var v=i[nt];ke(v,function(p,w){l[p]=w})}sr(e[xt],l,d),F(n)||uo(l,n);var f=new or(t,c,u,r,l,d,s),h=new ao(or[dn],f);return lo(t,or[co],e,h)}function b0(t,e,n){fo(t,e);var r=e[Be],o=r[Rn],i=r.uri||r.url,a=r[nt]||{},s=r[so]||{};sr(e[xt],a,s),F(n)||uo(a,n);var c=new Yo(t,o,i,void 0,a,s,r),u=new ao(Yo[dn],c);return lo(t,Yo[co],e,u)}function C0(t,e,n){fo(t,e);var r=e[Be].message,o=e[Be].severityLevel,i=e[Be][nt]||{},a=e[Be][so]||{};sr(e[xt],i,a),F(n)||uo(i,n);var s=new Go(t,r,o,i,a),c=new ao(Go[dn],s);return lo(t,Go[co],e,c)}var op=function(){function t(e,n){var r=[],o=!1,i=n.maxRetryCnt;this._get=function(){return r},this._set=function(a){return r=a,r},He(t,this,function(a){a[Vr]=function(s){if(a[Wr]()>=n.eventsLimitInMem){o||(z(e,2,105,"Maximum in-memory buffer size reached: "+a[Wr](),!0),o=!0);return}s.cnt=s.cnt||0,!(!F(i)&&s.cnt>i)&&r[En](s)},a[Wr]=function(){return r[be]},a.size=function(){for(var s=r[be],c=0;c<r[be];c++)s+=r[c].item[be];return n[Sl]||(s+=2),s},a[ei]=function(){r=[],o=!1},a.getItems=function(){return r.slice(0)},a.batchPayloads=function(s){if(s&&s[be]>0){var c=[];ee(s,function(l){c[En](l.item)});var u=n[Sl]?c.join(`
`):"["+c.join(",")+"]";return u}return null},a.createNew=function(s,c,u){var l=r.slice(0);s=s||e,c=c||{};var d=u?new ip(s,c):new df(s,c);return ee(l,function(v){d[Vr](v)}),d}})}return t.__ieDyn=1,t}(),df=function(t){Nn(e,t);function e(n,r){var o=t.call(this,n,r)||this;return He(e,o,function(i,a){i[nc]=function(s){a[ei]()},i[Zi]=function(s){}}),o}return e.__ieDyn=1,e}(op),S0=["AI_buffer","AI_sentBuffer"],ip=function(t){Nn(e,t);function e(r,o){var i=t.call(this,r,o)||this,a=!1,s=o?.namePrefix,c=o[ff]||{getItem:tl,setItem:sg},u=c.getItem,l=c.setItem,d=o.maxRetryCnt;return He(e,i,function(v,f){var h=B(e[Pi]),p=B(e[jn]),w=R(),y=p[No](w),C=v._set(h[No](y));C[be]>e[Di]&&(C[be]=e[Di]),X(e[jn],[]),X(e[Pi],C),v[Vr]=function(j){if(v[Wr]()>=e[Di]){a||(z(r,2,67,"Maximum buffer size reached: "+v[Wr](),!0),a=!0);return}j.cnt=j.cnt||0,!(!F(d)&&j.cnt>d)&&(f[Vr](j),X(e[Pi],v._get()))},v[ei]=function(){f[ei](),X(e[Pi],v._get()),X(e[jn],[]),a=!1},v[nc]=function(j){X(e[Pi],v._set(U(j,v._get())));var O=B(e[jn]);O instanceof Array&&j instanceof Array&&(O=O[No](j),O[be]>e[Di]&&(z(r,1,67,"Sent buffer reached its maximum size: "+O[be],!0),O[be]=e[Di]),X(e[jn],O))},v[Zi]=function(j){var O=B(e[jn]);O=U(j,O),X(e[jn],O)},v.createNew=function(j,O,W){W=!!W;var Q=v._get().slice(0),te=B(e[jn]).slice(0);j=j||r,O=O||{},v[ei]();var _=W?new e(j,O):new df(j,O);return ee(Q,function(S){_[Vr](S)}),W&&_[nc](te),_};function U(j,O){var W=[],Q=[];return ee(j,function(te){Q[En](te.item)}),ee(O,function(te){!$e(te)&&ht(Q,te.item)===-1&&W[En](te)}),W}function B(j){var O=j;return O=s?s+"_"+O:O,H(O)}function H(j){try{var O=u(r,j);if(O){var W=Kt().parse(O);if(le(W)&&(W=Kt().parse(W)),W&&Ce(W))return W}}catch(Q){z(r,1,42," storage key: "+j+", "+xe(Q),{exception:re(Q)})}return[]}function X(j,O){var W=j;try{W=s?s+"_"+W:W;var Q=JSON[_a](O);l(r,W,Q)}catch(te){l(r,W,JSON[_a]([])),z(r,2,41," storage key: "+W+", "+xe(te)+". Buffer cleared",{exception:re(te)})}}function R(){var j=[];try{return ee(S0,function(O){var W=I(O);if(j=j[No](W),s){var Q=s+"_"+O,te=I(Q);j=j[No](te)}}),j}catch(O){z(r,2,41,"Transfer events from previous buffers: "+xe(O)+". previous Buffer items can not be removed",{exception:re(O)})}return[]}function I(j){try{var O=H(j),W=[];return ee(O,function(Q){var te={item:Q,cnt:0};W[En](te)}),cg(r,j),W}catch{}return[]}}),i}var n;return n=e,e.VERSION="_1",e.BUFFER_KEY="AI_buffer"+n.VERSION,e.SENT_BUFFER_KEY="AI_sentBuffer"+n.VERSION,e.MAX_BUFFER_SIZE=2e3,e}(op),I0=function(){function t(e){He(t,this,function(n){n.serialize=function(a){var s=r(a,"root");try{return Kt()[_a](s)}catch(c){z(e,1,48,c&&$e(c[Sr])?c[Sr]():"Error serializing object",null,!0)}};function r(a,s){var c="__aiCircularRefCheck",u={};if(!a)return z(e,1,48,"cannot serialize object because it is null or undefined",{name:s},!0),u;if(a[c])return z(e,2,50,"Circular reference detected while serializing object",{name:s},!0),u;if(!a.aiDataContract){if(s==="measurements")u=i(a,"number",s);else if(s==="properties")u=i(a,"string",s);else if(s==="tags")u=i(a,"string",s);else if(Ce(a))u=o(a,s);else{z(e,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{Kt()[_a](a),u=a}catch(l){z(e,1,48,l&&$e(l[Sr])?l[Sr]():"Error serializing object",null,!0)}}return u}return a[c]=!0,ke(a.aiDataContract,function(l,d){var v=$e(d)?d()&1:d&1,f=$e(d)?d()&4:d&4,h=d&2,p=a[l]!==void 0,w=qt(a[l])&&a[l]!==null;if(v&&!p&&!h)z(e,1,24,"Missing required field specification. The field is required but not present on source",{field:l,name:s});else if(!f){var y=void 0;w?h?y=o(a[l],l):y=r(a[l],l):y=a[l],y!==void 0&&(u[l]=y)}}),delete a[c],u}function o(a,s){var c;if(a)if(!Ce(a))z(e,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{c=[];for(var u=0;u<a[be];u++){var l=a[u],d=r(l,s+"["+u+"]");c[En](d)}}return c}function i(a,s,c){var u;return a&&(u={},ke(a,function(l,d){if(s==="string")d===void 0?u[l]="undefined":d===null?u[l]="null":d[Sr]?u[l]=d[Sr]():u[l]="invalid field: toString() is not defined.";else if(s==="number")if(d===void 0)u[l]="undefined";else if(d===null)u[l]="null";else{var v=parseFloat(d);u[l]=v}else u[l]="invalid field: "+c+" is of unknown type.",z(e,1,u[l],null,!0)})),u}})}return t.__ieDyn=1,t}(),T0=8,k0=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var n=this.getHashCode(e)/t.INT_MAX_VALUE;return n*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e[be]<T0;)e=e[No](e);for(var n=5381,r=0;r<e[be];++r)n=(n<<5)+n+e.charCodeAt(r),n=n&n;return Math.abs(n)},t.INT_MAX_VALUE=2147483647,t}(),x0=function(){function t(){var e=this,n=new k0,r=new mg;e.getSamplingScore=function(o){var i=0;return o[st]&&o[st][r.userId]?i=n.getHashCodeScore(o[st][r.userId]):o.ext&&o.ext.user&&o.ext.user.id?i=n[p0](o.ext.user.id):o[st]&&o[st][r.operationId]?i=n.getHashCodeScore(o[st][r.operationId]):o.ext&&o.ext.telemetryTrace&&o.ext.telemetryTrace[ma]?i=n.getHashCodeScore(o.ext.telemetryTrace[ma]):i=Math.random()*100,i}}return t}(),E0=function(){function t(e,n){this.INT_MAX_VALUE=2147483647;var r=n||ro(null);(e>100||e<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[rc]=e,this.samplingScoreGenerator=new x0}return t.prototype.isSampledIn=function(e){var n=this[rc],r=!1;return n==null||n>=100||e.baseType===Fr[dn]?!0:(r=this.samplingScoreGenerator.getSamplingScore(e)<n,r)},t}(),Ue,$n,jt=void 0,Vd="",P0=65e3;function Wd(t){try{return t.responseText}catch{}return null}function D0(t){return t&&t.sendPOST}var zd=ya((Ue={endpointUrl:qs(vs,nf+Ko)},Ue[Sl]=Ge(),Ue.maxBatchInterval=15e3,Ue[Qg]=102400,Ue.disableTelemetry=Ge(),Ue[ep]=Ge(!0),Ue.isRetryDisabled=Ge(),Ue[kl]=Ge(!0),Ue[np]=Ge(!0),Ue.disableXhr=Ge(),Ue[tp]=Ge(),Ue[Tl]=Ge(),Ue[zi]=jt,Ue.namePrefix=jt,Ue.samplingPercentage=qs(R0,100),Ue[Il]=jt,Ue.convertUndefined=jt,Ue.eventsLimitInMem=1e4,Ue[ff]=!1,Ue.httpXHROverride={isVal:D0,v:jt},Ue[Zg]=Ge(),Ue.transports=jt,Ue.retryCodes=jt,Ue.corsPolicy=jt,Ue.maxRetryCnt={isVal:ic,v:10},Ue)),Kd="X-Set-Cross-Origin-Resource-Policy";function R0(t){return!isNaN(t)&&t>0&&t<=100}var M0=($n={},$n[Kn.dataType]=rp,$n[Go.dataType]=C0,$n[or.dataType]=$0,$n[Yo.dataType]=b0,$n[Nt.dataType]=y0,$n[Fr.dataType]=w0,$n[Br.dataType]=_0,$n),N0=function(t){Nn(e,t);function e(){var n=t.call(this)||this;n.priority=1001,n.identifier=_g;var r,o,i,a,s,c,u,l,d=0,v,f,h,p,w,y,C,U,B,H,X,R,I,j,O,W,Q,te,_,S,L,E,T,ae,se,ue,g,k;return He(e,n,function(m,A){Ta(),m.pause=function(){ot(),a=!0},m.resume=function(){a&&(a=!1,o=null,x(),qe())},m.flush=function(b,M,K){if(b===void 0&&(b=!0),!a){ot();try{return m[Ri](b,null,K||1)}catch(ne){z(m[ut](),1,22,"flush failed, telemetry will not be collected: "+xe(ne),{exception:re(ne)})}}},m.onunloadFlush=function(){if(!a)if(C||S)try{return m[Ri](!0,V,2)}catch(b){z(m[ut](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+xe(b),{exception:re(b)})}else m.flush(!1)},m.addHeader=function(b,M){l[b]=M},m[gu]=function(b,M,K,ne){m.isInitialized()&&z(m[ut](),1,28,"Sender is already initialized"),A[gu](b,M,K,ne);var ge=m.identifier;c=new I0(M.logger),r=0,o=null,i=0,m[Mi]=null,u=0;var fe=m[ut]();h=ur(Ut("Sender"),M.evtNamespace&&M.evtNamespace()),f=_y(h),m._addHook(Xe(b,function(Ie){var je=Ie.cfg;je.storagePrefix&&uf(je.storagePrefix);var St=Xt(null,je,M),ye=St.getExtCfg(ge,zd),hf=ye[Ni];if(p&&hf===p){var pc=je[Ni];pc&&pc!==hf&&(ye[Ni]=pc)}var lp=dt("CompressionStream");k=rs("zipPayload",je,!1),$e(lp)||(k=!1);var di=ye.corsPolicy;di?(di==="same-origin"||di==="same-site"||di==="cross-origin")&&n.addHeader(Kd,di):delete l[Kd],ea(ye[zi])&&(ye[zi]=je[zi]),De(m,"_senderConfig",{g:function(){return ye}}),w!==ye[Ni]&&(p=w=ye[Ni]),M.activeStatus()===Vn.PENDING?m.pause():M.activeStatus()===Vn.ACTIVE&&m.resume(),H&&H!==ye[Il]&&ee(H,function(it){delete l[it.header]}),y=ye[Qg],C=(ye[Tl]===!1||ye[kl]===!1)&&Li(),U=ye[Tl]===!1&&Li(),B=ye[kl]===!1&&Li(),S=ye[Zg],L=!!ye.disableXhr,g=ye.retryCodes;var vc=ye[ff],go=!!ye[ep]&&(!!vc||pa()),gf=ye.namePrefix,fp=go!==W||go&&te!==gf||go&&Q!==vc;if(m[Qt]){if(fp)try{m[Qt]=m[Qt].createNew(fe,ye,go)}catch(it){z(m[ut](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+xe(it),{exception:re(it)})}x()}else m[Qt]=go?new ip(fe,ye):new df(fe,ye);te=gf,W=go,Q=vc,E=!ye[tp]&&Fl(!0),se=!!ye[np],m._sample=new E0(ye.samplingPercentage,fe),R=ye[zi],!ea(R)&&!ho(R,je)&&z(fe,1,100,"Invalid Instrumentation key "+R),H=ye[Il],le(p)&&!el(p)&&H&&H[be]>0?ee(H,function(it){n.addHeader(it.header,it.value)}):H=null,_=ye.enableSendPromise;var pf=oe();ue?ue.SetConfig(pf):(ue=new h_,ue[gu](pf,fe));var ka=ye.httpXHROverride,xa=null,hi=null,dp=Df([3,1,2],ye.transports);xa=ue&&ue[Ka](dp,!1);var mc=ue&&ue.getFallbackInst();T=function(it,fr){return ie(mc,it,fr)},ae=function(it,fr){return ie(mc,it,fr,!1)},xa=S?ka:xa||ka||mc,m[Mi]=function(it,fr){return ie(xa,it,fr)},E&&(v=we);var _c=Df([3,1],ye.unloadTransports);E||(_c=_c.filter(function(it){return it!==2})),hi=ue&&ue[Ka](_c,!0),hi=S?ka:hi||ka,(S||ye.unloadTransports||!v)&&hi&&(v=function(it,fr){return ie(hi,it,fr)}),v||(v=T),X=ye.disableTelemetry,I=ye.convertUndefined||jt,j=ye.isRetryDisabled,O=ye.maxBatchInterval}))},m.processTelemetry=function(b,M){M=m._getTelCtx(M);var K=M[ut]();try{var ne=Me(b,K);if(!ne)return;var ge=Ne(b,K);if(!ge)return;var fe=c.serialize(ge),Ie=m[Qt];x(fe);var je={item:fe,cnt:0};Ie[Vr](je),qe()}catch(St){z(K,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+xe(St),{exception:re(St)})}m.processNext(b,M)},m.isCompletelyIdle=function(){return!a&&d===0&&m._buffer[Wr]()===0},m.getOfflineListener=function(){return f},m._xhrReadyStateChange=function(b,M,K){if(!ce(M))return me(b,M,K)},m[Ri]=function(b,M,K){b===void 0&&(b=!0);var ne;if(!a)try{var ge=m[Qt];if(X)ge[ei]();else{if(ge[Wr]()>0){var fe=ge.getItems();$t(K||0,b),M?ne=M.call(m,fe,b):ne=m[Mi](fe,b)}i=+new Date}ot()}catch(je){var Ie=Sh();(!Ie||Ie>9)&&z(m[ut](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+xe(je),{exception:re(je)})}return ne},m.getOfflineSupport=function(){return{getUrl:function(){return p},createPayload:Pt,serialize:ct,batch:yn,shouldProcess:function(b){return!!Me(b)}}},m._doTeardown=function(b,M){m.onunloadFlush(),Lo(f,!1),Ta()},m[wr]=function(b,M,K){if(!ce(b))return ve(b,M)},m[pu]=function(b,M){if(!ce(b))return Ee(b,M)},m[Xa]=function(b,M){if(!ce(b))return ze(b)},m._xdrOnLoad=function(b,M){if(!ce(M))return G(b,M)};function G(b,M){var K=Wd(b);if(b&&(K+""=="200"||K===""))r=0,m[Xa](M,0);else{var ne=Vc(K);ne&&ne[vu]&&ne[vu]>ne[mu]&&!j?m[pu](M,ne):m[wr](M,wh(b))}}function oe(){try{var b={xdrOnComplete:function(K,ne,ge){var fe=wt(ge);if(fe)return G(K,fe)},fetchOnComplete:function(K,ne,ge,fe){var Ie=wt(fe);if(Ie)return q(K.status,Ie,K.url,Ie[be],K.statusText,ge||"")},xhrOnComplete:function(K,ne,ge){var fe=wt(ge);if(fe)return me(K,fe,fe[be])},beaconOnRetry:function(K,ne,ge){return Z(K,ne,ge)}},M={enableSendPromise:_,isOneDs:!1,disableCredentials:!1,disableXhr:L,disableBeacon:!B,disableBeaconSync:!U,senderOnCompleteCallBack:b};return M}catch{}return null}function me(b,M,K){b.readyState===4&&q(b.status,M,b.responseURL,K,Ms(b),Wd(b)||b.response)}function ve(b,M,K){z(m[ut](),2,26,"Failed to send telemetry.",{message:M}),m._buffer&&m._buffer[Zi](b)}function Ee(b,M){for(var K=[],ne=[],ge=M.errors.reverse(),fe=0,Ie=ge;fe<Ie.length;fe++){var je=Ie[fe],St=b.splice(je.index,1)[0];Jt(je.statusCode)?ne[En](St):K[En](St)}b[be]>0&&m[Xa](b,M[mu]),K[be]>0&&m[wr](K,Ms(null,["partial success",M[mu],"of",M.itemsReceived].join(" "))),ne[be]>0&&(he(ne),z(m[ut](),2,40,"Partial success. Delivered: "+b[be]+", Failed: "+K[be]+". Will retry to send "+ne[be]+" our of "+M[vu]+" items"))}function ze(b,M){m._buffer&&m._buffer[Zi](b)}function wt(b){try{if(b){var M=b,K=M.oriPayload;return K&&K[be]?K:null}}catch{}return null}function Me(b,M){if(X)return!1;if(!b)return M&&z(M,1,7,"Cannot send empty telemetry"),!1;if(b.baseData&&!b[_u])return M&&z(M,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(b[_u]||(b[_u]="EventData"),!m[Mi])return M&&z(M,1,28,"Sender was not initialized"),!1;if(P(b))b[Zh]=m._sample[rc];else return M&&z(M,2,33,"Telemetry item was sampled out and not sent",{SampleRate:m._sample[rc]}),!1;return!0}function Ne(b,M){var K=b.iKey||R,ne=e.constructEnvelope(b,K,M,I);if(!ne){z(M,1,47,"Unable to create an AppInsights envelope");return}var ge=!1;if(b[st]&&b[st][Kc]&&(ee(b[st][Kc],function(fe){try{fe&&fe(ne)===!1&&(ge=!0,Hr(M,"Telemetry processor check returns false"))}catch(Ie){z(M,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+xe(Ie),{exception:re(Ie)},!0)}}),delete b[st][Kc]),!ge)return ne}function ct(b){var M=Vd,K=m[ut]();try{var ne=Me(b,K),ge=null;ne&&(ge=Ne(b,K)),ge&&(M=c.serialize(ge))}catch{}return M}function yn(b){var M=Vd;return b&&b[be]&&(M="["+b.join(",")+"]"),M}function Pt(b){var M=$();return{urlString:p,data:b,headers:M}}function P(b){return m._sample.isSampledIn(b)}function J(b,M,K,ne){M===200&&b?m._onSuccess(b,b[be]):ne&&m[wr](b,ne)}function ie(b,M,K,ne){ne===void 0&&(ne=!0);var ge=function(je,St,ye){return J(M,je,St,ye)},fe=Y(M),Ie=b&&b.sendPOST;return Ie&&fe&&(ne&&m._buffer[nc](M),ue.preparePayload(function(je){return Ie(je,ge,!K)},k,fe,!K)),null}function Y(b){if(Ce(b)&&b[be]>0){var M=m[Qt].batchPayloads(b),K=$(),ne={data:M,urlString:p,headers:K,disableXhrSync:L,disableFetchKeepAlive:!E,oriPayload:b};return ne}return null}function $(){try{var b=l||{};return el(p)&&(b[Re[6]]=Re[7]),b}catch{}return null}function x(b){var M=b?b[be]:0;return m[Qt].size()+M>y?((!f||f.isOnline())&&m[Ri](!0,null,10),!0):!1}function q(b,M,K,ne,ge,fe){var Ie=null;if(m._appId||(Ie=Vc(fe),Ie&&Ie.appId&&(m._appId=Ie.appId)),(b<200||b>=300)&&b!==0){if((b===301||b===307||b===308)&&!N(K)){m[wr](M,ge);return}if(f&&!f.isOnline()){if(!j){var je=10;he(M,je),z(m[ut](),2,40,". Offline - Response Code: ".concat(b,". Offline status: ").concat(!f.isOnline(),". Will retry to send ").concat(M.length," items."))}return}!j&&Jt(b)?(he(M),z(m[ut](),2,40,". Response code "+b+". Will retry to send "+M[be]+" items.")):m[wr](M,ge)}else N(K),b===206?(Ie||(Ie=Vc(fe)),Ie&&!j?m[pu](M,Ie):m[wr](M,ge)):(r=0,m[Xa](M,ne))}function N(b){return u>=10?!1:!F(b)&&b!==""&&b!==p?(p=b,++u,!0):!1}function V(b,M){if(v)v(b,!1);else{var K=ue&&ue[Ka]([3],!0);return ie(K,b,M)}}function Z(b,M,K){var ne=b,ge=ne&&ne.oriPayload;if(se)ae&&ae(ge,!0),z(m[ut](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var fe=[],Ie=0;Ie<ge[be];Ie++){var je=ge[Ie],St=[je],ye=Y(St);K(ye,M)?m._onSuccess(St,St[be]):fe[En](je)}fe[be]>0&&(ae&&ae(fe,!0),z(m[ut](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function ce(b){try{if(b&&b[be])return le(b[0])}catch{}return null}function we(b,M){var K=null;if(Ce(b)){for(var ne=b[be],ge=0;ge<b[be];ge++)ne+=b[ge].item[be];var fe=ue.getSyncFetchPayload();fe+ne<=P0?K=2:Li()?K=3:(K=1,z(m[ut](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ie=ue&&ue[Ka]([K],!0);return ie(Ie,b,M)}return null}function he(b,M){if(M===void 0&&(M=1),!(!b||b[be]===0)){var K=m[Qt];K[Zi](b),r++;for(var ne=0,ge=b;ne<ge.length;ne++){var fe=ge[ne];fe.cnt=fe.cnt||0,fe.cnt++,K[Vr](fe)}Pe(M),qe()}}function Pe(b){var M=10,K;if(r<=1)K=M;else{var ne=(Math.pow(2,r)-1)/2,ge=Et(Math.random()*ne*M)+1;ge=b*ge,K=Ya(rh(ge,3600),M)}var fe=gn()+K*1e3;o=fe}function qe(){if(!s&&!a){var b=o?Ya(0,o-gn()):0,M=Ya(O,b);s=pn(function(){s=null,m[Ri](!0,null,1)},M)}}function ot(){s&&s.cancel(),s=null,o=null}function Jt(b){return F(g)?b===401||b===408||b===429||b===500||b===502||b===503||b===504:g[be]&&g.indexOf(b)>-1}function Gt(){var b="getNotifyMgr",M,K=m.core;return K&&(K[b]?M=K[b]():M=K._notificationManager),M}function $t(b,M){var K=Gt();if(K&&K.eventsSendRequest)try{K.eventsSendRequest(b,M)}catch(ne){z(m[ut](),1,74,"send request notification failed: "+xe(ne),{exception:re(ne)})}}function ho(b,M){var K=M.disableInstrumentationKeyValidation,ne=F(K)?!1:K;if(ne)return!0;var ge="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",fe=new RegExp(ge);return fe.test(b)}function Ta(){m[Mi]=null,m[Qt]=null,m._appId=null,m._sample=null,l={},f=null,r=0,o=null,i=null,a=!1,s=null,c=null,u=0,d=0,v=null,h=null,p=null,w=null,y=0,C=!1,H=null,X=!1,R=null,I=jt,j=!1,W=null,te=jt,L=!1,E=!1,se=!1,T=null,ae=null,ue=null,De(m,"_senderConfig",{g:function(){return yh({},zd)}})}}),n}return e.constructEnvelope=function(n,r,o,i){var a;r!==n.iKey&&!F(r)?a=yt(yt({},n),{iKey:r}):a=n;var s=M0[a.baseType]||rp;return s(o,a,i)},e}(li),ap="AuthenticatedUserContext",fi="track",xl="snippet",A0="getCookieMgr",q0="startTrackPage",U0="stopTrackPage",wu="flush",L0="startTrackEvent",O0="stopTrackEvent",H0="addTelemetryInitializer",Xd="pollInternalLogs",$u="getPlugin",bu="evtNamespace",j0=fi+"Event",F0=fi+"Trace",B0=fi+"Metric",V0=fi+"PageView",W0=fi+"Exception",z0=fi+"DependencyData",K0="set"+ap,X0="clear"+ap,J0="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json",oc="connectionString",Cu="version",$r="queue",Ki="instrumentationKey",Ao="userOverrideEndpointUrl",Su="endpointUrl",Ai="onunloadFlush",Dt="context",Jd="addHousekeepingBeforeUnload",Iu="sendMessage",G0="updateSnippetDefinitions",Zt,To,ko,Tu,qi,Gd=[xl,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],sp="iKeyUsage",cp="CdnUsage",up="SdkLoaderVer",Y0="zipPayload",Ja=void 0,Q0={samplingRate:100,maxSendNumber:1},Z0={monthInterval:3,daysOfMonth:[28]},Ga={disabled:!0,limit:Ft(Q0),interval:Ft(Z0)},ew=(Zt={},Zt[oc]=Ja,Zt.endpointUrl=Ja,Zt[Ki]=Ja,Zt[Ao]=Ja,Zt.diagnosticLogInterval=qs(tw,1e4),Zt.featureOptIn=(To={},To[sp]={mode:3},To[cp]={mode:2},To[up]={mode:2},To[Y0]={mode:1},To),Zt.throttleMgrCfg=Ft((ko={},ko[109]=Ft(Ga),ko[106]=Ft(Ga),ko[111]=Ft(Ga),ko[110]=Ft(Ga),ko)),Zt.extensionConfig=Ft((Tu={},Tu.AppInsightsCfgSyncPlugin=Ft({cfgUrl:J0,syncMode:2}),Tu)),Zt);function tw(t){return t&&t>0}function Yd(t,e){return xu(function(n,r){At(e,function(o){var i=o&&o.value,a=null;!o.rejected&&i&&(t[oc]=i,a=ug(i)),n(a)})})}var Uw=function(){function t(e){var n=this,r,o,i,a,s,c,u,l,d,v,f,h,p,w;He(t,this,function(y){B(),De(y,"config",{g:function(){return l}}),ee(["pluginVersionStringArr","pluginVersionString"],function(R){De(y,R,{g:function(){return u?u[R]:null}})}),a=""+(e.sv||e[Cu]||""),e[$r]=e[$r]||[],e[Cu]=e[Cu]||2;var C=Lt(e.config||{},ew);l=C.cfg,d=new o0,De(y,"appInsights",{g:function(){return d}}),o=new jy,r=new g0,i=new N0,u=new f_,De(y,"core",{g:function(){return u}}),X(Xe(C,function(){var R=l[oc];if(ea(R)){var I=xu(function(Q,te){At(Yd(l,R),function(_){if(_.rejected)Q(null);else{var S=l[Ki],L=_.value;S=L&&L.instrumentationkey||S,Q(S)}})}),j=l[Ao];F(j)&&(j=xu(function(Q,te){At(Yd(l,R),function(_){if(_.rejected)Q(null);else{var S=l[Su],L=_.value,E=L&&L.ingestionendpoint;S=E?E+Ko:S,Q(S)}})})),l[Ki]=I,l[Su]=j}if(le(R)&&R){var O=ug(R),W=O.ingestionendpoint;l.endpointUrl=l[Ao]?l[Ao]:W+Ko,l[Ki]=O.instrumentationkey||l[Ki]}l.endpointUrl=l[Ao]?l[Ao]:l[Su]})),y[xl]=e,y[wu]=function(R,I){R===void 0&&(R=!0);var j;return Hs(u,function(){return"AISKU.flush"},function(){R&&!I&&(j=Xr(function(Q){I=Q}));var O=1,W=function(){O--,O===0&&I()};ee(u.getChannels(),function(Q){Q&&(O++,Q[wu](R,W))}),W()},null,R),j},y[Ai]=function(R){R===void 0&&(R=!0),ee(u.getChannels(),function(I){I[Ai]?I[Ai]():I[wu](R)})},y.loadAppInsights=function(R,I,j){R===void 0&&(R=!1),R&&Dp("Legacy Mode is no longer supported");function O(W){if(W){var Q="";F(a)||(Q+=a),y[Dt]&&y[Dt].internal&&(y[Dt].internal.snippetVer=Q||"-"),ke(y,function(te,_){le(te)&&!$e(_)&&te&&te[0]!=="_"&&ht(Gd,te)===-1&&W[te]!==_&&(W[te]=_)})}}return Hs(y.core,function(){return"AISKU.loadAppInsights"},function(){u.initialize(l,[i,o,r,d,v],I,j),De(y,"context",{g:function(){return o[Dt]}}),f||(f=new V_(u));var W=nw();W&&y[Dt]&&(y[Dt].internal.sdkSrc=W),O(y[xl]),y.emptyQueue(),y[Xd](),y[Jd](y),X(Xe(C,function(){var Q=!1;l.throttleMgrCfg[109]&&(Q=!l.throttleMgrCfg[109].disabled),!f.isReady()&&l.extensionConfig&&l.extensionConfig[v.identifier]&&Q&&f.onReadyState(!0),!h&&!l[oc]&&rs(sp,l,!0)&&(f[Iu](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),h=!0),!p&&y[Dt].internal.sdkSrc&&y[Dt].internal.sdkSrc.indexOf("az416426")!=-1&&rs(cp,l,!0)&&(f[Iu](110,"See Cdn support notice at aka.ms/JsActiveCdn"),p=!0),!w&&parseInt(a)<6&&rs(up,l,!0)&&(f[Iu](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),w=!0)}))}),y},y[G0]=function(R){Mv(R,y,function(I){return I&&ht(Gd,I)===-1})},y.emptyQueue=function(){try{if(Ce(y.snippet[$r])){for(var R=y.snippet[$r].length,I=0;I<R;I++){var j=y.snippet[$r][I];j()}y.snippet[$r]=void 0,delete y.snippet[$r]}}catch(W){var O={};W&&$e(W.toString)&&(O.exception=W.toString())}},y[Jd]=function(R){if(Ml()||Qd()){var I=function(){if(R[Ai](!1),$e(y.core[$u])){var O=n.core[$u](gc);if(O){var W=O.plugin;W&&W[Dt]&&W[Dt]._sessionManager&&W[Dt]._sessionManager.backup()}}},j=!1;c||(c=ur(s,u[bu]&&u[bu]())),X(Xe(l,function(O){var W=O.cfg,Q=R.appInsights,te=Xt(null,W,Q.core),_=te.getExtCfg(Q.identifier||yg);H();var S=W.disablePageUnloadEvents;_.disableFlushOnBeforeUnload||(C_(I,S,c)&&(j=!0),Qu(I,S,c)&&(j=!0),!j&&!Qv()&&z(u.logger,1,19,"Could not add handler for beforeunload and pagehide")),!j&&!_.disableFlushOnUnload&&Qu(I,S,c)}))}},y.getSender=function(){return i},y.unload=function(R,I,j){var O=!1,W;R&&!I&&(W=Xr(function(te){I=te}));function Q(te){O||(O=!0,B(),I&&I(te))}return y[Ai](R),H(),u.unload&&u.unload(R,Q,j),W},Ui(y,d,[A0,j0,V0,"trackPageViewPerformance",W0,"_onerror",F0,B0,q0,U0,L0,O0]),Ui(y,U,[z0,"addDependencyListener","addDependencyInitializer"]),Ui(y,u,[H0,Xd,"stopPollingInternalLogs",$u,"addPlugin",bu,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),Ui(y,function(){var R=o[Dt];return R?R.user:null},[K0,X0]);function U(){return r}function B(){s=Ut("AISKU"),c=null,r=null,o=null,i=null,a=null,f=null,h=!1,p=!1,w=!1,v=new Ty}function H(){c&&(S_(null,c),I_(null,c))}function X(R){u.addUnloadHook(R)}})}return t.prototype.addDependencyInitializer=function(e){return null},t}();function nw(){if(qi)return qi;var t=null,e=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(t=r.src)}catch{}if(t){try{var o=t.toLowerCase();if(o){var i="";ee(n,function(a,s){if(_t(o,a)!==-1)return i="cdn"+(s+1),_t(o,"/scripts/")===-1&&(_t(o,"/next/")!==-1?i+="-next":_t(o,"/beta/")!==-1&&(i+="-beta")),qi=i+(e?".mod":""),-1})}}catch{}qi=t}return qi}export{Gn as _,D as i,Aw as k,Uw as y};
